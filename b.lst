mads 2.0.4 build 13 (8 May 16)
Source: b.asm
     1 				;FastSprites	= 1		;rysuj duszki bez maski za pomocą EOR, zielony zamiast czerwonego
     2 = 0001			A800			= 1		;poprawka do emulatora A800 (IRQ)
     3 = 0001			PSP_CODE		= 1		;
     4
     5 							opt h-
     6  FF FF 00 20 05 20 A9 +  			ins "title.obx"
     7  00 20 05 20 A9 FF 8D +  			ins "logo.obx"
     8 							opt h+
     9 					
    10
    11 = D01F			CONSOL		equ $D01F
    12 = D40B			VCOUNT		equ $D40B
    13 = D40A			WSYNC		equ $D40A
    14 = 02C4			COLPFS0		equ 708
    15 = 02C5			COLPFS1		equ 709
    16 = 02C6			COLPFS2		equ 710
    17 = 02C7			COLPFS3		equ 711
    18 = 02C8			COLBAKS		equ 712
    19 = D01A			COLBAK		equ $D01A
    20 = D016			COLPF0		equ $D016
    21 = D017			COLPF1		equ $D017
    22 = D018			COLPF2		equ $D018
    23 = D019			COLPF3		equ $D019
    24 = D20A			RANDOM		equ $D20A
    25 = 0230			DLPTRS		equ $0230
    26 = D402			DLPTR		equ $D402
    27 = 02F4			CHBAS		equ $02F4
    28 = D409			CHBASE		equ $D409
    29 = D01B			GTIACTL		equ $D01B  ;priorytet wyswietlania kolorow i duszkow +piaty duszek
    30 = 026F			GTIACTLS		equ $26F
    31 = D01D			PMCTL		equ $D01D
    32 = 022F			DMACTLS		equ $022F
    33 = D400			DMACTL		equ $D400
    34 = D407			PMBASE		equ $D407
    35 = D000			HPOSP		equ $D000
    36 = D004			HPOSM		equ $D004
    37 = D012			COLPM		equ $D012
    38 = 02C0			COLPMS		equ $02C0
    39 = D00C			SIZEM		equ $D00C
    40 = D008			SIZEP		equ $D008
    41 = D405			VSCROL		equ $D405
    42 = D404			HSCROL		equ $D404
    43 = D208			AUDCTL		equ $D208
    44 = D200			AUDF1		equ $D200
    45 = D202			AUDF2		equ $D202
    46 = D204			AUDF3		equ $D204
    47 = D206			AUDF4		equ $D206
    48 = D20E			IRQEN		equ $D20E
    49 = 0216			VTIMER1		equ $0216
    50 = 0214			VTIMER4		equ $0214
    51 = D209			STIMER		equ $D209
    52 = D201			AUDC1		equ $D201
    53 = D203			AUDC2		equ $D203
    54 = D205			AUDC3		equ $D205
    55 = D207			AUDC4		equ $D207
    56 = 0200			DLIV			equ $0200
    57 = D40E			NMIEN		equ $D40E
    58 = D300			JOY			equ $D300
    59 = D010			FIRE			equ $D010
    60 = 0222			VBLKI		equ $222
    61 = 0224			VBLKD		equ $224	
    62 = D20F			SKCTL		equ $d20f
    63 = D00D			GRAFP0		equ $d00d
    64 = D00E			GRAFP1		equ $d00e
    65 = D00F			GRAFP2		equ $d00f
    66 = D010			GRAFP3		equ $d010
    67 = D011			GRAFM		equ $d011
    68
    69 				;od 0 do 71 pok0
    70 				;od 104 do 126 pok1
    71
    72 							opt h-
    73 							org 23
    74 				;zmienne
    75 				posx 	org *+1	;equ 227	;0
    76 				posY	org *+1	;	equ 228	;1
    77 				movX	org *+1	;	equ 229	;2
    78 				movY	org *+1	;	equ 230	;3
    79 				movX0	org *+1	;equ 231	;4
    80 				movY0	org *+1	;equ 232	;5
    81 				movYs	org *+1	;equ 233	;6
    82 				sirq	org *+1	;equ 234	;7
    83 				ramka	org *+1	;equ 235	;8
    84 				vblFlaga	org *+1	;	equ 236	;9
    85 				pauza		org *+1	;equ 237	;10
    86 				stan_gry		org *+1	;equ 238	;11
    87 				trafienie		org *+1	;equ 239	;12
    88 				startMapy		org *+1	;equ 240	;13
    89 				lastEnemy		org *+1	;equ 241	;14
    90
    91
    92 				vblX		org *+1	;equ 242	;15
    93 				vblY		org *+1	;equ 243	;16
    94 				vblA		org *+1	;equ 244	;17
    95 				znacznik	org *+1	;equ 245	;18
    96 				bazyIle	org *+1	;equ 246	;19		;ile baz		;42
    97
    98
    99 				kanal_audf1			org *+2	;equ 0
   100 				kanal_audf2			org *+2	;equ 2
   101 				kanal_audf3			org *+2	;equ 4
   102 				kanal_audc1			org *+2	;equ 6
   103 				kanal_audc2			org *+2	;equ 8
   104 				kanal_audc3			org *+2	;equ 10			;54
   105
   106
   107 				pom0	org *+1	;equ 247	;21
   108 				pom0a	org *+1	;equ 248	;22
   109 				pom0b	org *+1	;equ 249	;23
   110 				pom0c	org *+1	;equ 250	;24
   111 				pom0d	org *+1	;equ 251	;25
   112 				pom0e	org *+1	;equ 252	;26
   113 				pom0f	org *+1	;equ 253	;27
   114 				kolpom0	org *+1	;equ 254
   115 				zegar		org *+1	;equ 255	; wcześniej 20		;63
   116
   117
   118 				licznikPokey	org *+1	;equ 40
   119 				znakX1	org *+1	;equ 43
   120 				znakY1	org *+1	;equ 44
   121 				znakDX	org *+1	;equ 45
   122 				znakDY	org *+1	;equ 46		;82
   123 				znakX		org *+18	;equ 47 ;18
   124 				znakY		org *+18	;equ znakX+18	;18
   125
   126 				pom		org *+2	;	equ 28
   127 				pom1		org *+2	;equ 30
   128 				pom2		org *+2	;equ 32
   129 				pom3		org *+2	;equ 34
   130 				screenL	org *+2	;equ 36
   131 				screenH	org *+2	;equ 38
   132 				strz	org *+2	;equ 23
   133 				strz1	org *+2	;equ 25
   134 				strz0	org *+1	;equ 27
   135 				strz0a	org *+1	;equ 96
   136 				strz0b	org *+1	;equ 97
   137 				strz0c	org *+1	;equ 98
   138 				strz0d	org *+1	;equ 99
   139 				strz0e	org *+1	;equ 100
   140 				strz0f	org *+1	;equ 101	
   141 				rejX		org *+1	;equ 41
   142 				rejA		org *+1	;equ 42
   143
   144 				muzyka	org *+1	;equ 83
   145 				rejY		org *+1	;equ 84
   146 					
   147 				;tu procedura pok1 (104)
   148
   149
   150 							org 204
   151 				pom0g		org *+1	;equ 85
   152 				flaga		org *+1	;equ 86
   153 				bankStos	org *+1	;equ 87
   154 				kolorPanel	org *+1	;equ 88
   155 				rodzajSpeech	org *+1	;equ 89
   156 				ramka4	org *+1	;equ 90
   157 				bombIle	org *+1	;equ 91
   158 				czyRakiety	org *+1	;equ 92
   159 				rads		org *+1	;equ 93
   160 				powtorz	org *+1	;equ 94
   161 				sJoy		org *+1	;equ 95		;214
   162
   163 						
   164 							org $1200
   165 				fazaWybuch	org *+1
   166 				enemyPosX	org *+6
   167 				enemyPosY	org *+6
   168 				formacjaX	org *+1
   169 				forLicznik	org *+1
   170 				formacja_zbite	org *+1
   171 				dowodca		org *+1		
   172
   173 				ntscf		org *+1
   174 				kolorCzerwony	org *+1	
   175 				kolorMapa		org *+1
   176 				kolorRound		org *+1
   177 				kolor1ups		org *+1
   178 				kolorLevel		org *+1
   179 				kolorLogo		org *+1
   180 				kolorGreen		org *+1
   181 				kolorYellow		org *+1
   182 				kolorRed		org *+1
   183 				KOLOR1			org *+1
   184 				KOLOR3			org *+1
   185
   186 = 000B			ile_Kolorow	equ 11
   187
   188 				;od 237 zmienne RMT
   189 							opt h+
   190 							
   191
   192
   193 = 00B1			pozWyniki	equ 177  ;pozycja tabeli wynikow
   194 = 0004			OPTION		equ 4
   195 = 0002			SELECT		equ 2
   196 = 0001			START		equ 1
   197
   198
   199 = F800			sprites1	equ $F800	;adres duszkow gdy wlaczony jest panel
   200 = B800			znaki1	equ $B800		;2 bit w starszym bajcie skasowany
   201 = BC00			znaki2	equ znaki1+$400	;drugi zestaw znakow
   202 = 0200			obraz1a	equ $200
   203 = 0388			obraz1	equ obraz1a+8+8*48
   204 = 08F8			obraz2a	equ obraz1+28*48+48
   205 = 0A80			obraz2	equ obraz2a+8+8*48
   206
   207 = 0003			b					equ 3	;11		;nr pierwszego zanku bazy
   208 = 001F			firstBombaChar		equ b+28		;pierwszy znak bomby
   209 = 0023			firstMeteorChar		equ firstBombaChar+4		;meteoru
   210 = 0027			firstRakietaChar	equ firstMeteorChar+4
   211 = 002F			firstWybuchChar		equ firstRakietaChar+8	;47
   212 = 003F			firstMalyWybuchChar	equ firstWybuchChar+16	;+20	;63
   213 = 0041			firstStrzalChar		equ firstMalyWybuchChar+2 ;63+2=65	
   214 = 0045			firstPociskChar		equ firstStrzalChar+4	;65+4=69
   215 															;69+5=74 duszki
   216 = 0010			startWyniki equ 16
   217 = 001D			lenDlist	equ 29	;ilosc linii ekranu w dlist
   218
   219 = 0000			EKOLOR0		equ 0		;duszek przyjmuje kolor tła, oprócz gwiazd
   220 = 0080			EKOLOR1		equ 128		;duszek wymusza negatyw
   221
   222
   223
   224 				;kolory
   225
   226 = 000C			kolorLiczby		equ $0c  ;bialy
   227 = 00B4			pozliczby		equ 180
   228
   229 							icl 'banki.asm'
Source: banki.asm
     1 = 00FF			ROM_on	equ %11111111
     2 = 00FE			BANK0	equ %11111110
     3 = 00EE			BANK1	equ %11101110
     4 = 00EF			BANK1s	equ %11101111		;z wlaczonym systemem
     5 = 00EA			BANK2	equ %11101010
     6 = 00EB			BANK2s	equ %11101011		
     7 = 00E6			BANK3	equ %11100110
     8 = 00E7			BANK3s	equ %11100111
     9 = 00E2			BANK4	equ %11100010
    10 = 00E3			BANK4s	equ %11100011
    11 = D301			PORTB	equ $D301
    12 = 4000			EXTMEM	equ $4000
    13
    14 = 00CB			bom0		equ 203
    15 = 00CC			bom0a	equ 204
    16 = 00CD			bom		equ 205
    17 = 00CF			bom1		equ 207
    18 = 00CB			bom2		equ 203
    19
    20 = 17B7			enemy		equ dlist+35
    21 = 17BD			enemyX		equ enemy+6
    22 = 17C3			enemyX0		equ enemy+12
    23 = 17C9			enemyY		equ enemy+18
    24 = 17CF			enemyY0		equ enemy+24
    25 = 17D5			enemyDX		equ enemy+30
    26 = 17DB			enemyDY		equ enemy+36
    27 = 17E1			enemyFaza	equ enemy+42
    28 = 17E7			enemyBank	equ enemy+48
    29 = 17ED			enemyShapeH	equ enemy+54
    30 = 17F3			enemyDX0		equ enemy+60
    31 = 17F9			enemyDY0		equ enemy+66
    32
    33 = 0100			strzal		equ $100		;wyrównanie do strony
    34 = 0104			strzalX		equ strzal+4
    35 = 0108			strzalX1		equ strzal+8
    36 = 010C			strzalX2		equ strzal+12
    37 = 0110			strzalX3		equ strzal+16
    38
    39 = 0114			strzalY1		equ strzal+20
    40 = 0118			strzalY2		equ strzal+24
    41 = 011C			strzalY3		equ strzal+28
    42 = 0120			strzalYbit	equ strzal+32
    43 = 0124			strzalKierunek	equ strzal+36
    44 = 0128			strzalTlo	equ strzal+40
    45 = 012C			strzalTlo1	equ strzal+44
    46 = 0130			strzalY		equ strzal+48
    47 = 0134			strzalXbit	equ strzal+52
    48
    49 = CF98			sample		equ sample6adr+sample6len
    50 = CFA4			sampleEnd	equ sample+12
    51
    52
    53 = 4000			enemy1shapeTab	equ EXTMEM
    54 = 4080			enemy1maskTab		equ EXTMEM+$080
    55 = 4100			enemy2shapeTab	equ EXTMEM+$100
    56 = 4180			enemy2maskTab	equ EXTMEM+$180
    57 = 4200			enemy1adr	equ EXTMEM+$200
    58 = 4D00			enemy2adr	equ enemy1adr+2816	;512+3*768
    59 = 5800			enemy1mask	equ enemy2adr+2816
    60
    61 = 4000			enemy3shapeTab	equ EXTMEM
    62 = 4080			enemy3maskTab	equ EXTMEM+$080
    63 = 4100			enemy4shapeTab	equ EXTMEM+$100
    64 = 4180			enemy4maskTab	equ EXTMEM+$180
    65 = 4200			enemy3adr	equ EXTMEM+$200
    66 = 4D00			enemy4adr	equ enemy3adr+2816	;512+3*768
    67 = 5800			enemy3mask	equ enemy4adr+2816
    68
    69 = 4000			enemy5shapeTab	equ EXTMEM
    70 = 4080			enemy5maskTab	equ EXTMEM+$080
    71 = 4100			explo_shapeTab	equ EXTMEM+$100
    72 = 4180			explo_maskTab	equ EXTMEM+$180
    73 = 4200			enemy5adr	equ EXTMEM+$200
    74 = 4D00			enemy5mask	equ enemy5adr+2816
    75 = 5800			explo_adr	equ enemy5mask+2816
    76 = 5B00			explo_mask	equ explo_adr+768	;96+3*144=528, ale wyrównujemy do strony czyli 768
    77
    78 = D800			sample1adr	equ $D800	;EXTMEM	;bank4	BlastOff
    79 = 0902			sample1len	equ 2306
    80 = E102			sample2adr	equ sample1adr+sample1len  ;+dlugosc poprzedniego sampla   GameOver
    81 = 086A			sample2len	equ 2154 ;+21	;sampel z duke nukem
    82 = E96C			sample3adr	equ sample2adr+sample2len	;Alive alive
    83 = 04C9			sample3len	equ 1225	;2233
    84 = EE35			sample4adr	equ sample3adr+sample3len		;condition red
    85 = 09B5			sample4len	equ 2485
    86 = C000			sample5adr	equ $C000		;Spy ship sighted
    87 = 07C9			sample5len	equ 1993
    88 = C7C9			sample6adr	equ sample5adr+sample5len		;Battle Station(formation)
    89 = 07CF			sample6len	equ 1999
    90
    91 				;Wolna pamięć od $f7ea do $fbff 
    92 							org $2000
    93
    94 FFFF> 2000-20A1> 70 70 + dlist_lm	dta b(112,112,112)
    95 2003 42 09 20					dta b($42),a(nap_lm)
    96 2006 41 00 20					dta b($41),a(dlist_lm)
    97
    98 2009 33 6F 72 72 79 0C + nap_lm		dta d'Sorry, you need more than 64KB RAM   !!!'
    99 							
   100 				;komunikat za mało pamięci
   101 = 2031			print_lowMemory	equ *
   102 2031 A9 00 8D 30 02				mva <dlist_lm DLPTRS
   103 2036 A9 20 8D 31 02				mva >dlist_lm DLPTRS+1
   104 203B A9 0C 8D C5 02				mva #12 709
   105 2040 A9 00 8D C6 02				mva #0 710
   106 2045 60						rts
   107 							
   108 				;sprawdzamy czy jest wiecej niz 64KB, znacznik Z=1 jest więcej niż 64
   109 = 2046			sprawdz_memory	equ *
   110 2046 A9 F0 8D 00 40				mva #%11110000 EXTMEM
   111 204B A9 EE 8D 01 D3				mva #BANK1 PORTB
   112 2050 A9 0F 8D 00 40				mva #%00001111 EXTMEM
   113 2055 A9 FE 8D 01 D3				mva #BANK0 PORTB
   114 205A AD 00 40					lda EXTMEM
   115 205D C9 F0					cmp #%11110000
   116 205F 60						rts
   117 							
   118 = 2060			testMem		equ *
   119 2060 78						sei
   120 2061 A9 00 8D 0E D4				mva #0 NMIEN
   121 2066 A9 FE 8D 01 D3				mva #BANK0 PORTB
   122 							
   123 206B 20 46 20					jsr sprawdz_memory
   124 206E D0 0C					bne @+
   125 2070 A9 FF 8D 01 D3				mva #ROM_on PORTB
   126 2075 A9 40 8D 0E D4				mva #%01000000 NMIEN
   127 207A 58						cli	
   128 207B 60						rts
   129 							
   130 207C A9 FF 8D 01 D3	@			mva #ROM_on PORTB
   131 2081 A9 40 8D 0E D4				mva #%01000000 NMIEN
   132 2086 58						cli		
   133 2087 A5 14					lda 20
   134 2089 C5 14					cmp 20
   135 208B F0 FC					beq *-2
   136 208D 20 31 20					jsr print_lowMemory
   137 2090 A9 3A 8D 2F 02				mva #58 DMACTLS
   138 							
   139 2095 AD 10 D0		@			lda FIRE
   140 2098 F0 FB					beq @-
   141 209A AD 10 D0		@			lda FIRE
   142 209D D0 FB					bne @-
   143 209F 6C 0A 00					jmp (10)		;skocz do DOS'a lub SELFTestu
   144
   145 02E2-02E3> 60 20					ini (testMem)
   146 							
   147 				/*			;org $2000-140
   148 							org $100
   149 							
   150 				dli_graph	dta b(112),b(112),b(112)
   151 							dta b($4a),a(bosco_graph)
   152 							dta b($4a),a(bosco_graph)
   153 							dta b($a)
   154 							dta b($4a),a(bosco_graph+$10)
   155 							dta b($a)
   156 							dta b($4a),a(bosco_graph+$20)
   157 							dta b($a)
   158 							dta b($4a),a(bosco_graph+$30)
   159 							dta b($a)
   160 							dta b($4a),a(bosco_graph+$40)
   161 							dta b($a)
   162 							dta b($4a),a(bosco_graph+$50)
   163 							dta b($a)
   164 							dta b($4a),a(bosco_graph+$60)
   165 							dta b($a)
   166 							dta b($4a),a(bosco_graph+$70)
   167 							dta b($a)
   168 							dta b($4a),a(bosco_graph+$80)
   169 							dta b($a)
   170 							dta b($4a),a(bosco_graph+$90)
   171 							dta b($a)
   172 							dta b($4a),a(bosco_graph+$a0)
   173 							dta b($41),a(dli_graph)
   174 							
   175 							org $600
   176 				bosco_graph	dta b(0)
   177 							dta b(%01010101,%01000000)
   178 							:14 dta b(0)
   179 							dta b(%01010000,%01010000)
   180 							:14 dta b(0)
   181 							dta b(%10010000,%00010000)
   182 							:14 dta b(0)
   183 							dta b(%10100000,%10100000)
   184 							:14 dta b(0)
   185 							dta b(%10101010,%10000000)
   186 							:14 dta b(0)
   187 							dta b(%10100000,%10100000,%00010101,%00000001,%01010000,%00010101,%01000001,%01010000,%01000000,%01000100,%00010101,%00000100,%00000100)
   188 							:3 dta b(0)
   189 							dta b(%10100000,%00101000,%10100010,%01000110,%00000000,%01100000,%01001010,%00100100,%10010000,%10001000,%10100010,%01001001,%00001000)
   190 							:3 dta b(0)
   191 							dta b(%10100000,%00101000,%10000000,%10001010,%10100000,%10000000,%00001000,%00001000,%10101000,%10001000,%10000000,%10001010,%10001000)
   192 							:3 dta b(0)
   193 							dta b(%10100000,%00101000,%10000000,%10000000,%00101000,%10000000,%00001000,%00001000,%10001010,%10001000,%10101010,%10001000,%10101000)
   194 							:3 dta b(0)
   195 							dta b(%11101010,%10101100,%11100010,%10001100,%00101000,%11100000,%10001110,%00101000,%10000010,%10001000,%10000000,%10001000,%00101000)
   196 							:3 dta b(0)
   197 							dta b(%11111111,%11110000,%00111111,%00001111,%11110000,%00111111,%11000011,%11110000,%11000000,%11001100,%11000000,%11001100,%00001100)
   198 							:2 dta b(0)
   199 							
   200 							org $2000
   201
   202 				iniscr		equ *
   203 							lda 20
   204 				@			cmp 20
   205 							beq @-
   206 					
   207 							mva #0 712
   208 							sta COLBAK
   209
   210 							lda $d014
   211 							and #$0e
   212 							beq @+
   213 							lda #$96	;NTSC
   214 							ldx #$44		;$34
   215 							ldy #$fa
   216 							jmp @+1
   217 				@			lda #$86	;PAL
   218 							ldx #$34
   219 							ldy #$fa
   220 				@			equ *
   221 							
   222 							sta 708
   223 							sta COLPF0
   224 							stx 709
   225 							stx COLPF1
   226 							sty 710
   227 							sty COLPF2	
   228 							
   229 							mva #<dli_graph DLPTR
   230 							sta DLPTRS
   231 							mva #>dli_graph DLPTR+1
   232 							sta DLPTRS+1
   233 						
   234 							mva #57 DMACTL		;pokaz ekran
   235 							sta DMACTLS
   236 							
   237 							lda 20
   238 				@			cmp 20
   239 							beq @-
   240 										
   241 							rts
   242
   243 							ini (iniscr) */
   243
   244
   245 20A2						org $8000
   246 							
   247 = 8000			znaki_ad	equ *	
   248 8000-B06A> 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
   249 					
   250 8008 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)	;znak #1 gwiazda
   251 8010 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)	;2 gwiazda
   252 					
   253 				;bazy
   254 8018 03				dta b(%00000011)		;1 znak  stacji
   255 8019 0F				dta b(%00001111)
   256 801A 3F				dta b(%00111111)
   257 801B 3F				dta b(%00111111)
   258 801C 0C				dta b(%00001100)
   259 801D FF				dta b(%11111111)
   260 801E FD				dta b(%11111101)
   261 801F F6				dta b(%11110110)
   262 					
   263 8020 56				dta b(%01010110)		;znak3
   264 8021 FD				dta b(%11111101)
   265 8022 FF				dta b(%11111111)
   266 8023 0C				dta b(%00001100)
   267 8024 3F				dta b(%00111111)
   268 8025 3F				dta b(%00111111)
   269 8026 0F				dta b(%00001111)
   270 8027 03				dta b(%00000011)
   271 					
   272 8028 C0				dta b(%11000000)		;znak4
   273 8029 30				dta b(%00110000)
   274 802A CC				dta b(%11001100)
   275 802B FC				dta b(%11111100)
   276 802C 30				dta b(%00110000)
   277 802D FF				dta b(%11111111)
   278 802E 7F				dta b(%01111111)
   279 802F 95				dta b(%10010101)
   280 					
   281 8030 9F				dta b(%10011111)		;znak5
   282 8031 7F				dta b(%01111111)
   283 8032 FF				dta b(%11111111)
   284 8033 30				dta b(%00110000)
   285 8034 FC				dta b(%11111100)
   286 8035 CC				dta b(%11001100)
   287 8036 30				dta b(%00110000)
   288 8037 C0				dta b(%11000000)
   289 					
   290 8038 00				dta b(%00000000)		;znak6
   291 8039 00				dta b(%00000000)
   292 803A 00				dta b(%00000000)
   293 803B 00				dta b(%00000000)
   294 803C 00				dta b(%00000000)
   295 803D 00				dta b(%00000000)
   296 803E 3F				dta b(%00111111)
   297 803F 00				dta b(0)
   298 					
   299 8040 3F				dta b(%00111111)		;znak7
   300 8041 3F				dta b(%00111111)
   301 8042 00				dta b(%00000000)
   302 8043 00				dta b(%00000000)
   303 8044 00				dta b(%00000000)
   304 8045 00				dta b(%00000000)
   305 8046 00				dta b(%00000000)
   306 8047 00				dta b(%00000000)
   307 					
   308 8048 03				dta b(%00000011)		;znak8
   309 8049 0F				dta b(%00001111)
   310 804A 0C				dta b(%00001100)
   311 804B 03				dta b(%00000011)
   312 804C 03				dta b(%00000011)
   313 804D 00				dta b(%00000000)
   314 804E 00				dta b(%00000000)
   315 804F 00				dta b(%00000000)
   316 					
   317 8050 00				dta b(%00000000)		;znak9
   318 8051 C0				dta b(%11000000)
   319 8052 C0				dta b(%11000000)
   320 8053 F0				dta b(%11110000)
   321 8054 30				dta b(%00110000)
   322 8055 FC				dta b(%11111100)
   323 8056 CC				dta b(%11001100)
   324 8057 30				dta b(%00110000)
   325 					
   326 8058 C0				dta b(%11000000)		;znak10
   327 8059 F0				dta b(%11110000)
   328 805A 30				dta b(%00110000)
   329 805B C0				dta b(%11000000)
   330 805C C0				dta b(%11000000)
   331 805D 00				dta b(%00000000)
   332 805E 00				dta b(%00000000)
   333 805F 00				dta b(%00000000)
   334 					
   335 8060 00				dta b(%00000000)		;znak11
   336 8061 03				dta b(%00000011)
   337 8062 03				dta b(%00000011)
   338 8063 0F				dta b(%00001111)
   339 8064 0C				dta b(%00001100)
   340 8065 3F				dta b(%00111111)
   341 8066 33				dta b(%00110011)
   342 8067 0C				dta b(%00001100)
   343 					
   344 8068 30				dta b(%00110000)		;znak12
   345 8069 F0				dta b(%11110000)
   346 806A F0				dta b(%11110000)
   347 806B F0				dta b(%11110000)
   348 806C 3C				dta b(%00111100)
   349 806D 3C				dta b(%00111100)
   350 806E 3C				dta b(%00111100)
   351 806F 30				dta b(%00110000)
   352 					
   353 8070 0C				dta b(%00001100)		;znak13
   354 8071 0F				dta b(%00001111)
   355 8072 0F				dta b(%00001111)
   356 8073 0F				dta b(%00001111)
   357 8074 3C				dta b(%00111100)
   358 8075 3C				dta b(%00111100)
   359 8076 3C				dta b(%00111100)
   360 8077 0C				dta b(%00001100)
   361 					
   362 8078 00				dta b(%00000000)		;znak 14 I
   363 8079 03				dta b(%00000011)
   364 807A 03				dta b(%00000011)
   365 807B 03				dta b(%00000011)
   366 807C 03				dta b(%00000011)
   367 807D 03				dta b(%00000011)
   368 807E 03				dta b(%00000011)
   369 807F 00				dta b(%00000000)
   370 					
   371 8080 00				dta b(%00000000)		;znak 15 I
   372 8081 C0				dta b(%11000000)
   373 8082 80				dta b(%10000000)
   374 8083 C0				dta b(%11000000)
   375 8084 C0				dta b(%11000000)
   376 8085 80				dta b(%10000000)
   377 8086 C0				dta b(%11000000)
   378 8087 00				dta b(%00000000)
   379 					
   380 8088 00				dta b(0)				;znak 16  schoda wdol
   381 8089 30				dta b(%00110000)
   382 808A 0C				dta b(%00001100)
   383 808B 30				dta b(%00110000)
   384 808C 3C				dta b(%00111100)
   385 808D 0C				dta b(%00001100)
   386 808E 00 00			dta b(0,0)
   387 					
   388 8090 00				dta b(0)				;znak 17 schoda w gore
   389 8091 0C				dta b(%00001100)
   390 8092 30				dta b(%00110000)
   391 8093 0C				dta b(%00001100)
   392 8094 3C				dta b(%00111100)
   393 8095 30				dta b(%00110000)
   394 8096 00 00			dta b(0,0)
   395 					
   396 8098 00				dta b(%00000000)		;znak 18 jadro gwiazda A
   397 8099 30				dta b(%00110000)
   398 809A 30				dta b(%00110000)
   399 809B 3C				dta b(%00111100)
   400 809C 3C				dta b(%00111100)
   401 809D FF				dta b(%11111111)
   402 809E FB				dta b(%11111011)
   403 809F EB				dta b(%11101011)
   404 					
   405 80A0 EB				dta b(%11101011)		;znak 19 jadro gwiazda A
   406 80A1 EF				dta b(%11101111)
   407 80A2 FF				dta b(%11111111)
   408 80A3 3C				dta b(%00111100)
   409 80A4 3C				dta b(%00111100)
   410 80A5 0C				dta b(%00001100)
   411 80A6 0C				dta b(%00001100)
   412 80A7 00				dta b(%00000000)
   413 					
   414 80A8 00				dta b(%00000000)		;znak 20 jadro gwiazda B
   415 80A9 03				dta b(%00000011)
   416 80AA 0F				dta b(%00001111)
   417 80AB FA				dta b(%11111010)
   418 80AC 3E				dta b(%00111110)
   419 80AD 0F				dta b(%00001111)
   420 80AE 03				dta b(%00000011)
   421 80AF 00				dta b(%00000000)
   422 					
   423 80B0 00				dta b(%00000000)		;znak 21 jadro gwiazda B
   424 80B1 C0				dta b(%11000000)
   425 80B2 F0				dta b(%11110000)
   426 80B3 BC				dta b(%10111100)
   427 80B4 AF				dta b(%10101111)
   428 80B5 F0				dta b(%11110000)
   429 80B6 C0				dta b(%11000000)
   430 80B7 00				dta b(%00000000)
   431 					
   432 80B8 03				dta b(%00000011)		;trafione dzialko (b+20)
   433 80B9 0F				dta b(%00001111)
   434 80BA 3E				dta b(%00111110)
   435 80BB 32				dta b(%00110010)
   436 80BC E8				dta b(%11101000)
   437 80BD E8				dta b(%11101000)
   438 80BE AA				dta b(%10101010)
   439 80BF 22				dta b(%00100010)
   440 					
   441 80C0 28				dta b(%00101000)		;b+21
   442 80C1 E8				dta b(%11101000)
   443 80C2 E0				dta b(%11100000)
   444 80C3 E0				dta b(%11100000)
   445 80C4 30				dta b(%00110000)
   446 80C5 30				dta b(%00110000)
   447 80C6 0F				dta b(%00001111)
   448 80C7 03				dta b(%00000011)
   449 					
   450 80C8 C0				dta b(%11000000)		;b+22
   451 80C9 30				dta b(%00110000)
   452 80CA 3C				dta b(%00111100)
   453 80CB BC				dta b(%10111100)
   454 80CC 33				dta b(%00110011)
   455 80CD AF				dta b(%10101111)
   456 80CE AB				dta b(%10101011)
   457 80CF 28				dta b(%00101000)
   458 					
   459 80D0 88				dta b(%10001000)		;b+23
   460 80D1 AB				dta b(%10101011)
   461 80D2 2B				dta b(%00101011)
   462 80D3 2B				dta b(%00101011)
   463 80D4 AC				dta b(%10101100)
   464 80D5 AC				dta b(%10101100)
   465 80D6 30				dta b(%00110000)
   466 80D7 C0				dta b(%11000000)
   467 					
   468 80D8 3C				dta b(%00111100)		;/ baza B
   469 80D9 CC				dta b(%11001100)
   470 80DA FC				dta b(%11111100)
   471 80DB 30				dta b(%00110000)
   472 80DC 00 00 00 00			dta b(0,0,0,0)
   473 					
   474 80E0 00 00 00 00			dta b(0,0,0,0)
   475 80E4 0C				dta b(%00001100)
   476 80E5 0F				dta b(%00001111)
   477 80E6 33				dta b(%00110011)
   478 80E7 3F				dta b(%00111111)
   479 					
   480 80E8 3C				dta b(%00111100)		;\ baza B
   481 80E9 33				dta b(%00110011)
   482 80EA 3F				dta b(%00111111)
   483 80EB 0C				dta b(%00001100)
   484 80EC 00 00 00 00			dta b(0,0,0,0)
   485 					
   486 80F0 00 00 00 00			dta b(0,0,0,0)
   487 80F4 30				dta b(%00110000)
   488 80F5 F0				dta b(%11110000)
   489 80F6 CC				dta b(%11001100)
   490 80F7 FC				dta b(%11111100)
   491 					
   492 					
   493 80F8 00				dta b(%00000000)		;bomba
   494 80F9 00				dta b(%00000000)
   495 80FA 00				dta b(%00000000)
   496 80FB 20				dta b(%00100000)
   497 80FC 08				dta b(%00001000)
   498 80FD 01				dta b(%00000001)
   499 80FE 01				dta b(%00000001)
   500 80FF 21				dta b(%00100001)
   501 					
   502 8100 01				dta b(%00000001)
   503 8101 01				dta b(%00000001)
   504 8102 08				dta b(%00001000)
   505 8103 20				dta b(%00100000)
   506 8104 00				dta b(%00000000)
   507 8105 00				dta b(%00000000)
   508 8106 00				dta b(%00000000)
   509 8107 00				dta b(%00000000)
   510 					
   511 8108 80				dta b(%10000000)
   512 8109 80				dta b(%10000000)
   513 810A 00				dta b(%00000000)
   514 810B 02				dta b(%00000010)
   515 810C 48				dta b(%01001000)
   516 810D 50				dta b(%01010000)
   517 810E 50				dta b(%01010000)
   518 810F 52				dta b(%01010010)
   519 					
   520 8110 40				dta b(%01000000)
   521 8111 10				dta b(%00010000)
   522 8112 48				dta b(%01001000)
   523 8113 02				dta b(%00000010)
   524 8114 00				dta b(%00000000)
   525 8115 80				dta b(%10000000)
   526 8116 80				dta b(%10000000)
   527 8117 00				dta b(%00000000)
   528 					
   529 8118 02				dta b(%00000010)		;meteor
   530 8119 0A				dta b(%00001010)
   531 811A 2A				dta b(%00101010)
   532 811B 2A				dta b(%00101010)
   533 811C 2A				dta b(%00101010)
   534 811D 2A				dta b(%00101010)
   535 811E AA				dta b(%10101010)
   536 811F AA				dta b(%10101010)
   537 					
   538 8120 AB				dta b(%10101011)
   539 8121 AE				dta b(%10101110)
   540 8122 AE				dta b(%10101110)
   541 8123 AF				dta b(%10101111)
   542 8124 FF				dta b(%11111111)
   543 8125 3F				dta b(%00111111)
   544 8126 3F				dta b(%00111111)
   545 8127 0F				dta b(%00001111)
   546 					
   547 8128 80				dta b(%10000000)
   548 8129 BA				dta b(%10111010)
   549 812A BA				dta b(%10111010)
   550 812B AB				dta b(%10101011)
   551 812C AA				dta b(%10101010)
   552 812D AA				dta b(%10101010)
   553 812E AB				dta b(%10101011)
   554 812F AB				dta b(%10101011)
   555 					
   556 8130 AC				dta b(%10101100)
   557 8131 AC				dta b(%10101100)
   558 8132 AC				dta b(%10101100)
   559 8133 FC				dta b(%11111100)
   560 8134 FC				dta b(%11111100)
   561 8135 30				dta b(%00110000)
   562 8136 00				dta b(%00000000)
   563 8137 00				dta b(%00000000)
   564 					
   565 				;rakiety
   566 8138 20				dta b(%00100000)
   567 8139 20				dta b(%00100000)		;w gore
   568 813A FC				dta b(%11111100)
   569 813B 7C				dta b(%01111100)
   570 813C FC				dta b(%11111100)
   571 813D 20				dta b(%00100000)
   572 813E A8				dta b(%10101000)
   573 813F FC				dta b(%11111100)
   574 					
   575 8140 74				dta b(%01110100)		;pasek pionowy
   576 8141 74				dta b(%01110100)
   577 8142 74				dta b(%01110100)
   578 8143 74				dta b(%01110100)
   579 8144 74				dta b(%01110100)
   580 8145 FC				dta b(%11111100)
   581 8146 A8				dta b(%10101000)
   582 8147 20				dta b(%00100000)
   583 					
   584 8148 20				dta b(%00100000)		;|  pasek pionowy odwrotny
   585 8149 A8				dta b(%10101000)
   586 814A FC				dta b(%11111100)
   587 814B 74				dta b(%01110100)
   588 814C 74				dta b(%01110100)
   589 814D 74				dta b(%01110100)
   590 814E 74				dta b(%01110100)
   591 814F 74				dta b(%01110100)
   592 					
   593 8150 FC				dta b(%11111100)		;w dol
   594 8151 A8				dta b(%10101000)
   595 8152 20				dta b(%00100000)
   596 8153 FC				dta b(%11111100)
   597 8154 7C				dta b(%01111100)
   598 8155 FC				dta b(%11111100)
   599 8156 20				dta b(%00100000)
   600 8157 20				dta b(%00100000)
   601 									
   602 8158 0C				dta b(%00001100)		;w lewo
   603 8159 34				dta b(%00110100)
   604 815A BE				dta b(%10111110)
   605 815B BE				dta b(%10111110)
   606 815C 3C				dta b(%00111100)
   607 815D 0C				dta b(%00001100)
   608 815E 00 00			dta b(0,0)
   609 								
   610 8160 D4				dta b(%11010100)		;tyl rakiety -
   611 8161 97				dta b(%10010111)
   612 8162 BE				dta b(%10111110)
   613 8163 BE				dta b(%10111110)
   614 8164 97				dta b(%10010111)
   615 8165 D4				dta b(%11010100)
   616 8166 00 00			dta b(0,0)
   617 							
   618 8168 17				dta b(%00010111)		;tyl rakiety w prawo
   619 8169 D6				dta b(%11010110)
   620 816A BE				dta b(%10111110)
   621 816B BE				dta b(%10111110)
   622 816C D6				dta b(%11010110)
   623 816D 17				dta b(%00010111)
   624 816E 00 00			dta b(0,0)
   625 							
   626 8170 30				dta b(%00110000)		;w prawo
   627 8171 1C				dta b(%00011100)
   628 8172 BE				dta b(%10111110)
   629 8173 BE				dta b(%10111110)
   630 8174 3C				dta b(%00111100)
   631 8175 30				dta b(%00110000)
   632 8176 00 00			dta b(0,0)	
   633 					
   634 					;wybuchy
   635 8178 00 00 00 00			dta b(0,0,0,0)
   636 817C 02				dta b(%00000010)
   637 817D 09				dta b(%00001001)
   638 817E 39				dta b(%00111001)
   639 817F 25				dta b(%00100101)
   640 8180 25				dta b(%00100101)
   641 					
   642 8181 25				dta b(%00100101)
   643 8182 39				dta b(%00111001)
   644 8183 09				dta b(%00001001)
   645 8184 02				dta b(%00000010)
   646 8185 00 00 00			dta b(0,0,0)
   647 					
   648 8188 00 00 00 00			dta b(0,0,0,0)
   649 818C 80				dta b(%10000000)
   650 818D 60				dta b(%01100000)
   651 818E 6C				dta b(%01101100)
   652 818F 58				dta b(%01011000)
   653 8190 58				dta b(%01011000)
   654 					
   655 8191 58				dta b(%01011000)
   656 8192 6C				dta b(%01101100)
   657 8193 60				dta b(%01100000)
   658 8194 80				dta b(%10000000)
   659 8195 00 00 00			dta b(0,0,0)
   660 					
   661 					;2
   662 8198 00 02			dta b(0),b(%00000010)
   663 819A 09				dta b(%00001001)
   664 819B 25				dta b(%00100101)
   665 819C 25				dta b(%00100101)
   666 819D E5				dta b(%11100101)
   667 819E 95				dta b(%10010101)
   668 819F 96				dta b(%10010110)
   669 81A0 96				dta b(%10010110)
   670 					
   671 81A1 96				dta b(%10010110)
   672 81A2 95				dta b(%10010101)
   673 81A3 E5				dta b(%11100101)
   674 81A4 25				dta b(%00100101)
   675 81A5 25				dta b(%00100101)
   676 81A6 09				dta b(%00001001)
   677 81A7 02				dta b(%00000010)
   678 					
   679 81A8 00 80			dta b(0),b(%10000000)
   680 81AA 60				dta b(%01100000)
   681 81AB 58				dta b(%01011000)
   682 81AC 58				dta b(%01011000)
   683 81AD 5B				dta b(%01011011)
   684 81AE 56				dta b(%01010110)
   685 81AF 96				dta b(%10010110)
   686 81B0 96				dta b(%10010110)
   687 					
   688 81B1 96				dta b(%10010110)
   689 81B2 56				dta b(%01010110)
   690 81B3 5B				dta b(%01011011)
   691 81B4 58				dta b(%01011000)
   692 81B5 58				dta b(%01011000)
   693 81B6 60				dta b(%01100000)
   694 81B7 80				dta b(%10000000)	
   695 					;3
   696 81B8 00 02			dta b(0),b(%00000010)
   697 81BA 0A				dta b(%00001010)
   698 81BB 2B				dta b(%00101011)
   699 81BC 28				dta b(%00101000)
   700 81BD E8				dta b(%11101000)
   701 81BE AC				dta b(%10101100)
   702 81BF A0				dta b(%10100000)
   703 81C0 A0				dta b(%10100000)
   704 					
   705 81C1 A0				dta b(%10100000)
   706 81C2 AC				dta b(%10101100)
   707 81C3 E8				dta b(%11101000)
   708 81C4 28				dta b(%00101000)
   709 81C5 2B				dta b(%00101011)
   710 81C6 0A				dta b(%00001010)
   711 81C7 02				dta b(%00000010)
   712 					
   713 81C8 00 80			dta b(0),b(%10000000)
   714 81CA A0				dta b(%10100000)
   715 81CB E8				dta b(%11101000)
   716 81CC 28				dta b(%00101000)
   717 81CD 2B				dta b(%00101011)
   718 81CE 3A				dta b(%00111010)
   719 81CF 0A				dta b(%00001010)
   720 81D0 0A				dta b(%00001010)
   721 					
   722 81D1 0A				dta b(%00001010)
   723 81D2 3A				dta b(%00111010)
   724 81D3 2B				dta b(%00101011)
   725 81D4 28				dta b(%00101000)
   726 81D5 E8				dta b(%11101000)
   727 81D6 A0				dta b(%10100000)
   728 81D7 80				dta b(%10000000)
   729 					
   730 					;4
   731 81D8 00 02			dta b(0),b(%00000010)
   732 81DA 0B				dta b(%00001011)
   733 81DB 2C				dta b(%00101100)
   734 81DC 20				dta b(%00100000)
   735 81DD 20				dta b(%00100000)
   736 81DE B0				dta b(%10110000)
   737 81DF 80				dta b(%10000000)
   738 81E0 80				dta b(%10000000)
   739 					
   740 81E1 80				dta b(%10000000)
   741 81E2 B0				dta b(%10110000)
   742 81E3 20				dta b(%00100000)
   743 81E4 20				dta b(%00100000)
   744 81E5 2C				dta b(%00101100)
   745 81E6 0B				dta b(%00001011)
   746 81E7 02				dta b(%00000010)
   747 					
   748 81E8 00 80			dta b(0),b(%10000000)
   749 81EA E0				dta b(%11100000)
   750 81EB 38				dta b(%00111000)
   751 81EC 08				dta b(%00001000)
   752 81ED 08				dta b(%00001000)
   753 81EE 0E				dta b(%00001110)
   754 81EF 02				dta b(%00000010)
   755 81F0 02				dta b(%00000010)
   756 					
   757 81F1 02				dta b(%00000010)
   758 81F2 0E				dta b(%00001110)
   759 81F3 08				dta b(%00001000)
   760 81F4 08				dta b(%00001000)
   761 81F5 38				dta b(%00111000)
   762 81F6 E0				dta b(%11100000)
   763 81F7 80				dta b(%10000000)
   764 					
   765 					;maly wybuch
   766 81F8 20				dta b(%00100000)
   767 81F9 20				dta b(%00100000)
   768 81FA 88				dta b(%10001000)
   769 81FB 88				dta b(%10001000)
   770 81FC 20				dta b(%00100000)
   771 81FD 20				dta b(%00100000)
   772 81FE 88				dta b(%10001000)
   773 81FF 88				dta b(%10001000)
   774 					
   775 8200 22				dta b(%00100010)
   776 8201 22				dta b(%00100010)
   777 8202 88				dta b(%10001000)
   778 8203 88				dta b(%10001000)
   779 8204 22				dta b(%00100010)
   780 8205 22				dta b(%00100010)
   781 8206 88				dta b(%10001000)
   782 8207 88				dta b(%10001000)
   783 					
   784 = 8208			mwybuch2	equ *
   785 8208 88				dta b(%10001000)
   786 8209 88				dta b(%10001000)
   787 820A 20				dta b(%00100000)
   788 820B 20				dta b(%00100000)
   789 820C 88				dta b(%10001000)
   790 820D 88				dta b(%10001000)
   791 820E 20				dta b(%00100000)
   792 820F 20				dta b(%00100000)
   793 					
   794 8210 88				dta b(%10001000)
   795 8211 88				dta b(%10001000)
   796 8212 22				dta b(%00100010)
   797 8213 22				dta b(%00100010)
   798 8214 88				dta b(%10001000)
   799 8215 88				dta b(%10001000)
   800 8216 22				dta b(%00100010)
   801 8217 22				dta b(%00100010)
   802 					
   803 				;ksztalt wroga ^ kolor1
   804 = 8218			enemy1kszt	equ *
   805 				;faza 0
   806 8218 01				dta b(%00000001)
   807 8219 05				dta b(%00000101)
   808 821A 06				dta b(%00000110)
   809 821B 16				dta b(%00010110)
   810 821C 15				dta b(%00010101)
   811 821D 17				dta b(%00010111)
   812 821E 5C				dta b(%01011100)
   813 821F 50				dta b(%01010000)
   814 8220 70				dta b(%01110000)
   815 8221 40 40 40 40			:4 dta b(%01000000)
   816 8225 00 00 00			dta b(0,0,0)
   817 					
   818 8228 00				dta b(0)
   819 8229 C0				dta b(%11000000)
   820 822A 40				dta b(%01000000)
   821 822B 70				dta b(%01110000)
   822 822C 50				dta b(%01010000)
   823 822D 50				dta b(%01010000)
   824 822E 5C				dta b(%01011100)
   825 822F 14				dta b(%00010100)
   826 8230 14				dta b(%00010100)
   827 8231 04 04 04 04			:4 dta b(%00000100)
   828 8235 00 00 00			dta b(0,0,0)
   829 							
   830 				;faza1
   831 8238 00 00			dta b(0,0)
   832 823A 01				dta b(%00000001)
   833 823B 05				dta b(%00000101)
   834 823C 05				dta b(%00000101)
   835 823D 17				dta b(%00010111)
   836 823E 1C				dta b(%00011100)
   837 823F 70				dta b(%01110000)
   838 8240 C0				dta b(%11000000)
   839 8241 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   840 					
   841 8248 00				dta b(0)
   842 8249 50				dta b(%01010000)
   843 824A 54				dta b(%01010100)
   844 824B 64				dta b(%01100100)
   845 824C 64				dta b(%01100100)
   846 824D 54				dta b(%01010100)
   847 824E D4				dta b(%11010100)
   848 824F 14 14 14			:3 dta b(%00010100)
   849 8252 1C				dta b(%00011100)
   850 8253 10				dta b(%00010000)
   851 8254 10				dta b(%00010000)
   852 8255 70				dta b(%01110000)
   853 8256 40				dta b(%01000000)
   854 8257 00				dta b(0)
   855 							
   856 				;faza2	
   857 8258 00				dta b(0)
   858 8259 01				dta b(%00000001)
   859 825A 05				dta b(%00000101)
   860 825B 15				dta b(%00010101)
   861 825C 7F				dta b(%01111111)
   862 825D C0				dta b(%11000000)
   863 825E 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   864 8265 01				dta b(%00000001)
   865 8266 03				dta b(%00000011)
   866 8267 00				dta b(0)
   867 					
   868 8268 00				dta b(0)
   869 8269 54				dta b(%01010100)
   870 826A 54				dta b(%01010100)
   871 826B 64				dta b(%01100100)
   872 826C 64				dta b(%01100100)
   873 826D 54				dta b(%01010100)
   874 826E D4				dta b(%11010100)
   875 826F 14				dta b(%00010100)
   876 8270 14				dta b(%00010100)
   877 8271 1C				dta b(%00011100)
   878 8272 10				dta b(%00010000)
   879 8273 70				dta b(%01110000)
   880 8274 40				dta b(%01000000)
   881 8275 C0				dta b(%11000000)
   882 8276 00 00			dta b(0,0)
   883 							
   884 				;faza3
   885 8278 00 00			dta b(0,0)
   886 827A 05				dta b(%00000101)
   887 827B 15				dta b(%00010101)
   888 827C 03				dta b(%00000011)
   889 827D 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
   890 8285 01				dta b(%00000001)
   891 8286 07				dta b(%00000111)
   892 8287 00				dta b(0)
   893 					
   894 8288 00 00			dta b(0,0)
   895 828A 40				dta b(%01000000)
   896 828B 50				dta b(%01010000)
   897 828C 54				dta b(%01010100)
   898 828D 55				dta b(%01010101)
   899 828E D9				dta b(%11011001)
   900 828F 19				dta b(%00011001)
   901 8290 17				dta b(%00010111)
   902 8291 14				dta b(%00010100)
   903 8292 1C				dta b(%00011100)
   904 8293 50				dta b(%01010000)
   905 8294 70				dta b(%01110000)
   906 8295 C0				dta b(%11000000)
   907 8296 00 00			dta b(0,0)
   908
   909 				;faza4
   910 8298 00				dta b(0)
   911 8299 14				dta b(%00010100)
   912 829A 0D				dta b(%00001101)
   913 829B 03				dta b(%00000011)
   914 829C 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
   915 82A4 01				dta b(%00000001)
   916 82A5 05				dta b(%00000101)
   917 82A6 1C				dta b(%00011100)
   918 82A7 00				dta b(0)
   919 					
   920 82A8 00 00			dta b(0,0)
   921 82AA 40				dta b(%01000000)
   922 82AB 50				dta b(%01010000)
   923 82AC 54				dta b(%01010100)
   924 82AD D4				dta b(%11010100)
   925 82AE 15				dta b(%00010101)
   926 82AF 19				dta b(%00011001)
   927 82B0 19				dta b(%00011001)
   928 82B1 17				dta b(%00010111)
   929 82B2 54				dta b(%01010100)
   930 82B3 5C				dta b(%01011100)
   931 82B4 70				dta b(%01110000)
   932 82B5 C0				dta b(%11000000)
   933 82B6 00 00			dta b(0,0)
   934 							
   935 				;faza5		
   936 82B8 00				dta b(0)
   937 82B9 05				dta b(%00000101)
   938 82BA 01				dta b(%00000001)
   939 82BB 03				dta b(%00000011)
   940 82BC 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   941 82C3 01				dta b(%00000001)
   942 82C4 15				dta b(%00010101)
   943 82C5 0D				dta b(%00001101)
   944 82C6 00 00			dta b(0,0)
   945 					
   946 82C8 00 00			dta b(0,0)
   947 82CA 40				dta b(%01000000)
   948 82CB 50				dta b(%01010000)
   949 82CC 50				dta b(%01010000)
   950 82CD D4				dta b(%11010100)
   951 82CE 14				dta b(%00010100)
   952 82CF 15				dta b(%00010101)
   953 82D0 19				dta b(%00011001)
   954 82D1 59				dta b(%01011001)
   955 82D2 57				dta b(%01010111)
   956 82D3 5C				dta b(%01011100)
   957 82D4 70				dta b(%01110000)
   958 82D5 C0				dta b(%11000000)
   959 82D6 00 00			dta b(0,0)
   960 							
   961 				;faza6		
   962 82D8 01				dta b(%00000001)
   963 82D9 01				dta b(%00000001)
   964 82DA 03				dta b(%00000011)
   965 82DB 00 00 00 00 00 00		dta b(0,0,0,0,0,0)
   966 82E1 40				dta b(%01000000)
   967 82E2 D5				dta b(%11010101)
   968 82E3 35				dta b(%00110101)
   969 82E4 0D				dta b(%00001101)
   970 82E5 03				dta b(%00000011)
   971 82E6 00 00			dta b(0,0)
   972 					
   973 82E8 00				dta b(0)
   974 82E9 40				dta b(%01000000)
   975 82EA 40				dta b(%01000000)
   976 82EB 50				dta b(%01010000)
   977 82EC D0				dta b(%11010000)
   978 82ED 14				dta b(%00010100)
   979 82EE 34				dta b(%00110100)
   980 82EF 14				dta b(%00010100)
   981 82F0 14				dta b(%00010100)
   982 82F1 54				dta b(%01010100)
   983 82F2 64				dta b(%01100100)
   984 82F3 64				dta b(%01100100)
   985 82F4 54				dta b(%01010100)
   986 82F5 54				dta b(%01010100)
   987 82F6 00 00			dta b(0,0)
   988 							
   989 				;faza7
   990 82F8 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   991 82FF 40				dta b(%01000000)
   992 8300 D0				dta b(%11010000)
   993 8301 14				dta b(%00010100)
   994 8302 35				dta b(%00110101)
   995 8303 05				dta b(%00000101)
   996 8304 0D				dta b(%00001101)
   997 8305 03				dta b(%00000011)
   998 8306 00 00			dta b(0,0)
   999 					
  1000 8308 00				dta b(0)
  1001 8309 40				dta b(%01000000)
  1002 830A D0				dta b(%11010000)
  1003 830B 10				dta b(%00010000)
  1004 830C 10				dta b(%00010000)
  1005 830D 14				dta b(%00010100)
  1006 830E 34				dta b(%00110100)
  1007 830F 14				dta b(%00010100)
  1008 8310 14				dta b(%00010100)
  1009 8311 54				dta b(%01010100)
  1010 8312 54				dta b(%01010100)
  1011 8313 64				dta b(%01100100)
  1012 8314 64				dta b(%01100100)
  1013 8315 54				dta b(%01010100)
  1014 8316 D0				dta b(%11010000)
  1015 8317 00				dta b(0)
  1016 							
  1017 				;faza8
  1018 8318 00 00 00			dta b(0,0,0)
  1019 831B 40 40 40 40			:4 dta b(%01000000)
  1020 831F 50				dta b(%01010000)
  1021 8320 50				dta b(%01010000)
  1022 8321 D4				dta b(%11010100)
  1023 8322 17				dta b(%00010111)
  1024 8323 15				dta b(%00010101)
  1025 8324 36				dta b(%00110110)
  1026 8325 06				dta b(%00000110)
  1027 8326 0D				dta b(%00001101)
  1028 8327 01				dta b(%00000001)
  1029 					
  1030 8328 00 00 00			dta b(0,0,0)
  1031 832B 04 04 04 04			:4 dta b(%00000100)
  1032 832F 34				dta b(%00110100)
  1033 8330 14				dta b(%00010100)
  1034 8331 D4				dta b(%11010100)
  1035 8332 50 50 50			:3 dta b(%01010000)
  1036 8335 40				dta b(%01000000)
  1037 8336 40				dta b(%01000000)
  1038 8337 00				dta b(0)
  1039 							
  1040 				;faza9
  1041 8338 00				dta b(0)
  1042 8339 01				dta b(%00000001)
  1043 833A 05				dta b(%00000101)
  1044 833B 07				dta b(%00000111)
  1045 833C 04				dta b(%00000100)
  1046 833D 14				dta b(%00010100)
  1047 833E 14				dta b(%00010100)
  1048 833F 1C				dta b(%00011100)
  1049 8340 14				dta b(%00010100)
  1050 8341 15				dta b(%00010101)
  1051 8342 15				dta b(%00010101)
  1052 8343 19				dta b(%00011001)
  1053 8344 19				dta b(%00011001)
  1054 8345 15				dta b(%00010101)
  1055 8346 07				dta b(%00000111)
  1056 8347 00				dta b(0)
  1057 					
  1058 8348 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
  1059 834F 01				dta b(%00000001)
  1060 8350 07				dta b(%00000111)
  1061 8351 14				dta b(%00010100)
  1062 8352 5C				dta b(%01011100)
  1063 8353 50				dta b(%01010000)
  1064 8354 70				dta b(%01110000)
  1065 8355 C0				dta b(%11000000)
  1066 8356 00 00			dta b(0,0)
  1067 							
  1068 				;faza10
  1069 8358 00				dta b(0)
  1070 8359 01				dta b(%00000001)
  1071 835A 01				dta b(%00000001)
  1072 835B 07				dta b(%00000111)
  1073 835C 04				dta b(%00000100)
  1074 835D 1C				dta b(%00011100)
  1075 835E 14 14 14			:3 dta b(%00010100)
  1076 8361 15				dta b(%00010101)
  1077 8362 19				dta b(%00011001)
  1078 8363 19				dta b(%00011001)
  1079 8364 15				dta b(%00010101)
  1080 8365 15				dta b(%00010101)
  1081 8366 00 00			dta b(0,0)
  1082 					
  1083 8368 40				dta b(%01000000)
  1084 8369 C0				dta b(%11000000)
  1085 836A 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
  1086 8371 01				dta b(%00000001)
  1087 8372 57				dta b(%01010111)
  1088 8373 5C				dta b(%01011100)
  1089 8374 70				dta b(%01110000)
  1090 8375 C0				dta b(%11000000)
  1091 8376 00 00			dta b(0,0)
  1092 							
  1093 				;faza11
  1094 8378 00 00			dta b(0,0)
  1095 837A 01				dta b(%00000001)
  1096 837B 05				dta b(%00000101)
  1097 837C 07				dta b(%00000111)
  1098 837D 14				dta b(%00010100)
  1099 837E 1C				dta b(%00011100)
  1100 837F 54				dta b(%01010100)
  1101 8380 64				dta b(%01100100)
  1102 8381 65				dta b(%01100101)
  1103 8382 55				dta b(%01010101)
  1104 8383 15				dta b(%00010101)
  1105 8384 05				dta b(%00000101)
  1106 8385 03				dta b(%00000011)
  1107 8386 00 00			dta b(0,0)
  1108 					
  1109 8388 00				dta b(0)
  1110 8389 50				dta b(%01010000)
  1111 838A C0				dta b(%11000000)
  1112 838B 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
  1113 8393 40				dta b(%01000000)
  1114 8394 54				dta b(%01010100)
  1115 8395 70				dta b(%01110000)
  1116 8396 00 00			dta b(0,0)
  1117 							
  1118 				;faza12
  1119 8398 00 00			dta b(0,0)
  1120 839A 01				dta b(%00000001)
  1121 839B 05				dta b(%00000101)
  1122 839C 15				dta b(%00010101)
  1123 839D 17				dta b(%00010111)
  1124 839E 54				dta b(%01010100)
  1125 839F 64				dta b(%01100100)
  1126 83A0 64				dta b(%01100100)
  1127 83A1 54				dta b(%01010100)
  1128 83A2 15				dta b(%00010101)
  1129 83A3 35				dta b(%00110101)
  1130 83A4 0D				dta b(%00001101)
  1131 83A5 03				dta b(%00000011)
  1132 83A6 00 00			dta b(0,0)
  1133 					
  1134 83A8 00				dta b(0)
  1135 83A9 14				dta b(%00010100)
  1136 83AA 70				dta b(%01110000)
  1137 83AB C0				dta b(%11000000)
  1138 83AC 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
  1139 83B4 40				dta b(%01000000)
  1140 83B5 50				dta b(%01010000)
  1141 83B6 14				dta b(%00010100)
  1142 83B7 00				dta b(0)
  1143 							
  1144 				;faza13
  1145 83B8 00 00			dta b(0,0)
  1146 83BA 01				dta b(%00000001)
  1147 83BB 05				dta b(%00000101)
  1148 83BC 15				dta b(%00010101)
  1149 83BD 55				dta b(%01010101)
  1150 83BE 67				dta b(%01100111)
  1151 83BF 64				dta b(%01100100)
  1152 83C0 54				dta b(%01010100)
  1153 83C1 14				dta b(%00010100)
  1154 83C2 34				dta b(%00110100)
  1155 83C3 05				dta b(%00000101)
  1156 83C4 0D				dta b(%00001101)
  1157 83C5 03				dta b(%00000011)
  1158 83C6 00 00			dta b(0,0)
  1159 					
  1160 83C8 00 00			dta b(0,0)
  1161 83CA 50				dta b(%01010000)
  1162 83CB 54				dta b(%01010100)
  1163 83CC C0				dta b(%11000000)
  1164 83CD 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
  1165 83D5 40				dta b(%01000000)
  1166 83D6 50				dta b(%01010000)
  1167 83D7 00				dta b(0)
  1168 							
  1169 				;faza14
  1170 83D8 00 00			dta b(0,0)
  1171 83DA 15				dta b(%00010101)
  1172 83DB 15				dta b(%00010101)
  1173 83DC 19				dta b(%00011001)
  1174 83DD 19				dta b(%00011001)
  1175 83DE 17				dta b(%00010111)
  1176 83DF 14 14 14			:3 dta b(%00010100)
  1177 83E2 34				dta b(%00110100)
  1178 83E3 04				dta b(%00000100)
  1179 83E4 0D				dta b(%00001101)
  1180 83E5 01				dta b(%00000001)
  1181 83E6 03				dta b(%00000011)
  1182 83E7 00				dta b(0)
  1183 					
  1184 83E8 00 00			dta b(0,0)
  1185 83EA 40				dta b(%01000000)
  1186 83EB 50				dta b(%01010000)
  1187 83EC 54				dta b(%01010100)
  1188 83ED F5				dta b(%11110101)
  1189 83EE 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
  1190 83F6 40				dta b(%01000000)
  1191 83F7 40				dta b(%01000000)
  1192 							
  1193 				;faza15
  1194 83F8 00				dta b(0)
  1195 83F9 05				dta b(%00000101)
  1196 83FA 15				dta b(%00010101)
  1197 83FB 19				dta b(%00011001)
  1198 83FC 19				dta b(%00011001)
  1199 83FD 15				dta b(%00010101)
  1200 83FE 17				dta b(%00010111)
  1201 83FF 14 14 14			:3 dta b(%00010100)
  1202 8402 34				dta b(%00110100)
  1203 8403 04				dta b(%00000100)
  1204 8404 04				dta b(%00000100)
  1205 8405 0D				dta b(%00001101)
  1206 8406 03				dta b(%00000011)
  1207 8407 00				dta b(0)
  1208 					
  1209 8408 00 00			dta b(0,0)
  1210 840A 40				dta b(%01000000)
  1211 840B 50				dta b(%01010000)
  1212 840C 50				dta b(%01010000)
  1213 840D D4				dta b(%11010100)
  1214 840E 34				dta b(%00110100)
  1215 840F 0D				dta b(%00001101)
  1216 8410 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0,0)
  1217 						
  1218 = 8418			enemy3kszt	equ *
  1219 				;faza0
  1220 8418 01 01 01 01			:4 dta b(%00000001)
  1221 841C 05				dta b(%00000101)
  1222 841D 06 06 06			:3 dta b(%00000110)
  1223 8420 15				dta b(%00010101)
  1224 8421 15				dta b(%00010101)
  1225 8422 55				dta b(%01010101)
  1226 8423 55				dta b(%01010101)
  1227 8424 15				dta b(%00010101)
  1228 8425 05				dta b(%00000101)
  1229 8426 04				dta b(%00000100)
  1230 8427 04				dta b(%00000100)
  1231 					
  1232 8428 00 00 00 00			dta b(0,0,0,0)
  1233 842C 40 40 40 40			:4 dta b(%01000000)
  1234 8430 50				dta b(%01010000)
  1235 8431 50				dta b(%01010000)
  1236 8432 54				dta b(%01010100)
  1237 8433 5C				dta b(%01011100)
  1238 8434 70				dta b(%01110000)
  1239 8435 40				dta b(%01000000)
  1240 8436 40				dta b(%01000000)
  1241 8437 C0				dta b(%11000000)
  1242 							
  1243 				;faza1
  1244 8438 00 00 00 00			dta b(0,0,0,0)
  1245 843C 01				dta b(%00000001)
  1246 843D 05				dta b(%00000101)
  1247 843E 15				dta b(%00010101)
  1248 843F 55				dta b(%01010101)
  1249 8440 55				dta b(%01010101)
  1250 8441 05				dta b(%00000101)
  1251 8442 15				dta b(%00010101)
  1252 8443 1D				dta b(%00011101)
  1253 8444 31				dta b(%00110001)
  1254 8445 01				dta b(%00000001)
  1255 8446 03				dta b(%00000011)
  1256 8447 00				dta b(0)
  1257 					
  1258 8448 10				dta b(%00010000)
  1259 8449 10				dta b(%00010000)
  1260 844A 50 50 50			:3 dta b(%01010000)
  1261 844D 90 90 90			:3 dta b(%10010000)
  1262 8450 50 50 50			:3 dta b(%01010000)
  1263 8453 54				dta b(%01010100)
  1264 8454 FC				dta b(%11111100)
  1265 8455 00 00 00			dta b(0,0,0)
  1266 							
  1267 				;faza2
  1268 8458 00 00 00 00			dta b(0,0,0,0)
  1269 845C 51				dta b(%01010001)
  1270 845D 55				dta b(%01010101)
  1271 845E 16				dta b(%00010110)
  1272 845F 16				dta b(%00010110)
  1273 8460 15				dta b(%00010101)
  1274 8461 75				dta b(%01110101)
  1275 8462 C5				dta b(%11000101)
  1276 8463 05				dta b(%00000101)
  1277 8464 01				dta b(%00000001)
  1278 8465 04				dta b(%00000100)
  1279 8466 0C				dta b(%00001100)
  1280 8467 00				dta b(0)
  1281 					
  1282 8468 00				dta b(0)
  1283 8469 04				dta b(%00000100)
  1284 846A 14				dta b(%00010100)
  1285 846B 54				dta b(%01010100)
  1286 846C 5C				dta b(%01011100)
  1287 846D 90				dta b(%10010000)
  1288 846E 90				dta b(%10010000)
  1289 846F 50				dta b(%01010000)
  1290 8470 50				dta b(%01010000)
  1291 8471 70				dta b(%01110000)
  1292 8472 40				dta b(%01000000)
  1293 8473 40				dta b(%01000000)
  1294 8474 50				dta b(%01010000)
  1295 8475 F0				dta b(%11110000)
  1296 8476 00 00			dta b(0,0)
  1297 							
  1298 				;faza3
  1299 8478 00 00			dta b(0,0)
  1300 847A 10				dta b(%00010000)
  1301 847B 14				dta b(%00010100)
  1302 847C 15				dta b(%00010101)
  1303 847D 05				dta b(%00000101)
  1304 847E 05				dta b(%00000101)
  1305 847F 56				dta b(%01010110)
  1306 8480 D6				dta b(%11010110)
  1307 8481 15				dta b(%00010101)
  1308 8482 35				dta b(%00110101)
  1309 8483 05				dta b(%00000101)
  1310 8484 07				dta b(%00000111)
  1311 8485 1C				dta b(%00011100)
  1312 8486 30				dta b(%00110000)
  1313 8487 00				dta b(0)
  1314 					
  1315 8488 00 00 00 00			dta b(0,0,0,0)
  1316 848C 55				dta b(%01010101)
  1317 848D 57				dta b(%01010111)
  1318 848E 94				dta b(%10010100)
  1319 848F 9C				dta b(%10011100)
  1320 8490 50				dta b(%01010000)
  1321 8491 70				dta b(%01110000)
  1322 8492 40 40 40 40 40		:5 dta b(%01000000)
  1323 8497 00				dta b(0)
  1324 							
  1325 				;faza4
  1326 8498 00				dta b(0)
  1327 8499 04				dta b(%00000100)
  1328 849A 14				dta b(%00010100)
  1329 849B 14				dta b(%00010100)
  1330 849C 15				dta b(%00010101)
  1331 849D 55				dta b(%01010101)
  1332 849E 55				dta b(%01010101)
  1333 849F 16				dta b(%00010110)
  1334 84A0 16				dta b(%00010110)
  1335 84A1 55				dta b(%01010101)
  1336 84A2 55				dta b(%01010101)
  1337 84A3 17				dta b(%00010111)
  1338 84A4 14				dta b(%00010100)
  1339 84A5 34				dta b(%00110100)
  1340 84A6 04				dta b(%00000100)
  1341 84A7 00				dta b(0)
  1342 					
  1343 84A8 00 00 00 00 00		dta b(0,0,0,0,0)
  1344 84AD 40				dta b(%01000000)
  1345 84AE 50				dta b(%01010000)
  1346 84AF 95				dta b(%10010101)
  1347 84B0 9F				dta b(%10011111)
  1348 84B1 70				dta b(%01110000)
  1349 84B2 C0				dta b(%11000000)
  1350 84B3 00 00 00 00 00		dta b(0,0,0,0,0)
  1351 							
  1352 				;faza5
  1353 84B8 00				dta b(0)
  1354 84B9 10				dta b(%00010000)
  1355 84BA 14				dta b(%00010100)
  1356 84BB 05				dta b(%00000101)
  1357 84BC 05				dta b(%00000101)
  1358 84BD 15				dta b(%00010101)
  1359 84BE 15				dta b(%00010101)
  1360 84BF 56				dta b(%01010110)
  1361 84C0 56				dta b(%01010110)
  1362 84C1 05				dta b(%00000101)
  1363 84C2 05				dta b(%00000101)
  1364 84C3 17				dta b(%00010111)
  1365 84C4 1C				dta b(%00011100)
  1366 84C5 30				dta b(%00110000)
  1367 84C6 00 00			dta b(0,0)
  1368 					
  1369 84C8 00				dta b(0)
  1370 84C9 40 40 40 40 40		:5 dta b(%01000000)
  1371 84CE 50				dta b(%01010000)
  1372 84CF 50				dta b(%01010000)
  1373 84D0 94				dta b(%10010100)
  1374 84D1 94				dta b(%10010100)
  1375 84D2 55				dta b(%01010101)
  1376 84D3 FF				dta b(%11111111)
  1377 84D4 00 00 00 00			dta b(0,0,0,0)
  1378 							
  1379 				;faza6
  1380 84D8 00				dta b(0)
  1381 84D9 04				dta b(%00000100)
  1382 84DA 04				dta b(%00000100)
  1383 84DB 01				dta b(%00000001)
  1384 84DC 05				dta b(%00000101)
  1385 84DD 45				dta b(%01000101)
  1386 84DE 55				dta b(%01010101)
  1387 84DF 16				dta b(%00010110)
  1388 84E0 16				dta b(%00010110)
  1389 84E1 15				dta b(%00010101)
  1390 84E2 55				dta b(%01010101)
  1391 84E3 53				dta b(%01010011)
  1392 84E4 00 00 00 00			dta b(0,0,0,0)
  1393 					
  1394 84E8 00 00			dta b(0,0)
  1395 84EA 50				dta b(%01010000)
  1396 84EB 50				dta b(%01010000)
  1397 84EC 40				dta b(%01000000)
  1398 84ED 40				dta b(%01000000)
  1399 84EE 50				dta b(%01010000)
  1400 84EF 50				dta b(%01010000)
  1401 84F0 90				dta b(%10010000)
  1402 84F1 90				dta b(%10010000)
  1403 84F2 50				dta b(%01010000)
  1404 84F3 54				dta b(%01010100)
  1405 84F4 D4				dta b(%11010100)
  1406 84F5 34				dta b(%00110100)
  1407 84F6 0C				dta b(%00001100)
  1408 84F7 00				dta b(0)
  1409 							
  1410 				;faza7
  1411 84F8 00				dta b(0)
  1412 84F9 01				dta b(%00000001)
  1413 84FA 01				dta b(%00000001)
  1414 84FB 11				dta b(%00010001)
  1415 84FC 15				dta b(%00010101)
  1416 84FD 15				dta b(%00010101)
  1417 84FE 05				dta b(%00000101)
  1418 84FF 55				dta b(%01010101)
  1419 8500 55				dta b(%01010101)
  1420 8501 35				dta b(%00110101)
  1421 8502 0D				dta b(%00001101)
  1422 8503 03				dta b(%00000011)
  1423 8504 00 00 00 00			dta b(0,0,0,0)
  1424 					
  1425 8508 00 00 00			dta b(0,0,0)
  1426 850B 54				dta b(%01010100)
  1427 850C 54				dta b(%01010100)
  1428 850D 50 50 50			:3 dta b(%01010000)
  1429 8510 90 90 90			:3 dta b(%10010000)
  1430 8513 50				dta b(%01010000)
  1431 8514 50				dta b(%01010000)
  1432 8515 D0				dta b(%11010000)
  1433 8516 10				dta b(%00010000)
  1434 8517 30				dta b(%00110000)
  1435 							
  1436 				;faza8		
  1437 8518 01 01 01			:3 dta b(%00000001)
  1438 851B 05				dta b(%00000101)
  1439 851C 15				dta b(%00010101)
  1440 851D 35				dta b(%00110101)
  1441 851E 05				dta b(%00000101)
  1442 851F 0D				dta b(%00001101)
  1443 8520 01 01 01			:3 dta b(%00000001)
  1444 8523 03				dta b(%00000011)
  1445 8524 00 00 00 00			dta b(0,0,0,0)
  1446 					
  1447 8528 10				dta b(%00010000)
  1448 8529 10				dta b(%00010000)
  1449 852A 50				dta b(%01010000)
  1450 852B 54				dta b(%01010100)
  1451 852C 55				dta b(%01010101)
  1452 852D 55				dta b(%01010101)
  1453 852E 54				dta b(%01010100)
  1454 852F 54				dta b(%01010100)
  1455 8530 90 90 90			:3 dta b(%10010000)
  1456 8533 50				dta b(%01010000)
  1457 8534 40 40 40 40			:4 dta b(%01000000)
  1458 							
  1459 				;faza9
  1460 8538 00 00 00			dta b(0,0,0)
  1461 853B 15				dta b(%00010101)
  1462 853C 15				dta b(%00010101)
  1463 853D 05 05 05			:3 dta b(%00000101)
  1464 8540 06 06 06			:3 dta b(%00000110)
  1465 8543 05				dta b(%00000101)
  1466 8544 05				dta b(%00000101)
  1467 8545 07				dta b(%00000111)
  1468 8546 04				dta b(%00000100)
  1469 8547 0C				dta b(%00001100)
  1470 					
  1471 8548 00				dta b(0)
  1472 8549 40				dta b(%01000000)
  1473 854A 40				dta b(%01000000)
  1474 854B 44				dta b(%01000100)
  1475 854C 54				dta b(%01010100)
  1476 854D 54				dta b(%01010100)
  1477 854E 50				dta b(%01010000)
  1478 854F 55				dta b(%01010101)
  1479 8550 57				dta b(%01010111)
  1480 8551 5C				dta b(%01011100)
  1481 8552 70				dta b(%01110000)
  1482 8553 C0				dta b(%11000000)
  1483 8554 00 00 00 00			dta b(0,0,0,0)
  1484 							
  1485 				;faza10
  1486 8558 00 00			dta b(0,0)
  1487 855A 05				dta b(%00000101)
  1488 855B 05				dta b(%00000101)
  1489 855C 01				dta b(%00000001)
  1490 855D 01				dta b(%00000001)
  1491 855E 05				dta b(%00000101)
  1492 855F 05				dta b(%00000101)
  1493 8560 06				dta b(%00000110)
  1494 8561 06				dta b(%00000110)
  1495 8562 05				dta b(%00000101)
  1496 8563 15				dta b(%00010101)
  1497 8564 17				dta b(%00010111)
  1498 8565 1C				dta b(%00011100)
  1499 8566 30				dta b(%00110000)
  1500 8567 00				dta b(0)
  1501 					
  1502 8568 00				dta b(0)
  1503 8569 10				dta b(%00010000)
  1504 856A 10				dta b(%00010000)
  1505 856B 40				dta b(%01000000)
  1506 856C 50				dta b(%01010000)
  1507 856D 51				dta b(%01010001)
  1508 856E 57				dta b(%01010111)
  1509 856F 94				dta b(%10010100)
  1510 8570 94				dta b(%10010100)
  1511 8571 54				dta b(%01010100)
  1512 8572 75				dta b(%01110101)
  1513 8573 C7				dta b(%11000111)
  1514 8574 00 00 00 00			dta b(0,0,0,0)
  1515 							
  1516 				;faza11
  1517 8578 00				dta b(0)
  1518 8579 01 01 01 01 01		:5 dta b(%00000001)
  1519 857E 05				dta b(%00000101)
  1520 857F 05				dta b(%00000101)
  1521 8580 16				dta b(%00010110)
  1522 8581 16				dta b(%00010110)
  1523 8582 55				dta b(%01010101)
  1524 8583 77				dta b(%01110111)
  1525 8584 00 00 00 00			dta b(0,0,0,0)
  1526 					
  1527 8588 00				dta b(0)
  1528 8589 04				dta b(%00000100)
  1529 858A 1C				dta b(%00011100)
  1530 858B 50				dta b(%01010000)
  1531 858C 50				dta b(%01010000)
  1532 858D 54				dta b(%01010100)
  1533 858E 54				dta b(%01010100)
  1534 858F 95				dta b(%10010101)
  1535 8590 9F				dta b(%10011111)
  1536 8591 50				dta b(%01010000)
  1537 8592 50				dta b(%01010000)
  1538 8593 54				dta b(%01010100)
  1539 8594 14				dta b(%00010100)
  1540 8595 0C				dta b(%00001100)
  1541 8596 00 00			dta b(0,0)
  1542 							
  1543 				;faza12
  1544 8598 00 00 00 00 00		dta b(0,0,0,0,0)
  1545 859D 01				dta b(%00000001)
  1546 859E 05				dta b(%00000101)
  1547 859F 56				dta b(%01010110)
  1548 85A0 56				dta b(%01010110)
  1549 85A1 05				dta b(%00000101)
  1550 85A2 01				dta b(%00000001)
  1551 85A3 00 00 00 00 00		dta b(0,0,0,0,0)
  1552 					
  1553 85A8 00				dta b(0)
  1554 85A9 10				dta b(%00010000)
  1555 85AA 14				dta b(%00010100)
  1556 85AB 14				dta b(%00010100)
  1557 85AC 54				dta b(%01010100)
  1558 85AD 55				dta b(%01010101)
  1559 85AE 57				dta b(%01010111)
  1560 85AF 94				dta b(%10010100)
  1561 85B0 94				dta b(%10010100)
  1562 85B1 55				dta b(%01010101)
  1563 85B2 57				dta b(%01010111)
  1564 85B3 54				dta b(%01010100)
  1565 85B4 14				dta b(%00010100)
  1566 85B5 1C				dta b(%00011100)
  1567 85B6 30				dta b(%00110000)
  1568 85B7 00				dta b(0)
  1569 							
  1570 				;faza13
  1571 85B8 00 00 00 00			dta b(0,0,0,0)
  1572 85BC 55				dta b(%01010101)
  1573 85BD 55				dta b(%01010101)
  1574 85BE 16				dta b(%00010110)
  1575 85BF 16				dta b(%00010110)
  1576 85C0 05				dta b(%00000101)
  1577 85C1 05				dta b(%00000101)
  1578 85C2 01 01 01 01 01		:5 dta b(%00000001)
  1579 85C7 00				dta b(0)
  1580 					
  1581 85C8 00 00			dta b(0,0)
  1582 85CA 04				dta b(%00000100)
  1583 85CB 14				dta b(%00010100)
  1584 85CC 54				dta b(%01010100)
  1585 85CD 50				dta b(%01010000)
  1586 85CE 50				dta b(%01010000)
  1587 85CF 95				dta b(%10010101)
  1588 85D0 97				dta b(%10010111)
  1589 85D1 54				dta b(%01010100)
  1590 85D2 5C				dta b(%01011100)
  1591 85D3 50				dta b(%01010000)
  1592 85D4 D0				dta b(%11010000)
  1593 85D5 14				dta b(%00010100)
  1594 85D6 0C				dta b(%00001100)
  1595 85D7 00				dta b(0)
  1596 							
  1597 				;faza14
  1598 85D8 00				dta b(0)
  1599 85D9 10				dta b(%00010000)
  1600 85DA 14				dta b(%00010100)
  1601 85DB 15				dta b(%00010101)
  1602 85DC 15				dta b(%00010101)
  1603 85DD 06				dta b(%00000110)
  1604 85DE 06				dta b(%00000110)
  1605 85DF 05 05 05			:3 dta b(%00000101)
  1606 85E2 01				dta b(%00000001)
  1607 85E3 01				dta b(%00000001)
  1608 85E4 05				dta b(%00000101)
  1609 85E5 05				dta b(%00000101)
  1610 85E6 00 00			dta b(0,0)
  1611 					
  1612 85E8 00 00 00 00			dta b(0,0,0,0)
  1613 85EC 45				dta b(%01000101)
  1614 85ED 57				dta b(%01010111)
  1615 85EE 94				dta b(%10010100)
  1616 85EF 94				dta b(%10010100)
  1617 85F0 54				dta b(%01010100)
  1618 85F1 55				dta b(%01010101)
  1619 85F2 53				dta b(%01010011)
  1620 85F3 70				dta b(%01110000)
  1621 85F4 C0				dta b(%11000000)
  1622 85F5 10				dta b(%00010000)
  1623 85F6 30				dta b(%00110000)
  1624 85F7 00				dta b(0)
  1625 							
  1626 				;faza15
  1627 85F8 04				dta b(%00000100)
  1628 85F9 04				dta b(%00000100)
  1629 85FA 05 05 05			:3 dta b(%00000101)
  1630 85FD 06 06 06			:3 dta b(%00000110)
  1631 8600 05 05 05			:3 dta b(%00000101)
  1632 8603 15				dta b(%00010101)
  1633 8604 1F				dta b(%00011111)
  1634 8605 00 00 00			dta b(0,0,0)
  1635 					
  1636 8608 00 00 00 00			dta b(0,0,0,0)
  1637 860C 40				dta b(%01000000)
  1638 860D 50				dta b(%01010000)
  1639 860E 54				dta b(%01010100)
  1640 860F 55				dta b(%01010101)
  1641 8610 5F				dta b(%01011111)
  1642 8611 50				dta b(%01010000)
  1643 8612 54				dta b(%01010100)
  1644 8613 74				dta b(%01110100)
  1645 8614 4C				dta b(%01001100)
  1646 8615 40				dta b(%01000000)
  1647 8616 C0				dta b(%11000000)
  1648 8617 00				dta b(0)		
  1649 							
  1650 = 8618			enemy5kszt	equ *
  1651 				;faza0
  1652 8618 00						dta b(0)
  1653 8619 03 03					:2 dta b(%00000011)
  1654 861B 0F 0F					:2 dta b(%00001111)
  1655 861D 2D						dta b(%00101101)
  1656 861E 3D						dta b(%00111101)
  1657 861F 2F						dta b(%00101111)
  1658 8620 3F						dta b(%00111111)
  1659 8621 2B						dta b(%00101011)
  1660 8622 22						dta b(%00100010)
  1661 8623 20 20 20 20					:4 dta b(%00100000)
  1662 8627 00						dta b(0)
  1663 							
  1664 8628 80						dta b(%10000000)
  1665 8629 F0 F0					:2 dta b(%11110000)
  1666 862B FC FC					:2 dta b(%11111100)
  1667 862D DE						dta b(%11011110)
  1668 862E DF						dta b(%11011111)
  1669 862F FE						dta b(%11111110)
  1670 8630 FF						dta b(%11111111)
  1671 8631 FA						dta b(%11111010)
  1672 8632 E2						dta b(%11100010)
  1673 8633 82 82 82 82					:4 dta b(%10000010)
  1674 8637 80						dta b(%10000000)
  1675 							
  1676 				;faza1
  1677 8638 00 00					dta b(0,0)
  1678 863A 03						dta b(%00000011)
  1679 863B 0F						dta b(%00001111)
  1680 863C 0D						dta b(%00001101)
  1681 863D 2D						dta b(%00101101)
  1682 863E 3F						dta b(%00111111)
  1683 863F 3B						dta b(%00111011)
  1684 8640 22						dta b(%00100010)
  1685 8641 E3						dta b(%11100011)
  1686 8642 82						dta b(%10000010)
  1687 8643 82						dta b(%10000010)
  1688 8644 0E						dta b(%00001110)
  1689 8645 08 08					:2 dta b(%00001000)
  1690 8647 00						dta b(0)
  1691 							
  1692 8648 20						dta b(%00100000)
  1693 8649 F0						dta b(%11110000)
  1694 864A FC FC FC					:3 dta b(%11111100)
  1695 864D DC DC					:2 dta b(%11011100)
  1696 864F FC						dta b(%11111100)
  1697 8650 F8						dta b(%11111000)
  1698 8651 BC						dta b(%10111100)
  1699 8652 38 38					:2 dta b(%00111000)
  1700 8654 20 20 20					:3 dta b(%00100000)
  1701 8657 80						dta b(%10000000)
  1702 							
  1703 				;faza2
  1704 8658 00 00 00					dta b(0,0,0)
  1705 865B 0B						dta b(%00001011)
  1706 865C 2F						dta b(%00101111)
  1707 865D 2B						dta b(%00101011)
  1708 865E A3						dta b(%10100011)
  1709 865F 82						dta b(%10000010)
  1710 8660 03						dta b(%00000011)
  1711 8661 02						dta b(%00000010)
  1712 8662 0A						dta b(%00001010)
  1713 8663 08						dta b(%00001000)
  1714 8664 28						dta b(%00101000)
  1715 8665 20						dta b(%00100000)
  1716 8666 00 00					dta b(0,0)
  1717 							
  1718 8668 00 00					dta b(0,0)
  1719 866A FE						dta b(%11111110)
  1720 866B FF						dta b(%11111111)
  1721 866C 7F 7F					:2 dta b(%01111111)
  1722 866E F7 F7					:2 dta b(%11110111)
  1723 8670 FF FF					:2 dta b(%11111111)
  1724 8672 B8						dta b(%10111000)
  1725 8673 3C						dta b(%00111100)
  1726 8674 28						dta b(%00101000)
  1727 8675 20						dta b(%00100000)
  1728 8676 A0						dta b(%10100000)
  1729 8677 80						dta b(%10000000)
  1730 							
  1731 				;faza3
  1732 8678 00 00					dta b(0,0)
  1733 867A 02						dta b(%00000010)
  1734 867B 2B						dta b(%00101011)
  1735 867C AF						dta b(%10101111)
  1736 867D 03 03					:2 dta b(%00000011)
  1737 867F 0B						dta b(%00001011)
  1738 8680 0E						dta b(%00001110)
  1739 8681 2B						dta b(%00101011)
  1740 8682 A2						dta b(%10100010)
  1741 8683 00 00					dta b(0,0)
  1742 8685 02 02					:2 dta b(%00000010)
  1743 8687 08						dta b(%00001000)
  1744 							
  1745 8688 00 00					dta b(0,0)
  1746 868A C0						dta b(%11000000)
  1747 868B F0						dta b(%11110000)
  1748 868C FE						dta b(%11111110)
  1749 868D 7F 7F					:2 dta b(%01111111)
  1750 868F FF						dta b(%11111111)
  1751 8690 DF						dta b(%11011111)
  1752 8691 DC						dta b(%11011100)
  1753 8692 FC						dta b(%11111100)
  1754 8693 B0						dta b(%10110000)
  1755 8694 F0						dta b(%11110000)
  1756 8695 80						dta b(%10000000)
  1757 8696 00 00					dta b(0,0)
  1758 							
  1759 				;faza4
  1760 8698 00						dta b(0)
  1761 8699 A8						dta b(%10101000)
  1762 869A 0A						dta b(%00001010)
  1763 869B 0E						dta b(%00001110)
  1764 869C 03						dta b(%00000011)
  1765 869D 0F						dta b(%00001111)
  1766 869E 0B						dta b(%00001011)
  1767 869F AB AB					:2 dta b(%10101011)
  1768 86A1 0B						dta b(%00001011)
  1769 86A2 0F						dta b(%00001111)
  1770 86A3 03						dta b(%00000011)
  1771 86A4 0E						dta b(%00001110)
  1772 86A5 0A						dta b(%00001010)
  1773 86A6 A8						dta b(%10101000)
  1774 86A7 00						dta b(0)
  1775 							
  1776 86A8 00 00 00					dta b(0,0,0)
  1777 86AB F0 F0					:2 dta b(%11110000)
  1778 86AD 7C						dta b(%01111100)
  1779 86AE 7F						dta b(%01111111)
  1780 86AF FE FE					:2 dta b(%11111110)
  1781 86B1 7F						dta b(%01111111)
  1782 86B2 7C						dta b(%01111100)
  1783 86B3 F0 F0					:2 dta b(%11110000)
  1784 86B5 00 00 00					dta b(0,0,0)
  1785 							
  1786 				;faza5
  1787 86B8 08						dta b(%00001000)
  1788 86B9 02 02					:2 dta b(%00000010)
  1789 86BB 00 00					dta b(0,0)
  1790 86BD A2						dta b(%10100010)
  1791 86BE 2B						dta b(%00101011)
  1792 86BF 0E						dta b(%00001110)
  1793 86C0 0B						dta b(%00001011)
  1794 86C1 03						dta b(%00000011)
  1795 86C2 0B						dta b(%00001011)
  1796 86C3 AF						dta b(%10101111)
  1797 86C4 2B						dta b(%00101011)
  1798 86C5 02						dta b(%00000010)
  1799 86C6 00 00					dta b(0,0)
  1800 							
  1801 86C8 00 00					dta b(0,0)
  1802 86CA 80						dta b(%10000000)
  1803 86CB F0						dta b(%11110000)
  1804 86CC B0						dta b(%10110000)
  1805 86CD FC						dta b(%11111100)
  1806 86CE DC						dta b(%11011100)
  1807 86CF DF						dta b(%11011111)
  1808 86D0 FF						dta b(%11111111)
  1809 86D1 7F						dta b(%01111111)
  1810 86D2 7E						dta b(%01111110)
  1811 86D3 FC						dta b(%11111100)
  1812 86D4 F0						dta b(%11110000)
  1813 86D5 C0						dta b(%11000000)
  1814 86D6 00 00					dta b(0,0)
  1815 							
  1816 				;faza6
  1817 86D8 00 00					dta b(0,0)
  1818 86DA 20						dta b(%00100000)
  1819 86DB 28						dta b(%00101000)
  1820 86DC 08						dta b(%00001000)
  1821 86DD 0A						dta b(%00001010)
  1822 86DE 02						dta b(%00000010)
  1823 86DF 03						dta b(%00000011)
  1824 86E0 82						dta b(%10000010)
  1825 86E1 A3						dta b(%10100011)
  1826 86E2 2B						dta b(%00101011)
  1827 86E3 2F						dta b(%00101111)
  1828 86E4 0B						dta b(%00001011)
  1829 86E5 00 00 00					dta b(0,0,0)
  1830 							
  1831 86E8 80						dta b(%10000000)
  1832 86E9 A0						dta b(%10100000)
  1833 86EA 20						dta b(%00100000)
  1834 86EB 28						dta b(%00101000)
  1835 86EC 3C						dta b(%00111100)
  1836 86ED B8						dta b(%10111000)
  1837 86EE FF FF					:2 dta b(%11111111)
  1838 86F0 F7 F7					:2 dta b(%11110111)
  1839 86F2 7F 7F					:2 dta b(%01111111)
  1840 86F4 FF						dta b(%11111111)
  1841 86F5 FE						dta b(%11111110)
  1842 86F6 00 00					dta b(0,0)
  1843 							
  1844 				;faza7
  1845 86F8 00						dta b(0)
  1846 86F9 08 08					:2 dta b(%00001000)
  1847 86FB 0E						dta b(%00001110)
  1848 86FC 82 82					:2 dta b(%10000010)
  1849 86FE E3						dta b(%11100011)
  1850 86FF 22						dta b(%00100010)
  1851 8700 3B						dta b(%00111011)
  1852 8701 3F						dta b(%00111111)
  1853 8702 2D						dta b(%00101101)
  1854 8703 0D						dta b(%00001101)
  1855 8704 0F						dta b(%00001111)
  1856 8705 03						dta b(%00000011)
  1857 8706 00 00					dta b(0,0)
  1858 							
  1859 8708 80						dta b(%10000000)
  1860 8709 20 20 20					:3 dta b(%00100000)
  1861 870C 38 38					:2 dta b(%00111000)
  1862 870E BC						dta b(%10111100)
  1863 870F FC FC					:2 dta b(%11111100)
  1864 8711 DC DC					:2 dta b(%11011100)
  1865 8713 FC FC FC					:3 dta b(%11111100)
  1866 8716 F0						dta b(%11110000)
  1867 8717 20						dta b(%00100000)
  1868 							
  1869 							
  1870 				;faza8
  1871 8718 02						dta b(%00000010)
  1872 8719 82 82 82 82					:4 dta b(%10000010)
  1873 871D 8B						dta b(%10001011)
  1874 871E AF						dta b(%10101111)
  1875 871F FF						dta b(%11111111)
  1876 8720 BF						dta b(%10111111)
  1877 8721 F7						dta b(%11110111)
  1878 8722 B7						dta b(%10110111)
  1879 8723 3F 3F					:2 dta b(%00111111)
  1880 8725 0F 0F					:2 dta b(%00001111)
  1881 8727 02						dta b(%00000010)
  1882 							
  1883 8728 00						dta b(0)
  1884 8729 08 08 08 08					:4 dta b(%00001000)
  1885 872D 88						dta b(%10001000)
  1886 872E E8						dta b(%11101000)
  1887 872F FC						dta b(%11111100)
  1888 8730 F8						dta b(%11111000)
  1889 8731 7C						dta b(%01111100)
  1890 8732 78						dta b(%01111000)
  1891 8733 F0 F0					:2 dta b(%11110000)
  1892 8735 C0 C0					:2 dta b(%11000000)
  1893 8737 00						dta b(0)
  1894 							
  1895 				;faza9
  1896 8738 02						dta b(%00000010)
  1897 8739 08 08 08					:3 dta b(%00001000)
  1898 873C 2C 2C					:2 dta b(%00101100)
  1899 873E 3E						dta b(%00111110)
  1900 873F 3F 3F					:2 dta b(%00111111)
  1901 8741 37 37					:2 dta b(%00110111)
  1902 8743 3F 3F 3F					:3 dta b(%00111111)
  1903 8746 0F						dta b(%00001111)
  1904 8747 08						dta b(%00001000)
  1905 							
  1906 8748 00						dta b(0)
  1907 8749 20 20					:2 dta b(%00100000)
  1908 874B B0						dta b(%10110000)
  1909 874C 82 82					:2 dta b(%10000010)
  1910 874E CB						dta b(%11001011)
  1911 874F 88						dta b(%10001000)
  1912 8750 EC						dta b(%11101100)
  1913 8751 FC						dta b(%11111100)
  1914 8752 78						dta b(%01111000)
  1915 8753 70						dta b(%01110000)
  1916 8754 F0						dta b(%11110000)
  1917 8755 C0						dta b(%11000000)
  1918 8756 00 00					dta b(0,0)
  1919 							
  1920 				;faza10
  1921 8758 02						dta b(%00000010)
  1922 8759 0A						dta b(%00001010)
  1923 875A 08						dta b(%00001000)
  1924 875B 28						dta b(%00101000)
  1925 875C 3C						dta b(%00111100)
  1926 875D 2E						dta b(%00101110)
  1927 875E FF FF					:2 dta b(%11111111)
  1928 8760 DF DF					:2 dta b(%11011111)
  1929 8762 FD FD					:2 dta b(%11111101)
  1930 8764 FF						dta b(%11111111)
  1931 8765 BF						dta b(%10111111)
  1932 8766 00 00					dta b(0,0)
  1933 							
  1934 8768 00 00					dta b(0,0)
  1935 876A 08						dta b(%001000)
  1936 876B 28						dta b(%00101000)
  1937 876C 20						dta b(%00100000)
  1938 876D A0						dta b(%10100000)
  1939 876E 80						dta b(%10000000)
  1940 876F C0						dta b(%11000000)
  1941 8770 82						dta b(%10000010)
  1942 8771 CA						dta b(%11001010)
  1943 8772 E8						dta b(%11101000)
  1944 8773 F8						dta b(%11111000)
  1945 8774 E0						dta b(%11100000)
  1946 8775 00 00 00					dta b(0,0,0)
  1947 							
  1948 				;faza11
  1949 8778 00 00					dta b(0,0)
  1950 877A 02						dta b(%00000010)
  1951 877B 0F						dta b(%00001111)
  1952 877C 0E						dta b(%00001110)
  1953 877D 3F						dta b(%00111111)
  1954 877E 37						dta b(%00110111)
  1955 877F F7						dta b(%11110111)
  1956 8780 FF						dta b(%11111111)
  1957 8781 FD						dta b(%11111101)
  1958 8782 BD						dta b(%10111101)
  1959 8783 3F						dta b(%00111111)
  1960 8784 0F						dta b(%00001111)
  1961 8785 03						dta b(%00000011)
  1962 8786 00 00					dta b(0,0)
  1963 							
  1964 8788 20						dta b(%00100000)
  1965 8789 80 80					:2 dta b(%10000000)
  1966 878B 00 00					dta b(0,0)
  1967 878D 8A						dta b(%10001010)
  1968 878E E8						dta b(%11101000)
  1969 878F B0						dta b(%10110000)
  1970 8790 E0						dta b(%11100000)
  1971 8791 C0						dta b(%11000000)
  1972 8792 E0						dta b(%11100000)
  1973 8793 FA						dta b(%11111010)
  1974 8794 E8						dta b(%11101000)
  1975 8795 80						dta b(%10000000)
  1976 8796 00 00					dta b(0,0)
  1977 							
  1978 				;faza12
  1979 8798 00 00					dta b(0,0)
  1980 879A 03						dta b(%00000011)
  1981 879B 0F 0F					:2 dta b(%00001111)
  1982 879D 3D						dta b(%00111101)
  1983 879E FD						dta b(%11111101)
  1984 879F BF BF					:2 dta b(%10111111)
  1985 87A1 FD						dta b(%11111101)
  1986 87A2 3D						dta b(%00111101)
  1987 87A3 0F 0F					:2 dta b(%00001111)
  1988 87A5 03						dta b(%00000011)
  1989 87A6 00 00					dta b(0,0)
  1990 							
  1991 87A8 00						dta b(0)
  1992 87A9 2A						dta b(%00101010)
  1993 87AA A0						dta b(%10100000)
  1994 87AB B0						dta b(%10110000)
  1995 87AC C0						dta b(%11000000)
  1996 87AD F0						dta b(%11110000)
  1997 87AE E0						dta b(%11100000)
  1998 87AF EA EA					:2 dta b(%11101010)
  1999 87B1 E0						dta b(%11100000)
  2000 87B2 F0						dta b(%11110000)
  2001 87B3 C0						dta b(%11000000)
  2002 87B4 B0						dta b(%10110000)
  2003 87B5 A0						dta b(%10100000)
  2004 87B6 2A						dta b(%00101010)
  2005 87B7 00						dta b(0)
  2006 							
  2007 				;faza13
  2008 87B8 00 00					dta b(0,0)
  2009 87BA 03						dta b(%00000011)
  2010 87BB 0F						dta b(%00001111)
  2011 87BC 3F						dta b(%00111111)
  2012 87BD BD						dta b(%10111101)
  2013 87BE FD						dta b(%11111101)
  2014 87BF FF						dta b(%11111111)
  2015 87C0 F7						dta b(%11110111)
  2016 87C1 37						dta b(%00110111)
  2017 87C2 3F						dta b(%00111111)
  2018 87C3 0E						dta b(%00001110)
  2019 87C4 0F						dta b(%00001111)
  2020 87C5 02						dta b(%00000010)
  2021 87C6 00 00					dta b(0,0)
  2022 							
  2023 87C8 00 00					dta b(0,0)
  2024 87CA 80						dta b(%10000000)
  2025 87CB E8						dta b(%11101000)
  2026 87CC FA						dta b(%11111010)
  2027 87CD E0						dta b(%11100000)
  2028 87CE C0						dta b(%11000000)
  2029 87CF E0						dta b(%11100000)
  2030 87D0 B0						dta b(%10110000)
  2031 87D1 E8						dta b(%11101000)
  2032 87D2 8A						dta b(%10001010)
  2033 87D3 00 00					dta b(0,0)
  2034 87D5 80 80					:2 dta b(%10000000)
  2035 87D7 20						dta b(%00100000)
  2036 							
  2037 				;faza14
  2038 87D8 00 00					dta b(0,0)
  2039 87DA BF						dta b(%10111111)
  2040 87DB FF						dta b(%11111111)
  2041 87DC FD FD					:2 dta b(%11111101)
  2042 87DE DF DF					:2 dta b(%11011111)
  2043 87E0 FF FF					:2 dta b(%11111111)
  2044 87E2 2E						dta b(%00101110)
  2045 87E3 3C						dta b(%00111100)
  2046 87E4 28						dta b(%00101000)
  2047 87E5 08						dta b(%00001000)
  2048 87E6 0A						dta b(%00001010)
  2049 87E7 02						dta b(%00000010)
  2050 							
  2051 87E8 00 00 00					dta b(0,0,0)
  2052 87EB E0						dta b(%11100000)
  2053 87EC F8						dta b(%11111000)
  2054 87ED E8						dta b(%11101000)
  2055 87EE CA						dta b(%11001010)
  2056 87EF 82						dta b(%10000010)
  2057 87F0 C0						dta b(%11000000)
  2058 87F1 80						dta b(%10000000)
  2059 87F2 A0						dta b(%10100000)
  2060 87F3 20						dta b(%00100000)
  2061 87F4 28						dta b(%00101000)
  2062 87F5 08						dta b(%00001000)
  2063 87F6 00 00					dta b(0,0)
  2064 							
  2065 				;faza15
  2066 87F8 08						dta b(%00001000)
  2067 87F9 0F						dta b(%00001111)
  2068 87FA 3F 3F 3F					:3 dta b(%00111111)
  2069 87FD 37 37					:2 dta b(%00110111)
  2070 87FF 3F 3F					:2 dta b(%00111111)
  2071 8801 3E						dta b(%00111110)
  2072 8802 2C 2C					:2 dta b(%00101100)
  2073 8804 08 08 08					:3 dta b(%00001000)
  2074 8807 02						dta b(%00000010)
  2075 							
  2076 8808 00 00					dta b(0,0)
  2077 880A C0						dta b(%11000000)
  2078 880B F0						dta b(%11110000)
  2079 880C 70						dta b(%01110000)
  2080 880D 78						dta b(%01111000)
  2081 880E FC						dta b(%11111100)
  2082 880F EC						dta b(%11101100)
  2083 8810 88						dta b(%10001000)
  2084 8811 CB						dta b(%11001011)
  2085 8812 82 82					:2 dta b(%10000010)
  2086 8814 B0						dta b(%10110000)
  2087 8815 20 20					:2 dta b(%00100000)
  2088 8817 00						dta b(0)
  2089 							
  2090 				;wybuch
  2091 = 8818			explo_kszt	equ *
  2092 					
  2093 8818 80				dta b(%10000000)		;3faza
  2094 8819 2C				dta b(%00101100)
  2095 881A 2E				dta b(%00101110)		
  2096 881B 0B				dta b(%00001011)
  2097 881C 34				dta b(%00110100)		
  2098 881D 25				dta b(%00100101)
  2099 881E 2C				dta b(%00101100)		
  2100 881F 37				dta b(%00110111)
  2101 					
  2102 8820 A4				dta b(%10100100)		
  2103 8821 15				dta b(%00010101)
  2104 8822 04				dta b(%00000100)		
  2105 8823 08				dta b(%00001000)
  2106 8824 2D				dta b(%00101101)		
  2107 8825 2F				dta b(%00101111)
  2108 8826 80				dta b(%10000000)		
  2109 8827 80				dta b(%10000000)
  2110 					
  2111 8828 82				dta b(%10000010)		
  2112 8829 8B				dta b(%10001011)
  2113 882A C8				dta b(%11001000)		
  2114 882B 2C				dta b(%00101100)
  2115 882C 7C				dta b(%01111100)		
  2116 882D 14				dta b(%00010100)
  2117 882E CB				dta b(%11001011)		
  2118 882F 5A				dta b(%01011010)
  2119 					
  2120 8830 10				dta b(%00010000)		
  2121 8831 14				dta b(%00010100)
  2122 8832 35				dta b(%00110101)		
  2123 8833 6A				dta b(%01101010)
  2124 8834 B8				dta b(%10111000)		
  2125 8835 88				dta b(%10001000)
  2126 8836 8E				dta b(%10001110)		
  2127 8837 82				dta b(%10000010)
  2128 					
  2129 8838 00				dta b(%00000000)		;2faza
  2130 8839 C0				dta b(%11000000)
  2131 883A 70				dta b(%01110000)
  2132 883B 1F				dta b(%00011111)
  2133 883C 14				dta b(%00010100)
  2134 883D 06				dta b(%00000110)
  2135 883E 0A				dta b(%00001010)
  2136 883F 58				dta b(%01011000)
  2137 					
  2138 8840 08				dta b(%00001000)
  2139 8841 01				dta b(%00000001)
  2140 8842 0E				dta b(%00001110)
  2141 8843 09				dta b(%00001001)
  2142 8844 16				dta b(%00010110)
  2143 8845 10				dta b(%00010000)
  2144 8846 70				dta b(%01110000)
  2145 8847 00				dta b(%00000000)
  2146 					
  2147 8848 00				dta b(%00000000)
  2148 8849 00				dta b(%00000000)
  2149 884A 71				dta b(%01110001)
  2150 884B 75				dta b(%01110101)
  2151 884C 94				dta b(%10010100)
  2152 884D A4				dta b(%10100100)
  2153 884E 2B				dta b(%00101011)
  2154 884F 18				dta b(%00011000)
  2155 					
  2156 8850 A0				dta b(%10100000)
  2157 8851 28				dta b(%00101000)
  2158 8852 9C				dta b(%10011100)
  2159 8853 DC				dta b(%11011100)
  2160 8854 34				dta b(%00110100)
  2161 8855 34				dta b(%00110100)
  2162 8856 71				dta b(%01110001)
  2163 8857 00				dta b(%00000000)
  2164
  2165 8858 00				dta b(%00000000)		;1faza
  2166 8859 30				dta b(%00110000)
  2167 885A 1C				dta b(%00011100)
  2168 885B 37				dta b(%00110111)
  2169 885C 04				dta b(%00000100)
  2170 885D 0D				dta b(%00001101)
  2171 885E 06				dta b(%00000110)
  2172 885F 06				dta b(%00000110)
  2173 					
  2174 8860 3C				dta b(%00111100)
  2175 8861 02				dta b(%00000010)
  2176 8862 03				dta b(%00000011)
  2177 8863 07				dta b(%00000111)
  2178 8864 34				dta b(%00110100)
  2179 8865 1C				dta b(%00011100)
  2180 8866 00				dta b(%00000000)
  2181 8867 00				dta b(%00000000)
  2182 					
  2183 8868 00				dta b(%00000000)
  2184 8869 0C				dta b(%00001100)
  2185 886A 30				dta b(%00110000)
  2186 886B 70				dta b(%01110000)
  2187 886C 50				dta b(%01010000)
  2188 886D D0				dta b(%11010000)
  2189 886E 2C				dta b(%00101100)
  2190 886F 30				dta b(%00110000)
  2191 					
  2192 8870 20				dta b(%00100000)
  2193 8871 80				dta b(%10000000)
  2194 8872 70				dta b(%01110000)
  2195 8873 7C				dta b(%01111100)
  2196 8874 44				dta b(%01000100)
  2197 8875 C3				dta b(%11000011)
  2198 8876 00				dta b(%00000000)
  2199 8877 00				dta b(%00000000)
  2200
  2201 				;migajaca bomba i rakieta	
  2202 = 8878			bomba1	equ *
  2203 8878 00				dta b(%00000000)		;bomba
  2204 8879 00				dta b(%00000000)
  2205 887A 00				dta b(%00000000)
  2206 887B 20				dta b(%00100000)
  2207 887C 08				dta b(%00001000)
  2208 887D 03				dta b(%00000011)
  2209 887E 03				dta b(%00000011)
  2210 887F 23				dta b(%00100011)
  2211 					
  2212 8880 03				dta b(%00000011)
  2213 8881 03				dta b(%00000011)
  2214 8882 08				dta b(%00001000)
  2215 8883 20				dta b(%00100000)
  2216 8884 00				dta b(%00000000)
  2217 8885 00				dta b(%00000000)
  2218 8886 00				dta b(%00000000)
  2219 8887 00				dta b(%00000000)
  2220 					
  2221 8888 80				dta b(%10000000)
  2222 8889 80				dta b(%10000000)
  2223 888A 00				dta b(%00000000)
  2224 888B 02				dta b(%00000010)
  2225 888C C8				dta b(%11001000)
  2226 888D F0				dta b(%11110000)
  2227 888E F0				dta b(%11110000)
  2228 888F F2				dta b(%11110010)
  2229 					
  2230 8890 C0				dta b(%11000000)
  2231 8891 30				dta b(%00110000)
  2232 8892 C8				dta b(%11001000)
  2233 8893 02				dta b(%00000010)
  2234 8894 00				dta b(%00000000)
  2235 8895 80				dta b(%10000000)
  2236 8896 80				dta b(%10000000)
  2237 8897 00				dta b(%00000000)
  2238 					
  2239 = 8898			rakieta1	equ *
  2240 8898 20				dta b(%00100000)
  2241 8899 20				dta b(%00100000)		;w gore
  2242 889A FC				dta b(%11111100)
  2243 889B F4				dta b(%11110100)
  2244 889C FC				dta b(%11111100)
  2245 889D 20				dta b(%00100000)
  2246 889E A8				dta b(%10101000)
  2247 889F FC				dta b(%11111100)
  2248 					
  2249 88A0 FC				dta b(%11111100)		;w dol
  2250 88A1 A8				dta b(%10101000)
  2251 88A2 20				dta b(%00100000)
  2252 88A3 FC				dta b(%11111100)
  2253 88A4 F4				dta b(%11110100)
  2254 88A5 FC				dta b(%11111100)
  2255 88A6 20				dta b(%00100000)
  2256 88A7 20				dta b(%00100000)
  2257 				;pozioma rakieta
  2258 88A8 0C				dta b(%00001100)		;w lewo
  2259 88A9 3C				dta b(%00111100)
  2260 88AA BE				dta b(%10111110)
  2261 88AB BE				dta b(%10111110)
  2262 88AC 34				dta b(%00110100)
  2263 88AD 0C				dta b(%00001100)
  2264 88AE 00 00			dta b(0,0)
  2265 							
  2266 88B0 30				dta b(%00110000)		;w prawo
  2267 88B1 3C				dta b(%00111100)
  2268 88B2 BE				dta b(%10111110)
  2269 88B3 BE				dta b(%10111110)
  2270 88B4 1C				dta b(%00011100)
  2271 88B5 30				dta b(%00110000)
  2272 88B6 00 00			dta b(0,0)
  2273
  2274 					
  2275 = 88B8			blastoff_wav	equ *
  2276 88B8 88 88 33 38 EE 83 + 	ins 'samples/blastoff.wav'
  2277 = 91BA			blastoff_end	equ *
  2278 = 91BA			gameover_wav	equ *
  2279 91BA 77 76 77 78 8B CD + 	ins 'samples/gameover.wav'		;gameover1=duke nukem
  2280 = 9A24			gameover_end	equ *
  2281
  2282
  2283
  2284 = 9A24			alive_wav		equ *
  2285 9A24 8D FD 73 68 AB 84 + 	ins 'samples/alive1.wav'
  2286 = 9EED			alive_end		equ *
  2287 = 9EED			conred_wav	equ *
  2288 9EED 88 88 87 46 56 DA + 	ins 'samples/conred.wav'
  2289 = A8A2			conred_end	equ *
  2290 = A8A2			spy_wav			equ *
  2291 A8A2 4D FA 41 46 BE C8 + 	ins 'samples/spy.wav'
  2292 = B06B			spy_end			equ *
  2293 					
  2294 B06B					org $3000
  2295 = 3000			formation_wav	equ *
  2296 3000-37CE> 83 35 55 BF + 	ins 'samples/formation.wav'
  2297 = 37CF			formation_end	equ *
  2298 37CF						org $2200
  2299
  2300
  2301 							
  2302 								
  2303 							
  2304 				;scroluje maskę 1 pixel w prawo  , sec zamiast clc, w bom0a ile faz
  2305 = 2200			duszkiIni3	equ *
  2306 2200-2C0C> 8A					txa
  2307 2201 48						pha
  2308
  2309 2202 A5 CD					lda bom
  2310 2204 48						pha
  2311 2205 A5 CE					lda bom+1
  2312 2207 48						pha
  2313 							
  2314 2208 A6 CC					ldx bom0a
  2315 220A 86 CB					stx bom0
  2316 							
  2317 220C A2 10		@			ldx #16
  2318 220E A0 00		@			ldy #0
  2319 2210 B1 CD					lda (bom),y
  2320 2212 38						sec
  2321 2213 6A						ror @
  2322 2214 91 CD					sta (bom),y
  2323 2216 A0 10					ldy #16
  2324 2218 B1 CD					lda (bom),y
  2325 221A 6A						ror @
  2326 221B 91 CD					sta (bom),y
  2327 221D A0 20					ldy #32
  2328 221F B1 CD					lda (bom),y
  2329 2221 6A						ror @
  2330 2222 91 CD					sta (bom),y
  2331 2224 E6 CD					inc bom
  2332 2226 D0 02					bne *+4
  2333 2228 E6 CE					inc bom+1
  2334 222A CA						dex
  2335 222B D0 E1					bne @-
  2336 							
  2337 222D 18						clc
  2338 222E A5 CD					lda bom
  2339 2230 69 20					adc #32
  2340 2232 85 CD					sta bom
  2341 2234 90 02					bcc *+4
  2342 2236 E6 CE					inc bom+1
  2343 							
  2344 							
  2345 2238 C6 CB					dec bom0
  2346 223A D0 D0					bne @-1	
  2347 						
  2348 223C 68						pla
  2349 223D 85 CE					sta bom+1
  2350 223F 68						pla
  2351 2240 85 CD					sta bom
  2352 							
  2353 2242 68						pla
  2354 2243 AA						tax
  2355 2244 CA						dex
  2356 2245 D0 B9					bne duszkiIni3
  2357 							
  2358 2247 18						clc
  2359 2248 A5 CE					lda bom+1
  2360 224A 69 03					adc #3
  2361 224C 85 CE					sta bom+1
  2362 							
  2363 224E 60						rts				
  2364 							
  2365 							
  2366 				;scroluje ksztalt 1 pixel w prawo, w bom0a liczba faz
  2367 = 224F			duszkiIni2	equ *
  2368 224F 8A						txa
  2369 2250 48						pha
  2370
  2371 2251 A5 CD					lda bom
  2372 2253 48						pha
  2373 2254 A5 CE					lda bom+1
  2374 2256 48						pha
  2375 							
  2376 2257 A6 CC					ldx bom0a
  2377 2259 86 CB					stx bom0
  2378 							
  2379 225B A2 10		@			ldx #16
  2380 225D A0 00		@			ldy #0
  2381 225F B1 CD					lda (bom),y
  2382 2261 18						clc
  2383 2262 6A						ror @
  2384 2263 91 CD					sta (bom),y
  2385 2265 A0 10					ldy #16
  2386 2267 B1 CD					lda (bom),y
  2387 2269 6A						ror @
  2388 226A 91 CD					sta (bom),y
  2389 226C A0 20					ldy #32
  2390 226E B1 CD					lda (bom),y
  2391 2270 6A						ror @
  2392 2271 91 CD					sta (bom),y
  2393 2273 E6 CD					inc bom
  2394 2275 D0 02					bne *+4
  2395 2277 E6 CE					inc bom+1
  2396 2279 CA						dex
  2397 227A D0 E1					bne @-
  2398 							
  2399 227C 18						clc
  2400 227D A5 CD					lda bom
  2401 227F 69 20					adc #32
  2402 2281 85 CD					sta bom
  2403 2283 90 02					bcc *+4
  2404 2285 E6 CE					inc bom+1
  2405 							
  2406 2287 C6 CB					dec bom0
  2407 2289 D0 D0					bne @-1	
  2408 						
  2409 228B 68						pla
  2410 228C 85 CE					sta bom+1
  2411 228E 68						pla
  2412 228F 85 CD					sta bom
  2413 							
  2414 2291 68						pla
  2415 2292 AA						tax
  2416 2293 CA						dex
  2417 2294 D0 B9					bne duszkiIni2
  2418 							
  2419 2296 18						clc
  2420 2297 A5 CE					lda bom+1
  2421 2299 69 03					adc #3
  2422 229B 85 CE					sta bom+1
  2423 							
  2424 229D 60						rts			
  2425 							
  2426 				;przesuwa ksztalty w prawo			
  2427 = 229E			duszkiIni1	equ *
  2428 229E A2 10					ldx #16	;16faz
  2429 22A0 A0 00		@			ldy #0
  2430 22A2 B1 CD		@			lda (bom),y
  2431 22A4 91 CF					sta (bom1),y
  2432 22A6 C8						iny
  2433 22A7 C0 20					cpy #32
  2434 22A9 D0 F7					bne @-
  2435 							
  2436 22AB A5 CB					lda bom0		;0 dla ksztaltu, 255 dla maski
  2437 22AD 91 CF		@			sta (bom1),y
  2438 22AF C8						iny
  2439 22B0 C0 30					cpy #48
  2440 22B2 D0 F9					bne @-
  2441 							
  2442 22B4 18						clc
  2443 22B5 A5 CD					lda bom
  2444 22B7 69 20					adc #32
  2445 22B9 85 CD					sta bom
  2446 22BB 90 02					bcc @+
  2447 22BD E6 CE					inc bom+1
  2448
  2449 22BF 18			@			clc
  2450 22C0 A5 CF					lda bom1
  2451 22C2 69 30					adc #48
  2452 22C4 85 CF					sta bom1
  2453 22C6 90 02					bcc @+
  2454 22C8 E6 D0					inc bom1+1
  2455 							
  2456 22CA CA			@			dex
  2457 22CB D0 D3					bne @-4
  2458 22CD 60						rts
  2459
  2460 				;tworzy dokladna maskę			
  2461 = 22CE			largeMask	equ * ;w (bom) adres maski
  2462 22CE 8A						txa
  2463 22CF 48						pha
  2464
  2465 22D0 A0 1F					ldy #31		;wyczysc maske
  2466 22D2 A9 00					lda #0
  2467 22D4 99 42 23		@			sta maskbuf,y
  2468 22D7 88						dey
  2469 22D8 10 FA					bpl @-
  2470
  2471 22DA A2 07					ldx #7
  2472 22DC A0 0F		@			ldy #15
  2473
  2474 22DE 20 62 23		@			jsr getbits
  2475 22E1 D0 34					bne @+4
  2476 							
  2477 22E3 CA						dex				;sprawdz po lewo
  2478 22E4 30 08					bmi @+		;<0
  2479 22E6 20 62 23					jsr getbits
  2480 22E9 F0 03					beq @+			;=00
  2481 22EB 20 81 23					jsr ustawbits	;wpisz 00
  2482 22EE E8			@			inx
  2483 							
  2484 22EF E8						inx		;sprawdz po prawo
  2485 22F0 E0 08					cpx #8
  2486 22F2 B0 08					bcs @+	;poza zakresem
  2487 22F4 20 62 23					jsr getbits
  2488 22F7 F0 03					beq @+		;=00
  2489 22F9 20 81 23					jsr ustawbits
  2490 22FC CA			@			dex
  2491
  2492 22FD 88						dey			;sprawdz powyzej
  2493 22FE 30 08					bmi @+
  2494 2300 20 62 23					jsr getbits
  2495 2303 F0 03					beq @+
  2496 2305 20 81 23					jsr ustawbits
  2497 2308 C8			@			iny
  2498
  2499 2309 C8						iny			;sprawdz niżej
  2500 230A C0 10					cpy #16
  2501 230C B0 08					bcs @+
  2502 230E 20 62 23					jsr getbits
  2503 2311 F0 03					beq @+
  2504 2313 20 81 23					jsr ustawbits
  2505 2316 88			@			dey
  2506
  2507 2317 88			@			dey
  2508 2318 10 C4					bpl @-5
  2509 231A CA						dex
  2510 231B 10 BF					bpl @-6
  2511 							
  2512 231D A0 1F					ldy #31
  2513 231F B1 CD		@			lda (bom),y		;popraw i zapisz maske
  2514 2321 59 42 23					eor maskbuf,y	
  2515 2324 91 CD					sta (bom),y
  2516 2326 88						dey
  2517 2327 10 F6					bpl @-
  2518 							
  2519 2329 18						clc				;zwiekszamy ksztalt
  2520 232A A5 CD					lda bom
  2521 232C 69 20					adc #32
  2522 232E 85 CD					sta bom
  2523 2330 90 02					bcc @+
  2524 2332 E6 CE					inc bom+1
  2525 							
  2526 2334 68			@			pla
  2527 2335 AA						tax
  2528 2336 CA						dex
  2529 2337 10 95					bpl largeMask
  2530 							
  2531 2339 60						rts
  2532 							
  2533 233A C0 30 0C 03		tabgetbits	dta b(%11000000,%00110000,%00001100,%00000011)
  2534 233E 3F CF F3 FC		tabgetbits1	dta b(%00111111,%11001111,%11110011,%11111100)		
  2535 2342 00 00 00 00 00 00 + maskbuf		:32 dta b(0)	
  2536 = 2362			getbits		equ *
  2537 2362 8A						txa
  2538 2363 48						pha
  2539 2364 98						tya
  2540 2365 48						pha
  2541 							
  2542 2366 E0 04					cpx #4
  2543 2368 90 05					bcc @+
  2544 236A 98						tya
  2545 236B 18						clc
  2546 236C 69 10					adc #16
  2547 236E A8						tay
  2548
  2549 236F 8A			@			txa
  2550 2370 29 03					and #%11
  2551 2372 AA						tax
  2552 							
  2553 2373 B1 CD					lda (bom),y
  2554 2375 3D 3A 23					and tabgetbits,x
  2555 2378 85 CB					sta bom0
  2556 							
  2557 237A 68						pla 
  2558 237B A8						tay
  2559 237C 68						pla
  2560 237D AA						tax
  2561 237E A5 CB					lda bom0
  2562 2380 60						rts
  2563 							
  2564 = 2381			ustawbits	equ *
  2565 2381 8A						txa
  2566 2382 48						pha
  2567 2383 98						tya
  2568 2384 48						pha
  2569 							
  2570 2385 E0 04					cpx #4
  2571 2387 90 05					bcc @+
  2572 2389 98						tya
  2573 238A 18						clc
  2574 238B 69 10					adc #16
  2575 238D A8						tay
  2576
  2577 238E 8A			@			txa
  2578 238F 29 03					and #%11
  2579 2391 AA						tax
  2580 							
  2581 2392 B9 42 23					lda maskbuf,y
  2582 2395 3D 3E 23					and tabgetbits1,x
  2583 2398 1D 3A 23					ora tabgetbits,x
  2584 239B 99 42 23					sta maskbuf,y
  2585 							
  2586 239E 68						pla 
  2587 239F A8						tay
  2588 23A0 68						pla
  2589 23A1 AA						tax
  2590 23A2 60						rts
  2591 							
  2592 							
  2593 				;tworzy maske ze skokiem 32 bajty, czyli 2 strony
  2594 = 23A3			makeMask1	equ *
  2595 23A3 A2 04					ldx #4		;16 faz
  2596 							
  2597 23A5 A0 7F		mm2			ldy #127
  2598 23A7 B1 CD		mm1			lda (bom),y
  2599 							
  2600 23A9 85 CB					sta bom0
  2601 23AB 29 C0					and #%11000000
  2602 23AD F0 02					beq @+
  2603 23AF A9 C0					lda #%11000000
  2604 23B1 49 C0		@			eor #%11000000
  2605 23B3 85 CC					sta bom0a
  2606
  2607 23B5 A5 CB					lda bom0
  2608 23B7 29 30					and #%00110000
  2609 23B9 F0 02					beq @+
  2610 23BB A9 30					lda #%00110000
  2611 23BD 49 30		@			eor #%00110000
  2612 23BF 05 CC					ora bom0a
  2613 23C1 85 CC					sta bom0a
  2614 							
  2615 23C3 A5 CB					lda bom0
  2616 23C5 29 0C					and #%00001100
  2617 23C7 F0 02					beq @+
  2618 23C9 A9 0C					lda #%00001100
  2619 23CB 49 0C		@			eor #%00001100
  2620 23CD 05 CC					ora bom0a
  2621 23CF 85 CC					sta bom0a
  2622 							
  2623 23D1 A5 CB					lda bom0
  2624 23D3 29 03					and #%00000011
  2625 23D5 F0 02					beq @+
  2626 23D7 A9 03					lda #%00000011
  2627 23D9 49 03		@			eor #%00000011
  2628 23DB 05 CC					ora bom0a
  2629 							
  2630 23DD 91 CF					sta (bom1),y
  2631 23DF 88						dey
  2632 23E0 10 C5					bpl mm1
  2633 							
  2634 							
  2635 23E2 18						clc
  2636 23E3 A5 CD					lda bom
  2637 23E5 69 80					adc #128
  2638 23E7 85 CD					sta bom
  2639 23E9 A5 CE					lda bom+1
  2640 23EB 69 00					adc #0
  2641 23ED 85 CE					sta bom+1
  2642 23EF 18						clc
  2643 23F0 A5 CF					lda bom1
  2644 23F2 69 80					adc #128
  2645 23F4 85 CF					sta bom1
  2646 23F6 A5 D0					lda bom1+1
  2647 23F8 69 00					adc #0
  2648 23FA 85 D0					sta bom1+1
  2649 							
  2650 23FC CA						dex
  2651 23FD D0 A6					bne mm2
  2652 							
  2653 23FF 60						rts
  2654
  2655 						
  2656
  2657 						
  2658 				;zmiana koloru sprita, zamien 01 na 10 i odwrotnie , 00 i 11 bez zmian
  2659 = 2400			change_color	equ *
  2660 2400 85 CD					sta bom
  2661 2402 A9 00 85 CE					mva #0 bom+1
  2662 2406 A0 04					ldy #4
  2663 							
  2664 2408 A5 CD		@			lda bom
  2665 240A 0A						asl
  2666 240B 26 CE					rol bom+1
  2667 240D 0A						asl
  2668 240E 26 CE					rol bom+1
  2669 2410 85 CD					sta bom
  2670 							
  2671 2412 A5 CE					lda bom+1
  2672 2414 29 03					and #%11
  2673 2416 F0 06					beq @+
  2674 2418 C9 03					cmp #%11
  2675 241A F0 02					beq @+
  2676 241C 49 03					eor #%11
  2677 241E 85 CF		@			sta bom1
  2678 2420 A5 CE					lda bom+1
  2679 2422 29 FC					and #%11111100
  2680 2424 05 CF					ora bom1
  2681 2426 85 CE					sta bom+1
  2682 2428 88						dey
  2683 2429 D0 DD					bne @-1
  2684 							
  2685 242B A5 CE					lda bom+1
  2686 242D 60						rts
  2687
  2688 = 242E			przepisz_sampla	equ *
  2689 242E A5 CF 9D 98 CF A5 + 			mwa bom1 sample,x
  2690 2438 A0 00					ldy #0
  2691 243A B1 CD		@			lda (bom),y
  2692 243C 91 CF					sta (bom1),y
  2693 							
  2694 243E E6 CD					inc bom
  2695 2440 D0 02					bne *+4
  2696 2442 E6 CE					inc bom+1
  2697 							
  2698 2444 E6 CF					inc bom1
  2699 2446 D0 02					bne *+4
  2700 2448 E6 D0					inc bom1+1
  2701 						
  2702 244A A5 CD		@			lda bom
  2703 244C C5 CB					cmp bom2
  2704 244E D0 EA					bne @-1
  2705 2450 A5 CE					lda bom+1
  2706 2452 C5 CC					cmp bom2+1
  2707 2454 D0 E4					bne @-1
  2708 							
  2709 2456 A5 CF 9D A4 CF A5 + 			mwa bom1 sampleEnd,x
  2710 							
  2711 2460 60						rts
  2712 							
  2713 				;utworz tabele ksztaltow/mask , adres tablicy  lmb=x smb=y, ksztalt/maska w (bom)			
  2714 = 2461			makeShapeTab	equ *
  2715 2461 8E 8C 24					stx _mst1
  2716 2464 8C 8D 24					sty _mst1+1
  2717 2467 18						clc
  2718 2468 8A						txa
  2719 2469 69 40					adc #64
  2720 246B 8D 91 24					sta _mst2
  2721 246E 98						tya
  2722 246F 69 00					adc #0
  2723 2471 8D 92 24					sta _mst2+1
  2724 							
  2725 2474 A2 00					ldx #0
  2726 2476 A0 10					ldy #16
  2727 2478 A9 20					lda #32
  2728 247A 20 84 24					jsr makeShapeTab1
  2729 247D A0 40					ldy #64
  2730 247F A9 30					lda #48
  2731 2481 4C 84 24					jmp makeShapeTab1
  2732 							
  2733 							
  2734 = 2484			makeShapeTab1	equ *	
  2735 2484 85 CB					sta bom0
  2736 2486 8C A0 24					sty _mst3
  2737 2489 A5 CD 9D FF FF	@			mva bom $ffff,x
  2738 = 248C			_mst1		equ *-2
  2739 248E A5 CE 9D 00 FF				mva bom+1 $ff00,x
  2740 = 2491			_mst2		equ *-2
  2741 2493 18						clc
  2742 2494 A5 CD					lda bom
  2743 2496 65 CB					adc bom0
  2744 2498 85 CD					sta bom
  2745 249A 90 02					bcc *+4
  2746 249C E6 CE					inc bom+1
  2747 249E E8						inx
  2748 = 24A0			_mst3		equ *+1			
  2749 249F E0 FF					cpx #$ff
  2750 24A1 D0 E6					bne @-
  2751 24A3 60						rts			
  2752 								
  2753 = 24A4			makeShapes	equ *
  2754 24A4 A9 00 85 CB					mva #0 bom0
  2755 24A8 A5 CD					lda bom
  2756 24AA 85 CF					sta bom1
  2757 24AC 18						clc
  2758 24AD A5 CE					lda bom+1
  2759 24AF 69 02					adc #2
  2760 24B1 85 D0					sta bom1+1
  2761 							
  2762 24B3 20 9E 22					jsr duszkiIni1
  2763 24B6 C6 CE					dec bom+1
  2764 24B8 C6 CE					dec bom+1
  2765 24BA 20 9E 22					jsr duszkiIni1
  2766 24BD C6 CE					dec bom+1
  2767 24BF C6 CE					dec bom+1
  2768 24C1 20 9E 22					jsr duszkiIni1
  2769 							
  2770 24C4 A9 10 85 CC					mva #16 bom0a
  2771 24C8 A2 02					ldx #2
  2772 24CA 20 4F 22					jsr duszkiIni2
  2773 24CD A2 04					ldx #4
  2774 24CF 20 4F 22					jsr duszkiIni2
  2775 24D2 A2 06					ldx #6
  2776 24D4 4C 4F 22					jmp duszkiIni2
  2777 							
  2778 = 24D7			makeMask2	equ *
  2779 24D7 A9 FF 85 CB					mva #255 bom0
  2780 24DB A5 CD					lda bom
  2781 24DD 85 CF					sta bom1
  2782 24DF 18						clc
  2783 24E0 A5 CE					lda bom+1
  2784 24E2 69 02					adc #2
  2785 24E4 85 D0					sta bom1+1
  2786 							
  2787 24E6 20 9E 22					jsr duszkiIni1
  2788 24E9 C6 CE					dec bom+1
  2789 24EB C6 CE					dec bom+1
  2790 24ED 20 9E 22					jsr duszkiIni1
  2791 24F0 C6 CE					dec bom+1
  2792 24F2 C6 CE					dec bom+1
  2793 24F4 20 9E 22					jsr duszkiIni1
  2794 							
  2795 24F7 A9 10 85 CC					mva #16 bom0a
  2796 24FB A2 02					ldx #2
  2797 24FD 20 00 22					jsr duszkiIni3
  2798 2500 A2 04					ldx #4
  2799 2502 20 00 22					jsr duszkiIni3
  2800 2505 A2 06					ldx #6
  2801 2507 4C 00 22					jmp duszkiIni3			
  2802 							
  2803 							
  2804 				;kopiowanie danych do bankow pamieci
  2805
  2806
  2807 							
  2808 				;przepisuje ksztalty duszkow do banków pamięci
  2809 = 250A			init_banki	equ *
  2810 250A 78						sei					;wyłącz ROM
  2811 250B A9 00 8D 0E D4				mva #0 NMIEN
  2812 2510 A9 FE 8D 01 D3				mva #BANK0 PORTB
  2813 				;1 duszek
  2814 2515 A9 EE 8D 01 D3				mva #BANK1 PORTB		;włączamy 1 bank
  2815 							
  2816 251A A2 00					ldx #0
  2817 251C BD 18 82		@			lda enemy1kszt,x
  2818 251F 9D 00 42					sta enemy1adr,x
  2819 2522 BD 18 83					lda enemy1kszt+$100,x
  2820 2525 9D 00 43					sta enemy1adr+$100,x
  2821 2528 CA						dex
  2822 2529 D0 F1					bne @-
  2823 							
  2824 252B A9 00 85 CD A9 42 + 			mwa #enemy1adr bom		;przepisz i przesuń kształty
  2825 2533 20 A4 24					jsr makeShapes
  2826 							
  2827 2536 A9 00 85 CD A9 42 + 			mwa #enemy1adr bom
  2828 253E A2 00					ldx #<enemy1shapeTab
  2829 2540 A0 40					ldy #>enemy1shapeTab
  2830 2542 20 61 24					jsr makeShapeTab
  2831 				;maska12
  2832 2545 A9 00 85 CD A9 42 + 			mwa #enemy1adr bom
  2833 254D A9 00 85 CF A9 58 + 			mwa #enemy1mask	bom1
  2834 2555 20 A3 23					jsr makeMask1
  2835 2558 A9 00 85 CD A9 58 + 			mwa #enemy1mask	bom
  2836 2560 A2 0F					ldx #15
  2837 2562 20 CE 22					jsr largeMask
  2838 							
  2839 2565 A9 00 85 CD A9 58 + 			mwa #enemy1mask bom
  2840 256D 20 D7 24					jsr makeMask2
  2841 							
  2842 2570 A9 00 85 CD A9 58 + 			mwa #enemy1mask bom
  2843 2578 A2 80					ldx #<enemy1maskTab
  2844 257A A0 40					ldy #>enemy1maskTab
  2845 257C 20 61 24					jsr makeShapeTab
  2846 							
  2847 				;2 duszek
  2848 257F A2 00					ldx #0
  2849 2581 BD 18 82		@			lda enemy1kszt,x
  2850 2584 20 00 24					jsr change_color
  2851 2587 9D 00 4D					sta enemy2adr,x
  2852 258A BD 18 83					lda enemy1kszt+$100,x
  2853 258D 20 00 24					jsr change_color
  2854 2590 9D 00 4E					sta enemy2adr+$100,x
  2855 2593 CA						dex
  2856 2594 D0 EB					bne @-
  2857 							
  2858 2596 A9 00 85 CD A9 4D + 			mwa #enemy2adr bom
  2859 259E 20 A4 24					jsr makeShapes
  2860 							
  2861 25A1 A9 00 85 CD A9 4D + 			mwa #enemy2adr bom
  2862 25A9 A2 00					ldx #<enemy2shapeTab
  2863 25AB A0 41					ldy #>enemy2shapeTab
  2864 25AD 20 61 24					jsr makeShapeTab
  2865 							
  2866 25B0 A9 00 85 CD A9 58 + 			mwa #enemy1mask bom
  2867 25B8 A2 80					ldx #<enemy2maskTab
  2868 25BA A0 41					ldy #>enemy2maskTab
  2869 25BC 20 61 24					jsr makeShapeTab
  2870
  2871 				;3 duszek
  2872 25BF A9 EA 8D 01 D3				mva #BANK2 PORTB
  2873 							
  2874 25C4 A2 00					ldx #0
  2875 25C6 BD 18 84		@			lda enemy3kszt,x
  2876 25C9 9D 00 42					sta enemy3adr,x
  2877 25CC BD 18 85					lda enemy3kszt+$100,x
  2878 25CF 9D 00 43					sta enemy3adr+$100,x
  2879 25D2 CA						dex
  2880 25D3 D0 F1					bne @-
  2881 							
  2882 25D5 A9 00 85 CD A9 42 + 			mwa #enemy3adr bom
  2883 25DD 20 A4 24					jsr makeShapes
  2884 							
  2885 25E0 A9 00 85 CD A9 42 + 			mwa #enemy3adr bom
  2886 25E8 A2 00					ldx #<enemy3shapeTab
  2887 25EA A0 40					ldy #>enemy3shapeTab
  2888 25EC 20 61 24					jsr makeShapeTab
  2889 						
  2890 				;mask34			
  2891 							
  2892 25EF A9 00 85 CD A9 42 + 			mwa #enemy3adr bom
  2893 25F7 A9 00 85 CF A9 58 + 			mwa #enemy3mask	bom1
  2894 25FF 20 A3 23					jsr makeMask1
  2895 2602 A9 00 85 CD A9 58 + 			mwa #enemy3mask	bom
  2896 260A A2 0F					ldx #15
  2897 260C 20 CE 22					jsr largeMask
  2898 							
  2899 260F A9 00 85 CD A9 58 + 			mwa #enemy3mask bom
  2900 2617 20 D7 24					jsr makeMask2
  2901 							
  2902 261A A9 00 85 CD A9 58 + 			mwa #enemy3mask bom
  2903 2622 A2 80					ldx #<enemy3maskTab
  2904 2624 A0 40					ldy #>enemy3maskTab
  2905 2626 20 61 24					jsr makeShapeTab
  2906 							
  2907 				;4 duszek
  2908 2629 A2 00					ldx #0
  2909 262B BD 18 84		@			lda enemy3kszt,x
  2910 262E 20 00 24					jsr change_color
  2911 2631 9D 00 4D					sta enemy4adr,x
  2912 2634 BD 18 85					lda enemy3kszt+$100,x
  2913 2637 20 00 24					jsr change_color
  2914 263A 9D 00 4E					sta enemy4adr+$100,x
  2915 263D CA						dex
  2916 263E D0 EB					bne @-
  2917 							
  2918 2640 A9 00 85 CD A9 4D + 			mwa #enemy4adr bom
  2919 2648 20 A4 24					jsr makeShapes
  2920 							
  2921 264B A9 00 85 CD A9 4D + 			mwa #enemy4adr bom
  2922 2653 A2 00					ldx #<enemy4shapeTab
  2923 2655 A0 41					ldy #>enemy4shapeTab
  2924 2657 20 61 24					jsr makeShapeTab
  2925 							
  2926 265A A9 00 85 CD A9 58 + 			mwa #enemy3mask bom			;ta sama maska co enemy3
  2927 2662 A2 80					ldx #<enemy4maskTab
  2928 2664 A0 41					ldy #>enemy4maskTab
  2929 2666 20 61 24					jsr makeShapeTab
  2930 							
  2931 				;spy
  2932 2669 A9 E6 8D 01 D3				mva #BANK3 PORTB
  2933 							
  2934 266E A2 00					ldx #0
  2935 2670 BD 18 86		@			lda enemy5kszt,x
  2936 2673 9D 00 42					sta enemy5adr,x
  2937 2676 BD 18 87					lda enemy5kszt+$100,x
  2938 2679 9D 00 43					sta enemy5adr+$100,x
  2939 267C CA						dex
  2940 267D D0 F1					bne @-
  2941 							
  2942 267F A9 00 85 CD A9 42 + 			mwa #enemy5adr bom
  2943 2687 20 A4 24					jsr makeShapes
  2944 							
  2945 268A A9 00 85 CD A9 42 + 			mwa #enemy5adr bom
  2946 2692 A2 00					ldx #<enemy5shapeTab
  2947 2694 A0 40					ldy #>enemy5shapeTab
  2948 2696 20 61 24					jsr makeShapeTab
  2949 							
  2950 2699 A9 00 85 CD A9 42 + 			mwa #enemy5adr bom
  2951 26A1 A9 00 85 CF A9 4D + 			mwa #enemy5mask	bom1
  2952 26A9 20 A3 23					jsr makeMask1
  2953 26AC A9 00 85 CD A9 4D + 			mwa #enemy5mask	bom
  2954 26B4 A2 0F					ldx #15
  2955 26B6 20 CE 22					jsr largeMask
  2956 							
  2957 26B9 A9 00 85 CD A9 4D + 			mwa #enemy5mask bom
  2958 26C1 20 D7 24					jsr makeMask2
  2959 							
  2960 26C4 A9 00 85 CD A9 4D + 			mwa #enemy5mask bom
  2961 26CC A2 80					ldx #<enemy5maskTab
  2962 26CE A0 40					ldy #>enemy5maskTab
  2963 26D0 20 61 24					jsr makeShapeTab
  2964 						
  2965 				;wybuch
  2966 26D3 A2 5F					ldx #95
  2967 26D5 BD 18 88		@			lda explo_kszt,x
  2968 26D8 9D 00 58					sta explo_adr,x
  2969 26DB CA						dex
  2970 26DC 10 F7					bpl @-
  2971 							
  2972 26DE A9 00 85 CB					mva #0 bom0
  2973 							
  2974 26E2 A9 00 85 CD A9 58 + 			mwa #explo_adr bom
  2975 26EA A9 60 85 CF A9 58 + 			mwa #(explo_adr+96) bom1	
  2976 26F2 A2 03					ldx #3
  2977 26F4 20 A0 22					jsr duszkiini1+2
  2978 26F7 A9 00 85 CD A9 58 + 			mwa #explo_adr bom
  2979 							;mwa #(explo_adr+240) bom1		
  2980 26FF A2 03					ldx #3
  2981 2701 20 A0 22					jsr duszkiini1+2
  2982 2704 A9 00 85 CD A9 58 + 			mwa #explo_adr bom
  2983 							;mwa #(explo_adr+384) bom1
  2984 270C A2 03					ldx #3
  2985 270E 20 A0 22					jsr duszkiini1+2
  2986 							
  2987 2711 A9 60 85 CD A9 58 + 			mwa #(explo_adr+96) bom
  2988 							
  2989 2719 A9 03 85 CC					mva #3 bom0a		;4fazy
  2990 271D A2 02					ldx #2
  2991 271F 20 4F 22					jsr duszkiIni2
  2992 							
  2993 2722 A9 F0 85 CD A9 58 + 			mwa #(explo_adr+240) bom
  2994 272A A2 04					ldx #4
  2995 272C 20 4F 22					jsr duszkiIni2
  2996 							
  2997 272F A9 80 85 CD A9 59 + 			mwa #(explo_adr+384) bom				
  2998 2737 A2 06					ldx #6
  2999 2739 20 4F 22					jsr duszkiIni2
  3000
  3001 273C A9 00 8D 00 41				mva #<(explo_adr) explo_shapetab
  3002 2741 8D 01 41					sta explo_shapetab+1
  3003 2744 A9 58 8D 40 41				mva #>(explo_adr) explo_shapetab+64
  3004 2749 8D 41 41					sta explo_shapetab+64+1
  3005 274C A9 20 8D 02 41				mva #<(explo_adr+32) explo_shapetab+2
  3006 2751 A9 58 8D 42 41				mva #>(explo_adr+32) explo_shapetab+64+2
  3007 2756 A9 40 8D 03 41				mva #<(explo_adr+64) explo_shapetab+3
  3008 275B A9 58 8D 43 41				mva #>(explo_adr+64) explo_shapetab+64+3
  3009 							
  3010 2760 A9 60 8D 10 41				mva #<(explo_adr+96) explo_shapetab+16
  3011 2765 8D 11 41					sta explo_shapetab+16+1
  3012 2768 A9 58 8D 50 41				mva #>(explo_adr+96) explo_shapetab+64+16
  3013 276D 8D 51 41					sta explo_shapetab+64+16+1
  3014 2770 A9 90 8D 12 41				mva #<(explo_adr+96+48) explo_shapetab+16+2
  3015 2775 A9 58 8D 52 41				mva #>(explo_adr+96+48) explo_shapetab+64+16+2
  3016 277A A9 C0 8D 13 41				mva #<(explo_adr+96+48+48) explo_shapetab+16+3
  3017 277F A9 58 8D 53 41				mva #>(explo_adr+64+48+48) explo_shapetab+64+16+3
  3018 							
  3019 2784 A9 F0 8D 20 41				mva #<(explo_adr+96+144) explo_shapetab+32
  3020 2789 8D 21 41					sta explo_shapetab+32+1
  3021 278C A9 58 8D 60 41				mva #>(explo_adr+96+144) explo_shapetab+64+32
  3022 2791 8D 61 41					sta explo_shapetab+64+32+1
  3023 2794 A9 20 8D 22 41				mva #<(explo_adr+96+144+48) explo_shapetab+32+2
  3024 2799 A9 59 8D 62 41				mva #>(explo_adr+96+144+48) explo_shapetab+64+32+2
  3025 279E A9 50 8D 23 41				mva #<(explo_adr+96+144+48+48) explo_shapetab+32+3
  3026 27A3 A9 59 8D 63 41				mva #>(explo_adr+64+144+48+48) explo_shapetab+64+32+3
  3027 							
  3028 27A8 A9 80 8D 30 41				mva #<(explo_adr+96+144+144) explo_shapetab+48
  3029 27AD 8D 31 41					sta explo_shapetab+48+1
  3030 27B0 A9 59 8D 70 41				mva #>(explo_adr+96+144+144) explo_shapetab+64+48
  3031 27B5 8D 71 41					sta explo_shapetab+64+48+1
  3032 27B8 A9 B0 8D 32 41				mva #<(explo_adr+96+144+144+48) explo_shapetab+48+2
  3033 27BD A9 59 8D 72 41				mva #>(explo_adr+96+144+144+48) explo_shapetab+64+48+2
  3034 27C2 A9 E0 8D 33 41				mva #<(explo_adr+96+144+144+48+48) explo_shapetab+48+3
  3035 27C7 A9 59 8D 73 41				mva #>(explo_adr+64+144+144+48+48) explo_shapetab+64+48+3
  3036 				;mask_explo			
  3037 27CC A9 00 85 CD A9 58 + 			mwa #explo_adr bom
  3038 27D4 A9 00 85 CF A9 5B + 			mwa #explo_mask	bom1
  3039 27DC A2 01					ldx #1
  3040 27DE 20 A5 23					jsr makeMask1+2
  3041 27E1 A9 00 85 CD A9 5B + 			mwa #explo_mask	bom
  3042 27E9 A2 02					ldx #2		;ile faz-1
  3043 27EB 20 CE 22					jsr largeMask
  3044 							
  3045 27EE A9 FF 85 CB					mva #255 bom0
  3046 							
  3047 27F2 A9 00 85 CD A9 5B + 			mwa #explo_mask bom		;kopiujemy podstawowa maske
  3048 27FA A9 60 85 CF A9 5B + 			mwa #(explo_mask+96) bom1	;
  3049 2802 A2 03					ldx #3
  3050 2804 20 A0 22					jsr duszkiini1+2
  3051 2807 A9 00 85 CD A9 5B + 			mwa #explo_mask bom
  3052 							;mwa #(explo_mask+240) bom1		;3*256+48
  3053 280F A2 03					ldx #3
  3054 2811 20 A0 22					jsr duszkiini1+2
  3055 2814 A9 00 85 CD A9 5B + 			mwa #explo_mask bom
  3056 							;mwa #(explo_mask+384) bom1			;6*256+96+512  (zajmuje strone do )
  3057 281C A2 03					ldx #3
  3058 281E 20 A0 22					jsr duszkiini1+2
  3059 							
  3060 2821 A9 60 85 CD A9 5B + 			mwa #(explo_mask+96) bom	
  3061 2829 A9 03 85 CC					mva #3 bom0a		;tylko 3 fazy
  3062 282D A2 02					ldx #2
  3063 282F 20 00 22					jsr duszkiIni3				;robimy przesuniecia maski
  3064 							
  3065 2832 A9 F0 85 CD A9 5B + 			mwa #(explo_mask+240) bom	
  3066 283A A2 04					ldx #4
  3067 283C 20 00 22					jsr duszkiIni3
  3068 									
  3069 283F A9 80 85 CD A9 5C + 			mwa #(explo_mask+384) bom			
  3070 2847 A2 06					ldx #6
  3071 2849 20 00 22					jsr duszkiIni3
  3072 							
  3073 				;maska			
  3074 284C A9 00 8D 80 41				mva #<(explo_mask) explo_masktab
  3075 2851 8D 81 41					sta explo_masktab+1
  3076 2854 A9 5B 8D C0 41				mva #>(explo_mask) explo_masktab+64
  3077 2859 8D C1 41					sta explo_masktab+64+1
  3078 285C A9 20 8D 82 41				mva #<(explo_mask+32) explo_masktab+2
  3079 2861 A9 5B 8D C2 41				mva #>(explo_mask+32) explo_masktab+64+2
  3080 2866 A9 40 8D 83 41				mva #<(explo_mask+64) explo_masktab+3
  3081 286B A9 5B 8D C3 41				mva #>(explo_mask+64) explo_masktab+64+3
  3082 							
  3083 2870 A9 60 8D 90 41				mva #<(explo_mask+96) explo_masktab+16
  3084 2875 8D 91 41					sta explo_masktab+16+1
  3085 2878 A9 5B 8D D0 41				mva #>(explo_mask+96) explo_masktab+64+16
  3086 287D 8D D1 41					sta explo_masktab+64+16+1
  3087 2880 A9 90 8D 92 41				mva #<(explo_mask+96+48) explo_masktab+16+2
  3088 2885 A9 5B 8D D2 41				mva #>(explo_mask+96+48) explo_masktab+64+16+2
  3089 288A A9 C0 8D 93 41				mva #<(explo_mask+96+48+48) explo_masktab+16+3
  3090 288F A9 5B 8D D3 41				mva #>(explo_mask+64+48+48) explo_masktab+64+16+3
  3091 							
  3092 2894 A9 F0 8D A0 41				mva #<(explo_mask+96+144) explo_masktab+32
  3093 2899 8D A1 41					sta explo_masktab+32+1
  3094 289C A9 5B 8D E0 41				mva #>(explo_mask+96+144) explo_masktab+64+32
  3095 28A1 8D E1 41					sta explo_masktab+64+32+1
  3096 28A4 A9 20 8D A2 41				mva #<(explo_mask+96+144+48) explo_masktab+32+2
  3097 28A9 A9 5C 8D E2 41				mva #>(explo_mask+96+144+48) explo_masktab+64+32+2
  3098 28AE A9 50 8D A3 41				mva #<(explo_mask+96+144+48+48) explo_masktab+32+3
  3099 28B3 A9 5C 8D E3 41				mva #>(explo_mask+64+144+48+48) explo_masktab+64+32+3
  3100 28B8 A9 80 8D B0 41				mva #<(explo_mask+96+144+144) explo_masktab+48
  3101 28BD 8D B1 41					sta explo_masktab+48+1
  3102 28C0 A9 5C 8D F0 41				mva #>(explo_mask+96+144+144) explo_masktab+64+48
  3103 28C5 8D F1 41					sta explo_masktab+64+48+1
  3104 28C8 A9 B0 8D B2 41				mva #<(explo_mask+96+144+144+48) explo_masktab+48+2
  3105 28CD A9 5C 8D F2 41				mva #>(explo_mask+96+144+144+48) explo_masktab+64+48+2
  3106 28D2 A9 E0 8D B3 41				mva #<(explo_mask+96+144+144+48+48) explo_masktab+48+3
  3107 28D7 A9 5C 8D F3 41				mva #>(explo_mask+64+144+144+48+48) explo_masktab+64+48+3
  3108 							
  3109 = 6700			bonus_adr	equ $6700
  3110 = 6900			bonus_mask	equ $6900
  3111 = 6600			bonus_shapetab	equ $6600
  3112
  3113 							
  3114 				;bonus
  3115 28DC A9 EE 8D 01 D3				mva #BANK1 PORTB
  3116
  3117 28E1 A2 C0					ldx #192
  3118 28E3 BD 8C 2A		@			lda bonus200-1,x
  3119 28E6 9D FF 66					sta bonus_adr-1,x
  3120 28E9 BD 4C 2B					lda bonus200m-1,x
  3121 28EC 9D FF 68					sta bonus_mask-1,x
  3122 28EF CA						dex
  3123 28F0 D0 F1					bne @-
  3124
  3125 28F2 A9 00 8D 10 66				mva #<(bonus_adr) bonus_shapetab+16
  3126 28F7 A9 67 8D 50 66				mva #>(bonus_adr) bonus_shapetab+64+16
  3127 28FC A9 30 8D 11 66				mva #<(bonus_adr+48) bonus_shapetab+16+1
  3128 2901 A9 67 8D 51 66				mva #>(bonus_adr+48) bonus_shapetab+64+16+1
  3129 2906 A9 60 8D 12 66				mva #<(bonus_adr+96) bonus_shapetab+16+2
  3130 290B A9 67 8D 52 66				mva #>(bonus_adr+96) bonus_shapetab+64+16+2
  3131 2910 A9 90 8D 13 66				mva #<(bonus_adr+144) bonus_shapetab+16+3
  3132 2915 A9 67 8D 53 66				mva #>(bonus_adr+144) bonus_shapetab+64+16+3
  3133 							
  3134 291A A9 00 8D 90 66				mva #<(bonus_mask) bonus_shapetab+128+16
  3135 291F A9 69 8D D0 66				mva #>(bonus_mask) bonus_shapetab+128+64+16
  3136 2924 A9 30 8D 91 66				mva #<(bonus_mask+48) bonus_shapetab+128+16+1
  3137 2929 A9 69 8D D1 66				mva #>(bonus_mask+48) bonus_shapetab+128+64+16+1
  3138 292E A9 60 8D 92 66				mva #<(bonus_mask+96) bonus_shapetab+128+16+2
  3139 2933 A9 69 8D D2 66				mva #>(bonus_mask+96) bonus_shapetab+128+64+16+2
  3140 2938 A9 90 8D 93 66				mva #<(bonus_mask+144) bonus_shapetab+128+16+3
  3141 293D A9 69 8D D3 66				mva #>(bonus_mask+144) bonus_shapetab+128+64+16+3
  3142
  3143 							
  3144 				;sample
  3145 2942 A9 E2 8D 01 D3				mva #BANK4 PORTB
  3146
  3147 2947 A2 00					ldx #0
  3148 2949 A9 B8 85 CD A9 88 + 			mwa #blastoff_wav bom
  3149 2951 A9 00 85 CF A9 D8 + 			mwa #sample1adr bom1
  3150 2959 A9 BA 85 CB A9 91 + 			mwa #blastoff_end bom2
  3151 2961 20 2E 24					jsr przepisz_sampla
  3152 							
  3153 2964 A2 02					ldx #2
  3154 2966 A9 BA 85 CD A9 91 + 			mwa #gameover_wav bom
  3155 296E A9 02 85 CF A9 E1 + 			mwa #sample2adr bom1
  3156 2976 A9 24 85 CB A9 9A + 			mwa #gameover_end bom2
  3157 297E 20 2E 24					jsr przepisz_sampla
  3158 							
  3159 2981 A2 04					ldx #4
  3160 2983 A9 24 85 CD A9 9A + 			mwa #alive_wav bom
  3161 298B A9 6C 85 CF A9 E9 + 			mwa #sample3adr bom1
  3162 2993 A9 ED 85 CB A9 9E + 			mwa #alive_end bom2
  3163 299B 20 2E 24					jsr przepisz_sampla
  3164
  3165 299E A2 06					ldx #6
  3166 29A0 A9 ED 85 CD A9 9E + 			mwa #conred_wav bom
  3167 29A8 A9 35 85 CF A9 EE + 			mwa #sample4adr bom1
  3168 29B0 A9 A2 85 CB A9 A8 + 			mwa #conred_end bom2
  3169 29B8 20 2E 24					jsr przepisz_sampla
  3170 							
  3171 29BB A2 08					ldx #8
  3172 29BD A9 A2 85 CD A9 A8 + 			mwa #spy_wav bom
  3173 29C5 A9 00 85 CF A9 C0 + 			mwa #sample5adr bom1
  3174 29CD A9 6B 85 CB A9 B0 + 			mwa #spy_end bom2
  3175 					
  3176 29D5 20 2E 24					jsr przepisz_sampla
  3177 							
  3178 29D8 A2 0A					ldx #10
  3179 29DA A9 00 85 CD A9 30 + 			mwa #formation_wav bom
  3180 29E2 A9 C9 85 CF A9 C7 + 			mwa #sample6adr bom1
  3181 29EA A9 CF 85 CB A9 37 + 			mwa #formation_end bom2
  3182 29F2 20 2E 24					jsr przepisz_sampla
  3183
  3184 							
  3185 29F5 A2 00					ldx #0
  3186 29F7 BD 00 80		@			lda znaki_ad,x
  3187 29FA 9D 00 B8					sta znaki1,x
  3188 29FD 9D 00 BC					sta znaki2,x
  3189 2A00 BD 00 81					lda znaki_ad+$100,x
  3190 2A03 9D 00 B9					sta znaki1+$100,x
  3191 2A06 9D 00 BD					sta znaki2+$100,x
  3192 2A09 BD 00 82					lda znaki_ad+$200,x
  3193 2A0C CA						dex
  3194 2A0D D0 E8					bne @-
  3195 							
  3196 2A0F A2 1F					ldx #31
  3197 2A11 BD 78 88		@			lda bomba1,x
  3198 2A14 9D F8 BC					sta znaki2+firstBombaChar*8,x
  3199 2A17 CA						dex
  3200 2A18 10 F7					bpl @-
  3201 						
  3202 2A1A A2 07					ldx #7
  3203 2A1C BD 98 88		@			lda rakieta1,x
  3204 2A1F 9D 38 BD					sta znaki2+firstRakietaChar*8,x
  3205 2A22 BD A0 88					lda rakieta1+8,x
  3206 2A25 9D 50 BD					sta znaki2+(firstRakietaChar+3)*8,x
  3207 2A28 BD A8 88					lda rakieta1+16,x
  3208 2A2B 9D 58 BD					sta znaki2+(firstRakietaChar+4)*8,x
  3209 2A2E BD B0 88					lda rakieta1+24,x
  3210 2A31 9D 70 BD					sta znaki2+(firstRakietaChar+7)*8,x
  3211 2A34 BD 08 82					lda mwybuch2,x
  3212 2A37 9D F8 BD					sta znaki2+firstMalyWybuchChar*8,x
  3213 2A3A BD 10 82					lda mwybuch2+8,x
  3214 2A3D 9D 00 BE					sta znaki2+firstMalyWybuchChar*8+8,x
  3215 2A40 BD 00 82					lda mwybuch2-8,x
  3216 2A43 9D 00 BA					sta znaki1+firstMalyWybuchChar*8+8,x
  3217 2A46 CA						dex
  3218 2A47 10 D3					bpl @-
  3219 							
  3220 							
  3221 							
  3222 2A49 A2 4F					ldx #10*8-1
  3223 2A4B A9 EE 8D 01 D3	@			mva #BANK1 PORTB
  3224 						
  3225 2A50 BD 00 40					lda	EXTMEM,x
  3226 2A53 9D 10 BA					sta $ba10,x
  3227 2A56 BD 00 60					lda EXTMEM+$2000,x
  3228 2A59 9D 60 BA					sta $ba10+80,x
  3229 						
  3230 2A5C A9 EA 8D 01 D3				mva #BANK2 PORTB
  3231 						
  3232 2A61 BD 00 40					lda	EXTMEM,x
  3233 2A64 9D B0 BA					sta $ba10+160,x
  3234 2A67 BD 00 60					lda EXTMEM+$2000,x
  3235 2A6A 9D 00 BB					sta $ba10+240,x
  3236 						
  3237 2A6D A9 E6 8D 01 D3				mva #BANK3 PORTB
  3238 						
  3239 2A72 BD 00 40					lda	EXTMEM,x
  3240 2A75 9D 50 BB					sta $ba10+320,x
  3241 2A78 BD 00 60					lda EXTMEM+$2000,x
  3242 2A7B 9D A0 BB					sta $ba10+400,x
  3243 						
  3244 2A7E CA						dex
  3245 2A7F 10 CA					bpl @-
  3246 					
  3247 				;konczymy przygotowania	
  3248 2A81 A9 FF 8D 01 D3				mva #ROM_on PORTB
  3249 2A86 A9 40 8D 0E D4				mva #%01000000 NMIEN ;wlacz VBLK
  3250 2A8B 58						cli
  3251 							
  3252 2A8C 60						rts
  3253 							
  3254 2A8D			bonus200	
  3255 2A8D 00 00 00 00				:4 dta b(0)	
  3256 2A91 04					dta b(%00000100)
  3257 2A92 1D					dta b(%00011101)
  3258 2A93 31					dta b(%00110001)
  3259 2A94 07					dta b(%00000111)
  3260 2A95 1C					dta b(%00011100)
  3261 2A96 10					dta b(%00010000)
  3262 2A97 15					dta b(%00010101)
  3263 2A98 3F					dta b(%00111111)
  3264 2A99 00 00 00 00				:4 dta b(0)
  3265 						
  3266 2A9D 00 00 00 00				:4 dta b(0)
  3267 2AA1 04					dta b(%00000100)
  3268 2AA2 1D					dta b(%00011101)
  3269 2AA3 11					dta b(%00010001)
  3270 2AA4 11					dta b(%00010001)
  3271 2AA5 11					dta b(%00010001)
  3272 2AA6 11					dta b(%00010001)
  3273 2AA7 37					dta b(%00110111)
  3274 2AA8 0C					dta b(%00001100)
  3275 2AA9 00 00 00 00				:4 dta b(0)
  3276
  3277 2AAD 00 00 00 00				:4 dta b(0)
  3278 2AB1 04					dta b(%00000100)
  3279 2AB2 1D					dta b(%00011101)
  3280 2AB3 11					dta b(%00010001)
  3281 2AB4 11					dta b(%00010001)
  3282 2AB5 11					dta b(%00010001)
  3283 2AB6 11					dta b(%00010001)
  3284 2AB7 37					dta b(%00110111)
  3285 2AB8 0C					dta b(%00001100)
  3286 2AB9 00 00 00 00				:4 dta b(0)
  3287 						
  3288 2ABD			bonus300
  3289 2ABD 00 00 00 00				:4 dta b(0)	
  3290 2AC1 04					dta b(%00000100)
  3291 2AC2 1D					dta b(%00011101)
  3292 2AC3 31					dta b(%00110001)
  3293 2AC4 07					dta b(%00000111)
  3294 2AC5 0D					dta b(%00001101)
  3295 2AC6 11					dta b(%00010001)
  3296 2AC7 37					dta b(%00110111)
  3297 2AC8 0C					dta b(%00001100)
  3298 2AC9 00 00 00 00				:4 dta b(0)	
  3299 						
  3300 2ACD 00 00 00 00				:4 dta b(0)
  3301 2AD1 04					dta b(%00000100)
  3302 2AD2 1D					dta b(%00011101)
  3303 2AD3 11					dta b(%00010001)
  3304 2AD4 11					dta b(%00010001)
  3305 2AD5 11					dta b(%00010001)
  3306 2AD6 11					dta b(%00010001)
  3307 2AD7 37					dta b(%00110111)
  3308 2AD8 0C					dta b(%00001100)
  3309 2AD9 00 00 00 00				:4 dta b(0)
  3310
  3311 2ADD 00 00 00 00				:4 dta b(0)
  3312 2AE1 04					dta b(%00000100)
  3313 2AE2 1D					dta b(%00011101)
  3314 2AE3 11					dta b(%00010001)
  3315 2AE4 11					dta b(%00010001)
  3316 2AE5 11					dta b(%00010001)
  3317 2AE6 11					dta b(%00010001)
  3318 2AE7 37					dta b(%00110111)
  3319 2AE8 0C					dta b(%00001100)
  3320 2AE9 00 00 00 00				:4 dta b(0)	
  3321 						
  3322 2AED			bonus400
  3323 2AED 00 00 00 00				:4 dta b(0)	
  3324 2AF1 10					dta b(%00010000)
  3325 2AF2 11					dta b(%00010001)
  3326 2AF3 11					dta b(%00010001)
  3327 2AF4 35					dta b(%00110101)
  3328 2AF5 0D					dta b(%00001101)
  3329 2AF6 01					dta b(%00000001)
  3330 2AF7 01					dta b(%00000001)
  3331 2AF8 03					dta b(%00000011)
  3332 2AF9 00 00 00 00				:4 dta b(0)
  3333 						
  3334 2AFD 00 00 00 00				:4 dta b(0)
  3335 2B01 04					dta b(%00000100)
  3336 2B02 1D					dta b(%00011101)
  3337 2B03 11					dta b(%00010001)
  3338 2B04 11					dta b(%00010001)
  3339 2B05 11					dta b(%00010001)
  3340 2B06 11					dta b(%00010001)
  3341 2B07 37					dta b(%00110111)
  3342 2B08 0C					dta b(%00001100)
  3343 2B09 00 00 00 00				:4 dta b(0)
  3344
  3345 2B0D 00 00 00 00				:4 dta b(0)
  3346 2B11 04					dta b(%00000100)
  3347 2B12 1D					dta b(%00011101)
  3348 2B13 11					dta b(%00010001)
  3349 2B14 11					dta b(%00010001)
  3350 2B15 11					dta b(%00010001)
  3351 2B16 11					dta b(%00010001)
  3352 2B17 37					dta b(%00110111)
  3353 2B18 0C					dta b(%00001100)
  3354 2B19 00 00 00 00				:4 dta b(0)
  3355 						
  3356 2B1D			bonus800
  3357 2B1D 00 00 00 00				:4 dta b(0)	
  3358 2B21 04					dta b(%00000100)
  3359 2B22 1D					dta b(%00011101)
  3360 2B23 11					dta b(%00010001)
  3361 2B24 37					dta b(%00110111)
  3362 2B25 1D					dta b(%00011101)
  3363 2B26 11					dta b(%00010001)
  3364 2B27 37					dta b(%00110111)
  3365 2B28 0C					dta b(%00001100)
  3366 2B29 00 00 00 00				:4 dta b(0)
  3367 						
  3368 2B2D 00 00 00 00				:4 dta b(0)
  3369 2B31 04					dta b(%00000100)
  3370 2B32 1D					dta b(%00011101)
  3371 2B33 11					dta b(%00010001)
  3372 2B34 11					dta b(%00010001)
  3373 2B35 11					dta b(%00010001)
  3374 2B36 11					dta b(%00010001)
  3375 2B37 37					dta b(%00110111)
  3376 2B38 0C					dta b(%00001100)
  3377 2B39 00 00 00 00				:4 dta b(0)
  3378
  3379 2B3D 00 00 00 00				:4 dta b(0)
  3380 2B41 04					dta b(%00000100)
  3381 2B42 1D					dta b(%00011101)
  3382 2B43 11					dta b(%00010001)
  3383 2B44 11					dta b(%00010001)
  3384 2B45 11					dta b(%00010001)
  3385 2B46 11					dta b(%00010001)
  3386 2B47 37					dta b(%00110111)
  3387 2B48 0C					dta b(%00001100)
  3388 2B49 00 00 00 00				:4 dta b(0)	
  3389
  3390 2B4D			bonus200m	
  3391 2B4D FF FF FF				:3 dta b(255)	
  3392 2B50 F3					dta b(%11110011)
  3393 2B51 C0					dta b(%11000000)
  3394 2B52 00					dta b(%00000000)
  3395 2B53 00					dta b(%00000000)
  3396 2B54 C0					dta b(%11000000)
  3397 2B55 00					dta b(%00000000)
  3398 2B56 03					dta b(%00000011)
  3399 2B57 00					dta b(%00000000)
  3400 2B58 00					dta b(%00000000)
  3401 2B59 C0					dta b(%11000000)
  3402 2B5A FF FF FF				:3 dta b(255)
  3403 						
  3404 2B5D FF FF FF				:3 dta b(255)
  3405 2B60 F3					dta b(%11110011)
  3406 2B61 C0					dta b(%11000000)
  3407 2B62 00					dta b(%00000000)
  3408 2B63 00					dta b(%00000000)
  3409 2B64 00					dta b(%00000000)
  3410 2B65 00					dta b(%00000000)
  3411 2B66 00					dta b(%00000000)
  3412 2B67 00					dta b(%00000000)
  3413 2B68 C0					dta b(%11000000)
  3414 2B69 F3					dta b(%11110011)
  3415 2B6A FF FF FF				:3 dta b(255)
  3416
  3417 2B6D FF FF FF				:3 dta b(255)
  3418 2B70 F3					dta b(%11110011)
  3419 2B71 C0					dta b(%11000000)
  3420 2B72 00					dta b(%00000000)
  3421 2B73 00					dta b(%00000000)
  3422 2B74 00					dta b(%00000000)
  3423 2B75 00					dta b(%00000000)
  3424 2B76 00					dta b(%00000000)
  3425 2B77 00					dta b(%00000000)
  3426 2B78 C0					dta b(%11000000)
  3427 2B79 F3					dta b(%11110011)
  3428 2B7A FF FF FF				:3 dta b(255)
  3429 						
  3430 2B7D			bonus300m
  3431 2B7D FF FF FF				:3 dta b(255)
  3432 2B80 F3					dta b(%11110011)
  3433 2B81 C0					dta b(%11000000)
  3434 2B82 00					dta b(%00000000)
  3435 2B83 00					dta b(%00000000)
  3436 2B84 C0					dta b(%11000000)
  3437 2B85 C0					dta b(%11000000)
  3438 2B86 00					dta b(%00000000)
  3439 2B87 00					dta b(%00000000)
  3440 2B88 C0					dta b(%11000000)
  3441 2B89 F3					dta b(%11110011)
  3442 2B8A FF FF FF				:3 dta b(255)	
  3443 						
  3444 2B8D FF FF FF				:3 dta b(255)
  3445 2B90 F3					dta b(%11110011)
  3446 2B91 C0					dta b(%11000000)
  3447 2B92 00					dta b(%00000000)
  3448 2B93 00					dta b(%00000000)
  3449 2B94 00					dta b(%00000000)
  3450 2B95 00					dta b(%00000000)
  3451 2B96 00					dta b(%00000000)
  3452 2B97 00					dta b(%00000000)
  3453 2B98 C0					dta b(%11000000)
  3454 2B99 F3					dta b(%11110011)
  3455 2B9A FF FF FF				:3 dta b(255)
  3456
  3457 2B9D FF FF FF				:3 dta b(255)
  3458 2BA0 F3					dta b(%11110011)
  3459 2BA1 C0					dta b(%11000000)
  3460 2BA2 00					dta b(%00000000)
  3461 2BA3 00					dta b(%00000000)
  3462 2BA4 00					dta b(%00000000)
  3463 2BA5 00					dta b(%00000000)
  3464 2BA6 00					dta b(%00000000)
  3465 2BA7 00					dta b(%00000000)
  3466 2BA8 C0					dta b(%11000000)
  3467 2BA9 F3					dta b(%11110011)
  3468 2BAA FF FF FF				:3 dta b(255)
  3469 						
  3470 2BAD			bonus400m
  3471 2BAD FF FF FF				:3 dta b(255)
  3472 2BB0 CF					dta b(%11001111)
  3473 2BB1 03					dta b(%00000011)
  3474 2BB2 00					dta b(%00000000)
  3475 2BB3 00					dta b(%00000000)
  3476 2BB4 00					dta b(%00000000)
  3477 2BB5 C0					dta b(%11000000)
  3478 2BB6 F0					dta b(%11110000)
  3479 2BB7 F0					dta b(%11110000)
  3480 2BB8 F0					dta b(%11110000)
  3481 2BB9 F0					dta b(%11110000)
  3482 2BBA FF FF FF				:3 dta b(255)
  3483 						
  3484 2BBD FF FF FF				:3 dta b(255)
  3485 2BC0 F3					dta b(%11110011)
  3486 2BC1 C0					dta b(%11000000)
  3487 2BC2 00					dta b(%00000000)
  3488 2BC3 00					dta b(%00000000)
  3489 2BC4 00					dta b(%00000000)
  3490 2BC5 00					dta b(%00000000)
  3491 2BC6 00					dta b(%00000000)
  3492 2BC7 00					dta b(%00000000)
  3493 2BC8 C0					dta b(%11000000)
  3494 2BC9 F3					dta b(%11110011)
  3495 2BCA FF FF FF				:3 dta b(255)
  3496
  3497 2BCD FF FF FF				:3 dta b(255)
  3498 2BD0 F3					dta b(%11110011)
  3499 2BD1 C0					dta b(%11000000)
  3500 2BD2 00					dta b(%00000000)
  3501 2BD3 00					dta b(%00000000)
  3502 2BD4 00					dta b(%00000000)
  3503 2BD5 00					dta b(%00000000)
  3504 2BD6 00					dta b(%00000000)
  3505 2BD7 00					dta b(%00000000)
  3506 2BD8 C0					dta b(%11000000)
  3507 2BD9 F3					dta b(%11110011)
  3508 2BDA FF FF FF				:3 dta b(255)
  3509 						
  3510 2BDD			bonus800m
  3511 2BDD FF FF FF				:3 dta b(255)
  3512 2BE0 F3					dta b(%11110011)
  3513 2BE1 C0					dta b(%11000000)
  3514 2BE2 00					dta b(%00000000)
  3515 2BE3 00					dta b(%00000000)
  3516 2BE4 00					dta b(%00000000)
  3517 2BE5 00					dta b(%00000000)
  3518 2BE6 00					dta b(%00000000)
  3519 2BE7 00					dta b(%00000000)
  3520 2BE8 C0					dta b(%11000000)
  3521 2BE9 F3					dta b(%11110011)
  3522 2BEA FF FF FF				:3 dta b(255)
  3523 						
  3524 2BED FF FF FF				:3 dta b(255)
  3525 2BF0 F3					dta b(%11110011)
  3526 2BF1 C0					dta b(%11000000)
  3527 2BF2 00					dta b(%00000000)
  3528 2BF3 00					dta b(%00000000)
  3529 2BF4 00					dta b(%00000000)
  3530 2BF5 00					dta b(%00000000)
  3531 2BF6 00					dta b(%00000000)
  3532 2BF7 00					dta b(%00000000)
  3533 2BF8 C0					dta b(%11000000)
  3534 2BF9 F3					dta b(%11110011)
  3535 2BFA FF FF FF				:3 dta b(255)
  3536
  3537 2BFD FF FF FF				:3 dta b(255)
  3538 2C00 F3					dta b(%11110011)
  3539 2C01 C0					dta b(%11000000)
  3540 2C02 00					dta b(%00000000)
  3541 2C03 00					dta b(%00000000)
  3542 2C04 00					dta b(%00000000)
  3543 2C05 00					dta b(%00000000)
  3544 2C06 00					dta b(%00000000)
  3545 2C07 00					dta b(%00000000)
  3546 2C08 C0					dta b(%11000000)
  3547 2C09 F3					dta b(%11110011)
  3548 2C0A FF FF FF				:3 dta b(255)	
  3549 							
  3550 02E2-02E3> 0A 25					ini (init_banki)
  3551 							
   230 							
   231 2C0D						org PORTB
   232 D301-D301> E3					dta b(BANK4s)
   233 D302						org $4000
   234 4000						icl 'hscore.asm'
Source: hscore.asm
     1 = 0A80			hscr	equ obraz2
     2 						
     3 						
     4 4000-59CB> 00 00 54 48 + tx1a	dta b(0,0),c'THE',b(0,0),c'LIST',b(0,0),c'OF',b(0)
     5 4010 00 53 50 41 43 45 + tx2a	dta b(0),c'SPACE',b(0,0),'FIGHTERS'		
     6 4020 45 4E 54 45 52 00 + tx1		dta c'ENTER',b(0),c'YOUR',b(0),c'INITIALS',b(0)
     7 4034 00 00 53 43 4F 52 + tx2		dta b(0,0),c'SCORE',b(0,0,0,0,0,0,0),c'NAME',b(0,0)
     8 4048 42 45 53 54 00	tx3		dta c'BEST',b(0)
     9 404D 5E 53 54 5F 4E 44 + tx4		dta b(94),c'ST',b(95),c'ND',b(96),c'RD',b(97),c'TH',b(98),c'TH'
    10
    11 				;Przepisuje litery i cyfry do zestawu znaku
    12 = 405C			przepiszZnaki	equ *
    13 405C 18					clc
    14 405D 69 02				adc #2
    15 405F 8D 6E 40				sta ppz1+2
    16 4062 69 01				adc #1
    17 4064 8D 79 40				sta ppz2+2
    18
    19 4067 A2 00				ldx #0
    20 4069 BD 20 4A		@		lda znakiBosc,x
    21 = 406C			ppz1	equ *
    22 406C 9D 08 BE				sta znaki2+65*8,x
    23 406F CA					dex
    24 4070 D0 F7				bne @-
    25 						
    26 4072 A2 2F				ldx #47
    27 4074 BD 20 4B		@		lda znakiBosc+$100,x
    28 = 4077			ppz2	equ *
    29 4077 9D 08 BF				sta znaki2+$100+65*8,x
    30 407A CA					dex
    31 407B 10 F7				bpl @-
    32 						
    33 407D 60					rts
    34 						
    35 = 407E			tabhs1cls	equ *
    36 407E A2 06				ldx #6
    37 4080 A9 00		@		lda #0
    38 4082 9D 23 1E				sta sprites+$600+35,x
    39 4085 9D 23 1F				sta sprites+$700+35,x
    40 4088 9D 23 1B				sta sprites+$300+35,x
    41 408B 9D 37 1E				sta sprites+$600+55,x
    42 408E 9D 37 1F				sta sprites+$700+55,x
    43 4091 9D 37 1B				sta sprites+$300+55,x
    44 4094 9D 62 1C				sta sprites+$400+98,x
    45 4097 9D 62 1D				sta sprites+$500+98,x
    46 409A 9D 72 1C				sta sprites+$400+114,x
    47 409D 9D 72 1D				sta sprites+$500+114,x
    48 40A0 9D 82 1D				sta sprites+$500+130,x
    49 40A3 9D 92 1D				sta sprites+$500+146,x
    50 40A6 9D A2 1D				sta sprites+$500+162,x
    51 40A9 9D B2 1D				sta sprites+$500+178,x
    52 40AC 9D C2 1D				sta sprites+$500+194,x
    53 40AF 9D 82 1C				sta sprites+$400+130,x
    54 40B2 9D 92 1C				sta sprites+$400+146,x
    55 40B5 9D A2 1C				sta sprites+$400+162,x
    56 40B8 9D B2 1C				sta sprites+$400+178,x
    57 40BB 9D C2 1C				sta sprites+$400+194,x
    58 40BE CA					dex
    59 40BF 10 BF				bpl @-
    60 						
    61 40C1 60					rts
    62 						
    63 						
    64 				;tylko tabela		
    65 = 40C2			tabhs2	equ *		
    66 40C2 A2 06				ldx #6
    67 40C4 A9 0E		@		lda #%00001110
    68 40C6 9D 23 1E				sta sprites+$600+35,x
    69 40C9 A9 79				lda #%01111001
    70 40CB 9D 23 1F				sta sprites+$700+35,x
    71 40CE A9 80				lda #%10000000
    72 40D0 9D 23 1B				sta sprites+$300+35,x
    73 40D3 A9 1F				lda #%00011111
    74 40D5 9D 37 1E				sta sprites+$600+55,x
    75 40D8 A9 3F				lda #%00111111
    76 40DA 9D 37 1F				sta sprites+$700+55,x
    77 40DD A9 C0				lda #%11000000
    78 40DF 9D 37 1B				sta sprites+$300+55,x
    79 						
    80 40E2 CA					dex
    81 40E3 10 DF				bpl @-
    82 						
    83 40E5 A2 0F				ldx #15
    84 40E7 BD 00 40		@		lda tx1a,x
    85 40EA 9D E8 0A				sta hscr+2*48+6+2,x
    86 40ED BD 10 40				lda tx2a,x
    87 40F0 9D 48 0B				sta hscr+4*48+6+2,x
    88 40F3 CA					dex
    89 40F4 10 F1				bpl @-
    90 						
    91 						
    92 40F6 4C 47 41				jmp tabhs
    93
    94 40F9 FE 7E 3E		hsctab	dta b(%11111110,%01111110,%00111110)
    95 						
    96 				;dodawanie swojego wyniku		
    97 = 40FC			tabhs1	equ *
    98 40FC A9 00				lda #0
    99 40FE A2 5D				ldx #95-2					;wyczyść duszka 4
   100 4100 9D 00 1F		@		sta sprites+$700,x
   101 4103 CA					dex
   102 4104 10 FA				bpl @-
   103
   104 4106 AD 1B 12 8D 17 D0			mva KOLOR1 COLPF1
   105 						
   106 410C A2 06				ldx #6
   107 410E A9 FB		@		lda #%11111011
   108 4110 9D 23 1E				sta sprites+$600+35,x
   109 4113 A9 DF				lda #%11011111
   110 4115 9D 23 1F				sta sprites+$700+35,x
   111 4118 A9 E0				lda #%11100000
   112 411A 9D 23 1B				sta sprites+$300+35,x
   113 411D A9 3E				lda #%00111110
   114 411F 9D 37 1E				sta sprites+$600+55,x
   115 4122 A9 03				lda #%00000011
   116 4124 9D 37 1F				sta sprites+$700+55,x
   117 4127 A9 C0				lda #%11000000
   118 4129 9D 37 1B				sta sprites+$300+55,x
   119 412C A9 80				lda #%10000000
   120 412E 9D 47 1F				sta sprites+$700+71,x
   121 						
   122 4131 CA					dex
   123 4132 10 DA				bpl @-
   124 						
   125 4134 A2 13				ldx #19
   126 4136 BD 20 40		@		lda tx1,x			;enter your initials,score name
   127 4139 9D E6 0A				sta hscr+2*48+6,x
   128 413C BD 34 40				lda tx2,x
   129 413F 9D 46 0B				sta hscr+4*48+6,x
   130 4142 A9 80				lda #128
   131 4144 CA					dex
   132 4145 10 EF				bpl @-
   133 						
   134 						
   135 						
   136 						
   137 = 4147			tabhs	equ *		
   138 4147 A2 06				ldx #6
   139 4149 A9 78		@		lda #%01111000
   140 414B 9D 62 1C				sta sprites+$400+98,x
   141 414E A9 80				lda #%10000000
   142 4150 9D 62 1D				sta sprites+$500+98,x
   143 4153 A9 F8				lda #%11111000
   144 4155 9D 72 1C				sta sprites+$400+114,x
   145 4158 A9 3C				lda #%00111100
   146 415A 9D 72 1D				sta sprites+$500+114,x
   147 						
   148 415D A9 00				lda #0
   149 415F 9D 7A 1C				sta sprites+$400+122,x
   150 4162 9D 7A 1D				sta sprites+$500+122,x
   151 						
   152 4165 A9 E0				lda #%11100000
   153 4167 9D 82 1D				sta sprites+$500+130,x
   154 416A 9D 92 1D				sta sprites+$500+146,x
   155 416D 9D A2 1D				sta sprites+$500+162,x
   156 4170 9D B2 1D				sta sprites+$500+178,x
   157 4173 9D C2 1D				sta sprites+$500+194,x
   158 						
   159 4176 AC 83 27				ldy hscScore1+3
   160 4179 B9 F9 40				lda hsctab,y
   161 417C 9D 82 1C				sta sprites+$400+130,x
   162 417F AC 87 27				ldy hscScore2+3
   163 4182 B9 F9 40				lda hsctab,y
   164 4185 9D 92 1C				sta sprites+$400+146,x
   165 4188 AC 8B 27				ldy hscScore3+3
   166 418B B9 F9 40				lda hsctab,y
   167 418E 9D A2 1C				sta sprites+$400+162,x
   168 4191 AC 8F 27				ldy hscScore4+3
   169 4194 B9 F9 40				lda hsctab,y
   170 4197 9D B2 1C				sta sprites+$400+178,x
   171 419A AC 93 27				ldy hscScore5+3
   172 419D B9 F9 40				lda hsctab,y
   173 41A0 9D C2 1C				sta sprites+$400+194,x
   174 						
   175 41A3 CA					dex
   176 41A4 10 A3				bpl @-
   177 						
   178 41A6 A9 00				lda #0
   179 41A8 8D 81 1C				sta sprites+$400+129
   180 41AB 8D 81 1D				sta sprites+$500+129 
   181 						
   182 41AE 60					rts
   183 						
   184 = 41AF			tabhscore1	equ *
   185 41AF A9 00				lda #0
   186 41B1 A2 4D				ldx #95-2-16			;77			;wyczyść duszka 4
   187 41B3 9D 00 1F		@		sta sprites+$700,x
   188 41B6 CA					dex
   189 41B7 E0 20				cpx #32
   190 41B9 D0 F8				bne @-
   191
   192 41BB A9 BC 8D 09 D4			mva #>znaki2 CHBASE
   193 						
   194 41C0 A9 00 8D 13 43			mva #0 kolor0
   195 41C5 A9 B0 8D 12 43			mva #pozWyniki-1 nick0
   196 41CA A9 00 8D 02 D4 A9 + 		mwa #hsdlist	DLPTR
   197 41D4 20 C2 40				jsr tabhs2
   198 41D7 60					rts
   199 						
   200 						
   201 = 41D8			tabhscore2	equ *
   202 41D8 A9 00				lda #0
   203 41DA A2 00				ldx #0
   204 41DC 9D 80 0A		@		sta obraz2,x
   205 41DF 9D 80 0B				sta obraz2+$100,x
   206 41E2 9D 80 0C				sta obraz2+$200,x
   207 41E5 9D 80 0D				sta obraz2+$300,x
   208 41E8 9D 80 0E				sta obraz2+$400,x
   209 41EB CA					dex
   210 41EC D0 EE				bne @-
   211 						
   212 41EE A2 0F				ldx #15
   213 41F0 9D 80 0F		@		sta obraz2+$500,x
   214 41F3 CA					dex
   215 41F4 10 FA				bpl @-
   216 						
   217 41F6 A9 BC		@		lda #>znaki2
   218 41F8 20 5C 40				jsr przepiszZnaki
   219
   220 41FB A2 04				ldx #4
   221 41FD BD 48 40		@		lda tx3,x				;BEST
   222 4200 9D 3D 0C				sta hscr+48*9+6+7,x
   223 4203 BD 36 40				lda tx2+2,x				;SCORE
   224 4206 9D 9C 0C				sta hscr+48*11+6+6,x
   225 4209 BD 42 40				lda	tx2+14,x			;NAME
   226 420C 9D A6 0C				sta hscr+48*11+6+16,x
   227 420F CA					dex
   228 4210 10 EB				bpl @-
   229 						
   230 4212 A9 62				lda #98			;best ->5
   231 4214 8D 44 0C				sta hscr+48*9+6+14
   232 						
   233 4217 A2 02				ldx #2
   234 4219 BD 4D 40		@		lda tx4,x				;miejsca
   235 421C 9D F6 0C				sta hscr+13*48+6,x
   236 421F BD 50 40				lda tx4+3,x
   237 4222 9D 56 0D				sta hscr+15*48+6,x
   238 4225 BD 53 40				lda tx4+6,x
   239 4228 9D B6 0D				sta hscr+17*48+6,x
   240 422B BD 56 40				lda tx4+9,x
   241 422E 9D 16 0E				sta hscr+19*48+6,x
   242 4231 BD 59 40				lda tx4+12,x
   243 4234 9D 76 0E				sta hscr+21*48+6,x	
   244 						
   245 4237 BD 6C 27				lda hscNick1,x			;nicki
   246 423A 9D 07 0D				sta hscr+13*48+6+17,x
   247 423D BD 70 27				lda hscNick2,x
   248 4240 9D 67 0D				sta hscr+15*48+6+17,x
   249 4243 BD 74 27				lda hscNick3,x
   250 4246 9D C7 0D				sta hscr+17*48+6+17,x
   251 4249 BD 78 27				lda hscNick4,x
   252 424C 9D 27 0E				sta hscr+19*48+6+17,x
   253 424F BD 7C 27				lda hscNick5,x
   254 4252 9D 87 0E				sta hscr+21*48+6+17,x
   255 						
   256 4255 CA					dex
   257 4256 10 C1				bpl @-
   258 						
   259 4258 A2 00				ldx #0
   260 425A 20 EB 42				jsr hscToBuf
   261 425D AC 83 27				ldy hscScore1+3
   262 4260 A9 FA				lda <(hscr+13*48+10)
   263 4262 A2 0C				ldx >(hscr+13*48+10)
   264 4264 20 D5 42				jsr prhsc
   265 						
   266 4267 A2 04				ldx #4
   267 4269 20 EB 42				jsr hscToBuf
   268 426C AC 87 27				ldy hscScore2+3
   269 426F A9 5A				lda <(hscr+15*48+10)
   270 4271 A2 0D				ldx >(hscr+15*48+10)
   271 4273 20 D5 42				jsr prhsc
   272 						
   273 4276 A2 08				ldx #8
   274 4278 20 EB 42				jsr hscToBuf
   275 427B AC 8B 27				ldy hscScore3+3
   276 427E A9 BA				lda <(hscr+17*48+10)
   277 4280 A2 0D				ldx >(hscr+17*48+10)
   278 4282 20 D5 42				jsr prhsc
   279 						
   280 4285 A2 0C				ldx #12
   281 4287 20 EB 42				jsr hscToBuf
   282 428A AC 8F 27				ldy hscScore4+3
   283 428D A9 1A				lda <(hscr+19*48+10)
   284 428F A2 0E				ldx >(hscr+19*48+10)
   285 4291 20 D5 42				jsr prhsc
   286 						
   287 4294 A2 10				ldx #16
   288 4296 20 EB 42				jsr hscToBuf
   289 4299 AC 93 27				ldy hscScore5+3
   290 429C A9 7A				lda <(hscr+21*48+10)
   291 429E A2 0E				ldx >(hscr+21*48+10)
   292 42A0 20 D5 42				jsr prhsc
   293 					
   294 						
   295 42A3 A9 02				lda #2
   296 42A5 8D 9C 0A				sta hscr+28			;gwiazdy
   297 42A8 8D 18 0B				sta hscr+8+3*48
   298 42AB 8D E1 0B				sta hscr+17+7*48
   299 42AE 8D 7E 0C				sta hscr+30+10*48
   300 42B1 8D 2A 0D				sta hscr+10+14*48
   301 42B4 8D 95 0D				sta hscr+21+16*48
   302 42B7 8D B2 0E				sta hscr+18+22*48
   303 42BA 8D 63 0F				sta hscr+3+26*48
   304 						
   305 						
   306 42BD A9 81				lda #129
   307 42BF 8D C4 0A				sta hscr+1*48+20
   308 42C2 8D 71 0B				sta hscr+5*48+1
   309 42C5 8D 17 0C				sta hscr+23+8*48
   310 42C8 8D 67 0C				sta hscr+7+10*48
   311 42CB 8D 49 0E				sta hscr+9+20*48
   312 42CE 8D 1B 0F				sta hscr+27+24*48
   313 42D1 8D 70 0F				sta hscr+16+26*48
   314 						
   315 42D4 60					rts
   316
   317 = 42D5			prhsc	equ *
   318 42D5 85 69				sta pom
   319 42D7 86 6A				stx pom+1
   320 42D9 B9 09 43		@		lda hscbuf,y
   321 42DC 18					clc
   322 42DD 69 5D				adc #93
   323 42DF 91 69				sta (pom),y
   324 42E1 C8					iny
   325 42E2 C0 06				cpy #6
   326 42E4 90 F3				bcc @-
   327 42E6 A9 5D				lda #93
   328 42E8 91 69				sta (pom),y
   329 42EA 60					rts
   330
   331 = 42EB			hscToBuf	equ *		
   332 42EB A0 00				ldy #0
   333 42ED BD 80 27		@		lda hscScore1,x
   334 42F0 29 F0				and #$f0
   335 42F2 4A 4A 4A 4A				:4 lsr
   336 42F6 99 09 43				sta hscbuf,y
   337 42F9 C8					iny
   338 42FA BD 80 27				lda hscScore1,x
   339 42FD 29 0F				and #$0f
   340 42FF 99 09 43				sta hscbuf,y
   341 4302 C8					iny
   342 4303 E8					inx
   343 4304 C0 06				cpy #6
   344 4306 D0 E5				bne @-
   345 4308 60					rts
   346 						
   347 4309 00 00 00 00 00 00	hscbuf	dta b(0,0,0,0,0,0)		
   348 430F 06 05 04		hsctab1	dta b(6,5,4)
   349 4312 84			nick0	dta b(132)
   350 4313 A0			kolor0	dta b($A0)
   351
   352 				;prawy panel podczas wyświetlania hscore
   353 = 4314			ppanel1	equ *
   354 4314 20 0D 47				jsr ppan_1
   355 						
   356 4317 A9 10				lda #16
   357 4319 CD 0B D4		@		cmp VCOUNT
   358 431C D0 FB				bne @-
   359 						
   360 431E A9 48 8D 02 D0			mva #72 HPOSP+2
   361 4323 A9 68 8D 03 D0			mva #72+32 HPOSP+3
   362 4328 A9 88 8D 07 D0			mva #72+64 HPOSM+3
   363 432D A9 90 8D 06 D0			mva #72+64+8 HPOSM+2
   364 4332 A9 03 8D 0A D0			mva #3 SIZEP+2
   365 4337 8D 0B D0				sta SIZEP+3
   366 433A A9 F0 8D 0C D0			mva #%11110000 SIZEM
   367 						
   368 433F 20 3D 47				jsr ppan_2b
   369 						
   370 4342 A9 30				lda #$30					;Enter your initials | THE LIST OF
   371 4344 8D 14 D0				sta COLPM+2
   372 4347 8D 15 D0				sta COLPM+3
   373 						
   374 434A A9 14				lda #20
   375 434C CD 0B D4		@		cmp VCOUNT
   376 434F D0 FB				bne @-
   377 4351 8D 0A D4				sta WSYNC
   378 4354 EA EA EA EA EA EA + 		:18 nop 
   379 						
   380 4366 A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   381 436B 8D 13 D0				sta COLPM+1
   382 436E 8D 14 D0				sta COLPM+2
   383 4371 A9 00 8D 0C D0			mva #0 SIZEM
   384 4376 8D 0A D0				sta SIZEP+2
   385 4379 A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;score
   386 437E A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   387 4383 A9 C3 8D 02 D0			mva #pozWyniki+18 HPOSP+2
   388 4388 A9 C9 8D 06 D0			mva #pozWyniki+24 HPOSM+2
   389 						
   390 						
   391 438D A9 1A				lda #26
   392 438F CD 0B D4		@		cmp VCOUNT
   393 4392 D0 FB				bne @-
   394 						
   395 4394 A9 48 8D 02 D0			mva #72 HPOSP+2
   396 4399 A9 90 8D 06 D0			mva #72+64+8 HPOSM+2
   397 439E A9 03 8D 0A D0			mva #3 SIZEP+2
   398 43A3 8D 0B D0				sta SIZEP+3
   399 43A6 A9 F0 8D 0C D0			mva #%11110000 SIZEM
   400 						
   401 43AB A9 30				lda #$30					;SCORE NAME | SPACE FIGHTERS
   402 43AD 8D 14 D0				sta COLPM+2
   403 						
   404 43B0 20 51 47				jsr ppan_3
   405 43B3 A9 00 8D 0A D0			mva #0 SIZEP+2
   406 43B8 A9 00 8D 0C D0			mva #0 SIZEM
   407 43BD A9 0C 8D 14 D0			mva #kolorliczby COLPM+2
   408 						
   409 43C2 AD 12 43 8D 03 D0			mva nick0 HPOSP+3
   410 43C8 AD 13 43 8D 15 D0			mva kolor0 COLPM+3
   411 43CE A9 0E 8D 17 D0			mva #14 COLPF1
   412 						
   413 43D3 20 77 47				jsr ppan_4
   414 						
   415 43D6 A9 2F				lda #47
   416 43D8 CD 0B D4		@		cmp VCOUNT
   417 43DB D0 FB				bne @-
   418 						
   419 						
   420 43DD A9 00 8D 15 D0			mva #0 COLPM+3
   421 43E2 A9 B0 8D 03 D0			mva #pozWyniki-1 HPOSP+3
   422 43E7 A9 03 8D 0B D0			mva #3 SIZEP+3
   423 						
   424 						
   425 						
   426 43EC A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   427 43F1 A9 14				lda #16+4
   428 43F3 8D 0C D0				sta SIZEM
   429 43F6 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   430 43FC 8D 14 D0				sta COLPM+2
   431 43FF A9 C4 8D 06 D0			mva #pozWyniki+19 HPOSM+2
   432 4404 A9 C8 8D 05 D0			mva #pozWyniki+23 HPOSM+1
   433 						
   434 4409 A9 00 8D 04 D0			mva #0 HPOSM
   435 440E A9 01 8D 0A D0			mva #1 SIZEP+2		;przeciwnicy na radarze
   436 4413 A9 B4 8D 02 D0			mva #pozWyniki+3 HPOSP+2
   437 						
   438 4418 8D 0A D4				sta WSYNC
   439 441B AD 13 12 8D 15 D0			mva kolorMapa	COLPM+3
   440 						
   441 4421 A9 60 8D 00 D0			mva #96 HPOSP			
   442 4426 A9 80 8D 01 D0			mva #96+32 HPOSP+1
   443 442B A9 03 8D 08 D0			mva #3 SIZEP
   444 4430 8D 09 D0				sta SIZEP+1
   445 						
   446 						
   447 4433 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   448 						
   449 443C A9 A0 8D 12 D0			mva #$A0 COLPM
   450 4441 A2 06				ldx #6
   451 						
   452 4443 A9 A0 8D 13 D0	@		mva #$A0 COLPM+1
   453 4448 EA EA EA EA EA EA + 		:14 nop
   454 4456 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   455 445C 8D 0A D4				sta WSYNC
   456 445F CA					dex
   457 4460 10 E1				bpl @-
   458 						
   459 						
   460 4462 A9 38				lda #56
   461 4464 CD 0B D4		@		cmp VCOUNT
   462 4467 D0 FB				bne @-
   463 						
   464 4469 8D 0A D4 8D 0A D4			:2 sta WSYNC
   465 446F A9 D0 8D 12 D0			mva #$D0 COLPM
   466 4474 A2 06				ldx #6
   467 						
   468 						
   469 4476 A9 D0 8D 13 D0	@		mva #$D0 COLPM+1
   470 447B EA EA EA EA EA EA + 		:14 nop
   471 4489 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   472 448F 8D 0A D4				sta WSYNC
   473 4492 CA					dex
   474 4493 10 E1				bpl @-
   475 						
   476 						
   477 4495 A9 40				lda #64
   478 4497 CD 0B D4		@		cmp VCOUNT
   479 449A D0 FB				bne @-
   480 						
   481 449C A2 80				ldx #$80
   482 						
   483 449E 8E 12 D0				stx COLPM
   484 44A1 A9 58 8D 00 D0			mva #96-8 HPOSP
   485 						
   486 44A6 20 EA 44				jsr ppan1_a
   487
   488 44A9 A2 70				ldx #$70
   489 44AB 20 EA 44				jsr ppan1_a
   490 						
   491 44AE A2 60				ldx #$60
   492 44B0 20 EA 44				jsr ppan1_a
   493
   494 44B3 A2 50				ldx #$50
   495 44B5 20 EA 44				jsr ppan1_a
   496 						
   497 44B8 A2 40				ldx #$40
   498 44BA 20 EA 44				jsr ppan1_a
   499
   500 44BD AD 1B 12 8D 17 D0			mva Kolor1 COLPF1
   501 						
   502 44C3 A9 66				lda #102
   503 44C5 CD 0B D4		@		cmp VCOUNT
   504 44C8 D0 FB				bne @-
   505 						
   506 44CA A9 00 8D 15 D0			mva #0 COLPM+3		;koniec mapy zapasowe statki
   507 						
   508 44CF 8D 0C D0				sta SIZEM
   509 44D2 8D 0A D0				sta SIZEP+2			;zakonczenie mapy
   510 44D5 8D 00 D0				sta HPOSP
   511 44D8 8D 01 D0				sta HPOSP+1
   512 44DB 8D 02 D0				sta HPOSP+2
   513 44DE 8D 04 D0				sta HPOSM
   514 44E1 8D 05 D0				sta HPOSM+1
   515 44E4 8D 06 D0				sta HPOSM+2
   516 						
   517 44E7 4C 93 47				jmp ppan_end
   518
   519 = 44EA			ppan1_a	equ *
   520 44EA 8D 0A D4				sta WSYNC
   521
   522 44ED A0 07				ldy #7
   523 44EF 8D 0A D4		@		sta WSYNC
   524 44F2 EA					nop
   525 44F3 8E 13 D0				stx COLPM+1
   526 44F6 A9 48 8D 01 D0			mva #72 HPOSP+1
   527 44FB 8E 12 D0				stx COLPM
   528 44FE EA EA EA EA EA			:5 nop
   529 4503 A9 8C 8D 01 D0			mva #140 HPOSP+1
   530 4508 EA EA EA EA				:4 nop
   531 450C AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   532 4512 88					dey 
   533 4513 D0 DA				bne @-
   534 						
   535 4515 E0 40				cpx #$40
   536 4517 F0 18				beq @+
   537 4519 8D 0A D4 8D 0A D4 + 		:8 sta WSYNC
   538 4531 60			@		rts
   539 						
   540 						
   541 4532 43 4F 4E 47 52 41 + texc1	dta c'CONGRATULATIONS',b(0,0,0,92,92)
   542 4546 54 48 45 00 00 48 + texc2	dta c'THE',b(0,0),c'HIGH',b(0,0),c'SCORE'
   543 4556 4F 46 00 54 48 45 + texc3	dta c'OF',b(0),c'THE',b(0),c'DAY'
   544 4560 47 4F 00 46 4F 52 + texc4	dta c'GO',b(0),c'FOR',b(0),c'THE'
   545 456A 53 50 41 43 45 00 + texc5	dta c'SPACE',b(0),c'RECORD',b(0),c'NOW'		
   546 						
   547 				//najlepszy wynik		
   548 = 457A			congrat	equ *
   549 457A A9 58 8D 02 D4 A9 + 		mwa #hsdlist1 DLPTR
   550 4584 A9 0A 8D 17 D0			mva #10 COLPF1
   551 4589 A9 00 8D 18 D0			mva #0 COLPF2
   552 						
   553 458E AA					tax
   554 458F 9D 80 0A		@		sta hscr,x			;czyścimy obraz
   555 4592 9D 80 0B				sta hscr+$100,x
   556 4595 9D 80 0C				sta hscr+$200,x
   557 4598 9D 80 0D				sta hscr+$300,x
   558 459B CA					dex
   559 459C D0 F1				bne @-
   560
   561 459E A2 4F				ldx #79
   562 45A0 9D 80 0E		@		sta hscr+$400,x
   563 45A3 CA					dex
   564 45A4 10 FA				bpl @-
   565 						
   566 						
   567 45A6 A9 02				lda #2
   568 45A8 8D 9C 0A				sta hscr+28			;gwiazdy
   569 						
   570 45AB 8D E1 0B				sta hscr+17+7*48
   571 45AE 8D 7E 0C				sta hscr+30+10*48
   572 45B1 8D 2A 0D				sta hscr+10+14*48
   573 45B4 8D 95 0D				sta hscr+21+16*48
   574 45B7 8D B8 0E				sta hscr+24+22*48
   575 45BA 8D 20 0E				sta hscr+16+19*48
   576 						
   577 						
   578 						
   579 45BD A9 81				lda #129
   580 45BF 8D C4 0A				sta hscr+1*48+20
   581 45C2 8D 71 0B				sta hscr+5*48+1
   582 45C5 8D E7 0B				sta hscr+23+7*48
   583 45C8 8D 67 0C				sta hscr+7+10*48
   584 45CB 8D 15 0B				sta hscr+5+3*48
   585 45CE 8D 76 0E				sta hscr+6+21*48
   586 45D1 8D 18 0B				sta hscr+8+3*48
   587 45D4 8D BA 0D				sta hscr+10+17*48
   588 						
   589 45D7 A9 BC				lda #>znaki2
   590 45D9 8D 09 D4				sta CHBASE
   591 45DC 20 5C 40				jsr przepiszZnaki		
   592 						
   593 45DF A2 13				ldx #19
   594 45E1 BD 32 45		@		lda texc1,x
   595 45E4 9D E6 0A				sta hscr+2*48+6,x
   596 45E7 CA					dex
   597 45E8 10 F7				bpl @-
   598 						
   599 45EA A2 0F				ldx #15
   600 45EC BD 46 45		@		lda texc2,x
   601 45EF 9D 48 0B				sta hscr+4*48+8,x
   602 45F2 BD 6A 45				lda texc5,x
   603 45F5 9D 48 0E				sta hscr+20*48+8,x
   604 45F8 CA					dex
   605 45F9 10 F1				bpl @-
   606
   607 45FB A2 09				ldx #9
   608 45FD BD 56 45		@		lda texc3,x
   609 4600 9D AB 0B				sta hscr+6*48+11,x
   610 4603 BD 60 45				lda texc4,x
   611 4606 9D EB 0D				sta hscr+18*48+11,x
   612 4609 CA					dex
   613 460A 10 F1				bpl @-
   614 						
   615 460C A2 07				ldx #7
   616 460E A9 00		@		lda #0
   617 4610 9D 38 BF				sta znaki2+103*8,x
   618 4613 A9 0A				lda #%00001010
   619 4615 9D 40 BF				sta znaki2+104*8,x
   620 4618 A9 A0				lda #%10100000
   621 461A 9D 48 BF				sta znaki2+105*8,x
   622 461D A9 AA				lda #%10101010
   623 461F 9D 50 BF				sta znaki2+106*8,x
   624 4622 CA					dex
   625 4623 10 E9				bpl @-
   626 						
   627 4625 20 F8 49				jsr score2buf
   628 4628 20 A0 4C				jsr scoreLen
   629 						
   630 462B AA					tax
   631 462C 18					clc
   632 462D A9 30				lda #<(hscr+9*48)		;ustalamy początek pamieci gdzie wpisujemy wynik + poprawka długości
   633 462F 7D A3 49				adc congTab,x
   634 4632 85 69				sta pom
   635 4634 A9 0C				lda #>(hscr+9*48)
   636 4636 69 00				adc #0
   637 4638 85 6A				sta pom+1
   638 						
   639 463A BD 09 43		@		lda hscbuf,x	;wczytaj cyfre
   640 463D 20 A6 49				jsr printCyfra	;wyświetl cyfrę
   641 4640 E8					inx
   642 4641 E0 06				cpx #6
   643 4643 90 F5				bcc @-
   644 4645 A9 00				lda #0
   645 4647 20 A6 49				jsr printCyfra
   646
   647 464A A2 06				ldx #6
   648 464C A9 FE		@		lda #%11111110
   649 464E 9D 23 1E				sta sprites+$600+35,x
   650 4651 A9 C0				lda #%11000000
   651 4653 9D 23 1B				sta sprites+$300+35,x
   652 4656 A9 E7				lda #%11100111
   653 4658 9D 38 1F				sta sprites+$700+56,x
   654 465B A9 9F				lda #%10011111
   655 465D 9D 38 1E				sta sprites+$600+56,x
   656 4660 A9 FF				lda #255
   657 4662 9D 4D 1B				sta sprites+$300+77,x
   658 4665 A9 DD				lda #%11011101
   659 4667 9D 4D 1F				sta sprites+$700+77,x
   660 466A A9 DD				lda #%11011101
   661 466C 9D B6 1C				sta sprites+$400+182,x
   662 466F BD B6 1B				lda sprites+$300+182,x
   663 4672 09 03				ora #%00000011
   664 4674 9D B6 1B				sta sprites+$300+182,x
   665 4677 A9 FB				lda #%11111011
   666 4679 9D CB 1C				sta sprites+$400+203,x
   667 467C A9 F7				lda #%11110111
   668 467E 9D CB 1D				sta sprites+$500+203,x
   669 4681 CA					dex
   670 4682 10 C8				bpl @-
   671 						
   672 						
   673 						
   674 4684 A2 00				ldx #<MODUL					;low byte of RMT module to X reg
   675 4686 A0 61				ldy #>MODUL					;hi byte of RMT module to Y reg
   676 4688 A9 16				lda #$16 					;starting song line 0-255 to A reg 	
   677 468A 20 00 B2				jsr RASTERMUSICTRACKER
   678 						
   679 468D A9 06 85 3E				mva #6 kolpom0		;ntsc
   680
   681 4691 A9 01 85 22				mva #1 stan_gry
   682 						
   683 4695 A9 1D 8D 0C 47			mva #29 opoz_congrat
   684 						
   685 469A 20 21 28				jsr waitvbl
   686 469D A9 3A 8D 00 D4			mva #58 DMACTL
   687 46A2 A9 0F 8D 0B 47			mva #15 conLIcz
   688 46A7 A9 00 85 3F				mva #0 zegar
   689 46AB A9 0C 8D 13 43			mva #$0c kolor0
   690 						
   691 						
   692 						
   693 						
   694 46B0 20 CB 47		@		jsr ppanel2
   695 46B3 20 21 28				jsr waitvbl
   696 46B6 CE 0B 47				dec conLicz
   697 46B9 D0 F5				bne @-
   698 46BB AD 14 D0				lda $d014
   699 46BE 29 02				and #2
   700 46C0 18					clc
   701 46C1 69 0A				adc #10			;pal=10,ntsc=12
   702 						
   703 46C3 8D 0B 47				sta conLicz
   704 46C6 AD 13 43				lda kolor0
   705 46C9 49 0C				eor #$0c
   706 46CB 8D 13 43				sta kolor0
   707 46CE CE 0C 47				dec opoz_congrat
   708 46D1 10 DD				bpl @-
   709 						
   710 						
   711 						
   712 46D3 A9 00 8D 00 D4			mva #0 DMACTL
   713 46D8 A9 00 85 22				mva #0 stan_gry
   714 						
   715 46DC A2 06				ldx #6
   716 46DE A9 00		@		lda #0
   717 46E0 9D 23 1E				sta sprites+$600+35,x
   718 46E3 9D 23 1B				sta sprites+$300+35,x			;czyścimy duszki
   719 46E6 9D 38 1E				sta sprites+$600+56,x
   720 46E9 9D B6 1C				sta sprites+$400+182,x
   721 46EC 9D CB 1C				sta sprites+$400+203,x
   722 46EF 9D CB 1D				sta sprites+$500+203,x
   723 46F2 A9 FF				lda #255
   724 46F4 9D 38 1F				sta sprites+$700+56,x
   725 46F7 9D 4D 1F				sta sprites+$700+77,x
   726 46FA A9 3F				lda #%00111111
   727 46FC 9D 4D 1B				sta sprites+$300+77,x
   728 46FF BD B6 1B				lda sprites+$300+182,x
   729 4702 29 FC				and #%11111100
   730 4704 9D B6 1B				sta sprites+$300+182,x
   731 4707 CA					dex
   732 4708 10 D4				bpl @-
   733 						
   734 						
   735 470A 60					rts
   736 						
   737 						
   738 470B 00			conLicz	dta b(0)		
   739 470C 00			opoz_congrat	dta b(0)
   740 						
   741 = 470D			ppan_1	equ *
   742 470D A9 0B				lda #11
   743 470F CD 0B D4		@		cmp VCOUNT
   744 4712 90 FB				bcc @-
   745 						
   746 4714 A9 0C				lda #12
   747 4716 CD 0B D4		@		cmp VCOUNT
   748 4719 D0 FB				bne @-
   749 						
   750 471B A9 0C				lda #kolorLiczby		;pod Hiscore
   751 471D 8D 12 D0				sta COLPM
   752 4720 8D 13 D0				sta COLPM+1
   753 4723 8D 14 D0				sta COLPM+2
   754 4726 A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP
   755 472B A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   756 4730 A9 C3 8D 02 D0			mva #pozWyniki+18 HPOSP+2
   757 						
   758 4735 60					rts
   759 						
   760 = 4736			ppan_2	equ *
   761 4736 A9 10				lda #16
   762 4738 CD 0B D4		@		cmp VCOUNT
   763 473B D0 FB				bne @-
   764 						
   765 = 473D			ppan_2b	equ *		
   766 473D A9 B1 8D 00 D0			mva #pozWyniki HPOSP		;1up
   767 4742 A9 B9 8D 01 D0			mva #pozWyniki+8 HPOSP+1
   768 4747 AD 15 12 8D 12 D0			mva kolor1ups COLPM
   769 474D 8D 13 D0				sta COLPM+1
   770 						
   771 4750 60					rts
   772 						
   773 = 4751			ppan_3	equ *
   774 4751 A9 1F				lda #31
   775 4753 CD 0B D4		@		cmp VCOUNT
   776 4756 D0 FB				bne @-
   777 						
   778 4758 A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;condition
   779 475D A9 BB 8D 01 D0			mva #pozWyniki+8+2 HPOSP+1
   780 4762 A9 C3 8D 02 D0			mva #pozWyniki+16+2 HPOSP+2
   781 4767 A9 CB 8D 05 D0			mva #pozWyniki+24+2 HPOSM+1
   782 476C A9 CD 8D 04 D0			mva #pozWyniki+26+2 HPOSM
   783 4771 A9 B1 8D 06 D0			mva #pozWyniki HPOSM+2
   784 						
   785 4776 60					rts
   786 						
   787 = 4777			ppan_4	equ *
   788 4777 A9 25				lda #37
   789 4779 CD 0B D4		@		cmp VCOUNT
   790 477C D0 FB				bne @-
   791 						
   792 477E A9 0A 8D 17 D0			mva #10 COLPF1
   793 4783 AD DF 22				lda conditionColor		;conditionColor
   794 4786 8D 13 D0				sta COLPM+1
   795 4789 8D 14 D0				sta COLPM+2
   796 478C AD E7 22				lda conditionColor1
   797 478F 8D 12 D0				sta COLPM
   798 						
   799 4792 60					rts
   800 						
   801 = 4793			ppan_end	equ *
   802 4793 A9 70				lda #113-1
   803 4795 CD 0B D4		@		cmp VCOUNT
   804 4798 D0 FB				bne @-
   805 					
   806 479A A9 00 8D 08 D0			mva #0 SIZEP
   807 479F 8D 09 D0				sta SIZEP+1
   808 47A2 A9 B1 8D 00 D0			mva #pozWyniki HPOSP
   809 47A7 A9 B9 8D 01 D0			mva #pozWyniki+8 HPOSP+1
   810 47AC A9 C1 8D 05 D0			mva #pozWyniki+16 HPOSM+1		;Round
   811 47B1 A9 C3 8D 04 D0			mva #pozWyniki+18 HPOSM
   812 47B6 A9 C7 8D 02 D0			mva #pozWyniki+22 HPOSP+2
   813 47BB AD 16 12 8D 14 D0			mva kolorLevel COLPM+2
   814 47C1 AD 14 12 8D 12 D0			mva kolorRound COLPM
   815 47C7 8D 13 D0				sta COLPM+1
   816 						
   817 						;mva #0 COLBAK
   818 						
   819 47CA 60					rts
   820 						
   821 				;prawy panel podczas wyświetlania hscore
   822 = 47CB			ppanel2	equ *
   823 47CB 20 0D 47				jsr ppan_1
   824 47CE 20 36 47				jsr ppan_2
   825 						
   826 47D1 8D 0A D4				sta WSYNC
   827 47D4 8D 0A D4				sta WSYNC
   828 47D7 8D 0A D4				sta WSYNC
   829 47DA A9 48 8D 03 D0			mva #72 HPOSP+3
   830 47DF A9 30 8D 15 D0			mva #$30 COLPM+3
   831 47E4 8D 14 D0				sta COLPM+2
   832 47E7 A9 68 8D 02 D0			mva #104 HPOSP+2
   833 47EC A9 03 8D 0A D0			mva #3 SIZEP+2
   834 47F1 A9 90 8D 07 D0			mva #144 HPOSM+3
   835 47F6 A9 C0				lda #%11000000
   836 47F8 8D 0C D0				sta SIZEM
   837 						
   838 47FB A9 14				lda #20
   839 47FD CD 0B D4		@		cmp VCOUNT
   840 4800 D0 FB				bne @-
   841 4802 8D 0A D4				sta WSYNC
   842 4805 EA EA EA EA EA EA + 		:16 nop 
   843 						
   844 						
   845 4815 A9 0C 8D 12 D0			mva #kolorLiczby COLPM	
   846 481A 8D 13 D0				sta COLPM+1
   847 481D 8D 14 D0				sta COLPM+2
   848 4820 A9 00 8D 15 D0			mva #0 COLPM+3
   849 4825 8D 0C D0				sta SIZEM
   850 4828 8D 0A D0				sta SIZEP+2
   851 482B A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;score
   852 4830 A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   853 4835 A9 C3 8D 02 D0			mva #pozWyniki+18 HPOSP+2
   854 483A A9 C9 8D 06 D0			mva #pozWyniki+24 HPOSM+2
   855 						
   856 483F A9 1B				lda #27
   857 4841 CD 0B D4		@		cmp VCOUNT
   858 4844 D0 FB				bne @-
   859 						
   860 4846 8D 0A D4 8D 0A D4			:2 sta WSYNC
   861 484C 8E 02 D0				stx HPOSP+2
   862 484F A9 20 8D 15 D0			mva #$20 COLPM+3
   863 4854 8D 14 D0				sta COLPM+2
   864 4857 A9 50 8D 03 D0			mva #80 HPOSP+3
   865 485C A9 70 8D 02 D0			mva #112 HPOSP+2
   866 4861 A9 03 8D 0A D0			mva #3 SIZEP+2
   867 					
   868 						
   869 4866 A9 1F				lda #31
   870 4868 CD 0B D4		@		cmp VCOUNT
   871 486B D0 FB				bne @-
   872 						
   873 						
   874 486D A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;condition
   875 4872 A9 BB 8D 01 D0			mva #pozWyniki+8+2 HPOSP+1
   876 						
   877 4877 A9 CB 8D 05 D0			mva #pozWyniki+24+2 HPOSM+1
   878 487C A9 CD 8D 04 D0			mva #pozWyniki+26+2 HPOSM
   879 4881 A9 B1 8D 06 D0			mva #pozWyniki HPOSM+2	
   880 4886 A9 00 8D 15 D0			mva #0 COLPM+3
   881 488B A9 00 8D 0A D0			mva #0 SIZEP+2
   882 4890 A9 00 8D 0C D0			mva #0 SIZEM
   883 4895 A9 0C 8D 14 D0			mva #kolorliczby COLPM+2
   884 489A A9 C3 8D 02 D0			mva #pozWyniki+16+2 HPOSP+2
   885 						
   886 489F A9 25				lda #37
   887 48A1 CD 0B D4		@		cmp VCOUNT
   888 48A4 D0 FB				bne @-
   889 						
   890 						
   891 48A6 20 77 47				jsr ppan_4
   892 						
   893 48A9 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   894 						
   895 48B2 A9 20 8D 15 D0			mva #$20 COLPM+3
   896 48B7 A9 5C 8D 03 D0			mva #92 HPOSP+3
   897 48BC A9 7C 8D 07 D0			mva #124 HPOSM+3
   898 48C1 A9 C0 8D 0C D0			mva #%11000000 SIZEM	
   899 						
   900 48C6 A9 2A				lda #42
   901 48C8 CD 0B D4		@		cmp VCOUNT
   902 48CB D0 FB				bne @-
   903 						
   904 48CD A9 00 8D 15 D0			mva #0 COLPM+3
   905 48D2 8D 0A D4				sta WSYNC
   906 48D5 AD 13 43 8D 17 D0			mva kolor0 COLPF1
   907 						
   908 						
   909 48DB A9 2F				lda #47
   910 48DD CD 0B D4		@		cmp VCOUNT
   911 48E0 D0 FB				bne @-
   912 						
   913 						
   914 						
   915 48E2 A9 B0 8D 03 D0			mva #pozWyniki-1 HPOSP+3
   916 48E7 A9 03 8D 0B D0			mva #3 SIZEP+3
   917 							
   918 48EC A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   919 48F1 A9 14				lda #16+4
   920 48F3 8D 0C D0				sta SIZEM
   921 48F6 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   922 48FC 8D 14 D0				sta COLPM+2
   923 48FF A9 C4 8D 06 D0			mva #pozWyniki+19 HPOSM+2
   924 4904 A9 C8 8D 05 D0			mva #pozWyniki+23 HPOSM+1
   925 						
   926 4909 A9 00 8D 04 D0			mva #0 HPOSM
   927 490E A9 01 8D 0A D0			mva #1 SIZEP+2		;przeciwnicy na radarze
   928 4913 A9 B4 8D 02 D0			mva #pozWyniki+3 HPOSP+2
   929 						
   930 4918 AD 13 12 8D 15 D0			mva kolorMapa	COLPM+3
   931 						
   932 491E A9 58				lda #88
   933 4920 CD 0B D4		@		cmp VCOUNT
   934 4923 D0 FB				bne @-
   935 						
   936 4925 A9 08 8D 17 D0			mva #8 COLPF1
   937 						
   938 492A A9 A0 8D 12 D0			mva #$a0 COLPM		;GO FOR THE
   939 492F A9 5C 8D 00 D0			mva #92 HPOSP
   940 4934 A9 7C 8D 04 D0			mva #124 HPOSM
   941 4939 A9 03 8D 08 D0			mva #3 SIZEP
   942 493E 8D 09 D0				sta SIZEP+1
   943 4941 A9 97 8D 0C D0			mva #%10010111 SIZEM
   944 						
   945 4946 A9 5F				lda #95
   946 4948 CD 0B D4		@		cmp VCOUNT
   947 494B D0 FB				bne @-
   948 						
   949 494D A9 00 8D 04 D0			mva #0 HPOSM		
   950 								
   951 4952 A9 50 8D 00 D0			mva #80 HPOSP
   952 						
   953 						
   954 						
   955 4957 A9 65				lda #101
   956 4959 CD 0B D4		@		cmp VCOUNT
   957 495C D0 FB				bne @-
   958 						
   959 495E 8D 0A D4				sta WSYNC
   960 						
   961 4961 A9 A0 8D 13 D0			mva #$a0 COLPM+1		;SPACE RECORD NOW
   962 4966 A9 70 8D 01 D0			mva #112 HPOSP+1
   963 						
   964 						
   965 496B A9 66				lda #102
   966 496D CD 0B D4		@		cmp VCOUNT
   967 4970 D0 FB				bne @-
   968 						
   969 4972 A9 00 8D 15 D0			mva #0 COLPM+3		;koniec mapy zapasowe statki
   970 4977 8D 14 D0				sta COLPM+2
   971 497A 8D 04 D0				sta HPOSM
   972 497D 8D 05 D0				sta HPOSM+1
   973 4980 8D 06 D0				sta HPOSM+2
   974
   975 4983 A9 69				lda #105
   976 4985 CD 0B D4		@		cmp VCOUNT
   977 4988 D0 FB				bne @-
   978
   979 498A A9 00 8D 12 D0			mva #0 COLPM
   980 498F 8D 13 D0				sta COLPM+1
   981 4992 8D 14 D0				sta COLPM+2
   982 4995 A9 00 8D 0A D0			mva #0 SIZEP+2
   983 499A 8D 02 D0				sta HPOSP+2
   984 499D 8D 0C D0				sta SIZEM
   985 						
   986 49A0 4C 93 47				jmp ppan_end
   987
   988 49A3 02 04 06		congTab	dta b(2,4,6)
   989
   990
   991 = 49A6			printCyfra	equ *
   992 49A6 86 37				stx pom0
   993 						
   994 49A8 0A 0A 0A				:3 asl
   995 49AB 09 01				ora #1
   996 49AD AA					tax
   997 						
   998 49AE 20 D2 49		@		jsr prcyf1		;rysuje jedną linię znaku
   999 49B1 18					clc
  1000 49B2 A5 69				lda pom		;następna linia
  1001 49B4 69 30				adc #48
  1002 49B6 85 69				sta pom
  1003 49B8 90 02				bcc @+
  1004 49BA E6 6A				inc pom+1
  1005 49BC E8			@		inx
  1006 49BD 8A					txa
  1007 49BE 29 07				and #%111
  1008 49C0 D0 EC				bne @-1
  1009 						
  1010 49C2 38					sec
  1011 49C3 A5 69				lda pom			;ustaw się na następną literę
  1012 49C5 E9 4C				sbc #<332		;7*48-4
  1013 49C7 85 69				sta pom
  1014 49C9 A5 6A				lda pom+1
  1015 49CB E9 01				sbc #>332
  1016 49CD 85 6A				sta pom+1
  1017 						
  1018 49CF A6 37				ldx pom0
  1019 49D1 60					rts
  1020 						
  1021 = 49D2			prcyf1	equ *
  1022 49D2 A0 00				ldy #0
  1023 49D4 BD 00 4B		@		lda cyfryBosc,x
  1024 49D7 39 F4 49				and prcyfTab,y
  1025 						
  1026 49DA C0 03				cpy #3
  1027 49DC F0 0B				beq @+1
  1028 49DE 84 38				sty pom0a
  1029 49E0 4A 4A		@		:2 lsr
  1030 49E2 C8					iny
  1031 49E3 C0 03				cpy #3
  1032 49E5 90 F9				bcc @-
  1033 49E7 A4 38				ldy pom0a
  1034 49E9 18			@		clc
  1035 49EA 69 67				adc #103
  1036 49EC 91 69				sta (pom),y
  1037 49EE C8					iny
  1038 49EF C0 04				cpy #4
  1039 49F1 90 E1				bcc @-2
  1040 						
  1041 49F3 60					rts
  1042
  1043 49F4 C0 30 0C 03		prcyfTab	dta b(%11000000,%00110000,%00001100,%00000011)
  1044 						
  1045 = 49F8			score2buf	equ *		
  1046 49F8 A0 00				ldy #0
  1047 49FA A2 02				ldx #2
  1048 49FC BD B8 3A		@		lda Score,x
  1049 49FF 29 F0				and #$f0
  1050 4A01 4A 4A 4A 4A				:4 lsr
  1051 4A05 99 09 43				sta hscbuf,y
  1052 4A08 C8					iny
  1053 4A09 BD B8 3A				lda Score,x
  1054 4A0C 29 0F				and #$0f
  1055 4A0E 99 09 43				sta hscbuf,y
  1056 4A11 C8					iny
  1057 4A12 CA					dex
  1058 4A13 C0 06				cpy #6
  1059 4A15 D0 E5				bne @-
  1060 4A17 60					rts		
  1061 					
  1062 4A18 00 00 00 00 00 00 + 		:8 dta b(0)
  1063 					
  1064 = 4A20			znakiBosc	equ *	
  1065 4A20 00					dta b(0)
  1066 4A21 38					dta b(%00111000)
  1067 4A22 6C					dta b(%01101100)		;a
  1068 4A23 C6					dta b(%11000110)
  1069 4A24 C6					dta b(%11000110)
  1070 4A25 FE					dta b(%11111110)
  1071 4A26 C6					dta b(%11000110)
  1072 4A27 C6					dta b(%11000110)
  1073 						
  1074 4A28 00					dta b(0)
  1075 4A29 FC					dta b(%11111100)		;b
  1076 4A2A C6 C6				:2 dta b(%11000110)
  1077 4A2C FC					dta b(%11111100)
  1078 4A2D C6 C6				:2 dta b(%11000110)
  1079 4A2F FE					dta b(%11111110)
  1080 						
  1081 4A30 00					dta b(0)
  1082 4A31 3C					dta b(%00111100)		;c
  1083 4A32 66					dta b(%01100110)
  1084 4A33 C0 C0 C0				:3 dta b(%11000000)
  1085 4A36 66					dta b(%01100110)
  1086 4A37 3C					dta b(%00111100)
  1087 						
  1088 4A38 00					dta b(0)
  1089 4A39 F8					dta b(%11111000)
  1090 4A3A CC					dta b(%11001100)
  1091 4A3B C6					dta b(%11000110)		;d
  1092 4A3C C6					dta b(%11000110)
  1093 4A3D C6					dta b(%11000110)
  1094 4A3E CC					dta b(%11001100)
  1095 4A3F F8					dta b(%11111000)
  1096 						
  1097 4A40 00					dta b(0)
  1098 4A41 7E					dta b(%01111110)
  1099 4A42 60					dta b(%01100000)		;e
  1100 4A43 60					dta b(%01100000)
  1101 4A44 7C					dta b(%01111100)
  1102 4A45 60					dta b(%01100000)
  1103 4A46 60					dta b(%01100000)
  1104 4A47 7E					dta b(%01111110)
  1105 						
  1106 4A48 00					dta b(0)
  1107 4A49 FE					dta b(%11111110)		;f
  1108 4A4A C0 C0				:2 dta b(%11000000)
  1109 4A4C FC					dta b(%11111100)
  1110 4A4D C0 C0 C0				:3 dta b(%11000000)
  1111 4A50 00					dta b(0)
  1112 						
  1113 4A51 3E					dta b(%00111110)		;g
  1114 4A52 60					dta b(%01100000)
  1115 4A53 C0					dta b(%11000000)
  1116 4A54 CE					dta b(%11001110)
  1117 4A55 C6					dta b(%11000110)
  1118 4A56 66					dta b(%01100110)
  1119 4A57 3E					dta b(%00111110)
  1120 						
  1121 4A58 00					dta b(0)
  1122 4A59 C6 C6 C6				:3 dta b(%11000110)	;h
  1123 4A5C FE					dta b(%11111110)
  1124 4A5D C6 C6 C6				:3 dta b(%11000110)
  1125 						
  1126 4A60 00					dta b(0)
  1127 4A61 7E					dta b(%01111110)		;i
  1128 4A62 18 18 18 18 18			:5 dta b(%00011000)
  1129 4A67 7E					dta b(%01111110)
  1130 4A68 00					dta b(0)
  1131 						
  1132 4A69 06 06 06 06 06			:5 dta b(%00000110)	;j
  1133 4A6E C6					dta b(%11000110)
  1134 4A6F 7C					dta b(%01111100)
  1135 						
  1136 4A70 00					dta b(0)
  1137 4A71 C6					dta b(%11000110)		;k
  1138 4A72 CC					dta b(%11001100)
  1139 4A73 D8					dta b(%11011000)
  1140 4A74 F0					dta b(%11110000)
  1141 4A75 F8					dta b(%11111000)
  1142 4A76 DC					dta b(%11011100)
  1143 4A77 CE					dta b(%11001110)
  1144 						
  1145 4A78 00					dta b(0)
  1146 4A79 C0 C0 C0 C0 C0 C0			:6 dta b(%11000000)	;l
  1147 4A7F FC					dta b(%11111100)
  1148 						
  1149 4A80 00					dta b(0)
  1150 4A81 C6					dta b(%11000110)		;m
  1151 4A82 EE					dta b(%11101110)
  1152 4A83 FE FE				:2 dta b(%11111110)
  1153 4A85 D6					dta b(%11010110)
  1154 4A86 C6 C6				:2 dta b(%11000110)
  1155 						
  1156 4A88 00					dta b(0)
  1157 4A89 C6					dta b(%11000110)
  1158 4A8A E6					dta b(%11100110)		;n
  1159 4A8B F6					dta b(%11110110)
  1160 4A8C FE					dta b(%11111110)
  1161 4A8D DE					dta b(%11011110)
  1162 4A8E CE					dta b(%11001110)
  1163 4A8F C6					dta b(%11000110)
  1164 						
  1165 4A90 00					dta b(0)	
  1166 4A91 7C					dta b(%01111100)
  1167 4A92 C6 C6 C6 C6 C6			:5 dta b(%11000110)		;o
  1168 4A97 7C					dta b(%01111100)
  1169 						
  1170 4A98 00					dta b(0)
  1171 4A99 FC					dta b(%11111100)		;p
  1172 4A9A C6 C6 C6				:3 dta b(%11000110)
  1173 4A9D FC					dta b(%11111100)
  1174 4A9E C0 C0				:2 dta b(%11000000)
  1175 						
  1176 4AA0 00					dta b(0)
  1177 4AA1 7C					dta b(%01111100)		;q
  1178 4AA2 C6 C6 C6				:3 dta b(%11000110)
  1179 4AA5 DE					dta b(%11011110)
  1180 4AA6 CC					dta b(%11001100)
  1181 4AA7 7A					dta b(%01111010)
  1182 						
  1183 4AA8 00					dta b(0)
  1184 4AA9 FC					dta b(%11111100)
  1185 4AAA C6					dta b(%11000110)
  1186 4AAB C6					dta b(%11000110)		;r
  1187 4AAC CE					dta b(%11001110)
  1188 4AAD F8					dta b(%11111000)
  1189 4AAE CC					dta b(%11001100)
  1190 4AAF C6					dta b(%11000110)
  1191 						
  1192 4AB0 00					dta b(0)
  1193 4AB1 78					dta b(%01111000)
  1194 4AB2 CC					dta b(%11001100)
  1195 4AB3 C0					dta b(%11000000)		;s
  1196 4AB4 7C					dta b(%01111100)
  1197 4AB5 06					dta b(%00000110)
  1198 4AB6 C6					dta b(%11000110)
  1199 4AB7 7C					dta b(%01111100)
  1200 						
  1201 4AB8 00					dta b(0)
  1202 4AB9 7E					dta b(%01111110)
  1203 4ABA 18 18 18 18 18 18			:6 dta b(%00011000)	;t
  1204 						
  1205 4AC0 00					dta b(0)
  1206 4AC1 C6 C6 C6 C6 C6 C6			:6 dta b(%11000110)	;u
  1207 4AC7 7C					dta b(%01111100)
  1208 						
  1209 4AC8 00					dta b(0)
  1210 4AC9 C6					dta b(%11000110)
  1211 4ACA C6					dta b(%11000110)		;v
  1212 4ACB C6					dta b(%11000110)
  1213 4ACC EE					dta b(%11101110)
  1214 4ACD 7C					dta b(%01111100)
  1215 4ACE 38					dta b(%00111000)
  1216 4ACF 10					dta b(%00010000)
  1217 						
  1218 4AD0 00					dta b(0)
  1219 4AD1 C6 C6				:2 dta b(%11000110)		;w
  1220 4AD3 D6					dta b(%11010110)
  1221 4AD4 FE FE				:2 dta b(%11111110)
  1222 4AD6 EE					dta b(%11101110)
  1223 4AD7 C6					dta b(%11000110)
  1224 						
  1225 4AD8 00					dta b(0)
  1226 4AD9 C6					dta b(%11000110)		;x
  1227 4ADA EE					dta b(%11101110)
  1228 4ADB 7C					dta b(%01111100)
  1229 4ADC 38					dta b(%00111000)
  1230 4ADD 7C					dta b(%01111100)
  1231 4ADE EE					dta b(%11101110)
  1232 4ADF C6					dta b(%11000110)
  1233 						
  1234 4AE0 00					dta b(0)
  1235 4AE1 66					dta b(%01100110)			;y
  1236 4AE2 66					dta b(%01100110)
  1237 4AE3 66					dta b(%01100110)
  1238 4AE4 3C					dta b(%00111100)
  1239 4AE5 18					dta b(%00011000)
  1240 4AE6 18					dta b(%00011000)
  1241 4AE7 18					dta b(%00011000)
  1242 						
  1243 4AE8 00					dta b(0)
  1244 4AE9 FE					dta b(%11111110)		;z
  1245 4AEA 0E					dta b(%00001110)
  1246 4AEB 1C					dta b(%00011100)
  1247 4AEC 38					dta b(%00111000)
  1248 4AED 70					dta b(%01110000)
  1249 4AEE E0					dta b(%11100000)
  1250 4AEF FE					dta b(%11111110)
  1251 						
  1252 4AF0 00					dta b(0)
  1253 4AF1 00 00 00 00 00			:5 dta b(0)			;.65+26=91
  1254 4AF6 30 30				:2 dta b(%00110000)
  1255 						
  1256 4AF8 00					dta b(0)
  1257 4AF9 08					dta b(%00001000)		;!	92
  1258 4AFA 38 38				:2 dta b(%00111000)
  1259 4AFC 30					dta b(%00110000)
  1260 4AFD 00					dta b(0)
  1261 4AFE 30 30				:2 dta b(%00110000)
  1262
  1263 = 4B00			cyfryBosc	equ *		
  1264 4B00 00					dta b(0)
  1265 4B01 38					dta b(%00111000)		;0	93
  1266 4B02 4C					dta b(%01001100)
  1267 4B03 C6 C6 C6				:3 dta b(%11000110)
  1268 4B06 64					dta b(%01100100)
  1269 4B07 38					dta b(%00111000)
  1270 						
  1271 4B08 00					dta b(0)
  1272 4B09 18					dta b(%00011000)		;1
  1273 4B0A 38					dta b(%00111000)
  1274 4B0B 18 18 18 18				:4 dta b(%00011000)
  1275 4B0F 7E					dta b(%01111110)
  1276 						
  1277 4B10 00					dta b(0)
  1278 4B11 7C					dta b(%01111100)		;2
  1279 4B12 C6					dta b(%11000110)
  1280 4B13 0E					dta b(%00001110)
  1281 4B14 3C					dta b(%00111100)
  1282 4B15 78					dta b(%01111000)
  1283 4B16 E0					dta b(%11100000)
  1284 4B17 FE					dta b(%11111110)
  1285 						
  1286 4B18 00					dta b(0)
  1287 4B19 7E					dta b(%01111110)		;3
  1288 4B1A 0C					dta b(%00001100)
  1289 4B1B 18					dta b(%00011000)
  1290 4B1C 3C					dta b(%00111100)
  1291 4B1D 06					dta b(%00000110)
  1292 4B1E C6					dta b(%11000110)
  1293 4B1F 7C					dta b(%01111100)
  1294 						
  1295 4B20 00					dta b(0)
  1296 4B21 1C					dta b(%00011100)		;4
  1297 4B22 3C					dta b(%00111100)
  1298 4B23 6C					dta b(%01101100)
  1299 4B24 CC					dta b(%11001100)
  1300 4B25 FE					dta b(%11111110)
  1301 4B26 0C 0C				:2 dta b(%00001100)
  1302 						
  1303 4B28 00					dta b(0)
  1304 4B29 FC					dta b(%11111100)		;5
  1305 4B2A C0					dta b(%11000000)
  1306 4B2B FC					dta b(%11111100)
  1307 4B2C 06 06				:2 dta b(%00000110)
  1308 4B2E C6					dta b(%11000110)
  1309 4B2F 7C					dta b(%01111100)
  1310 						
  1311 4B30 00					dta b(0)
  1312 4B31 3C					dta b(%00111100)		;6
  1313 4B32 60					dta b(%01100000)
  1314 4B33 C0					dta b(%11000000)
  1315 4B34 FC					dta b(%11111100)
  1316 4B35 C6 C6				:2 dta b(%11000110)
  1317 4B37 7C					dta b(%01111100)
  1318 						
  1319 4B38 00					dta b(0)
  1320 4B39 FE					dta b(%11111110)		;7
  1321 4B3A C6					dta b(%11000110)
  1322 4B3B 0C					dta b(%00001100)
  1323 4B3C 18					dta b(%00011000)
  1324 4B3D 30 30 30				:3 dta b(%00110000)
  1325 						
  1326 4B40 00					dta b(0)
  1327 4B41 78					dta b(%01111000)		;8
  1328 4B42 C4					dta b(%11000100)
  1329 4B43 E4					dta b(%11100100)
  1330 4B44 78					dta b(%01111000)
  1331 4B45 9E					dta b(%10011110)
  1332 4B46 86					dta b(%10000110)
  1333 4B47 7C					dta b(%01111100)
  1334 						
  1335 4B48 00					dta b(0)
  1336 4B49 7C					dta b(%01111100)		;9		;102
  1337 4B4A C6 C6				:2 dta b(%11000110)
  1338 4B4C 7E					dta b(%01111110)
  1339 4B4D 06					dta b(%00000110)
  1340 4B4E 0C					dta b(%00001100)
  1341 4B4F 78					dta b(%01111000)
  1342
  1343 				;Dodajemy nowy wynik		
  1344 = 4B50			gameover1	equ *
  1345 4B50 20 8E 26				jsr zmaz_radar
  1346 						
  1347 4B53 AD B9 3A				lda score+1
  1348 4B56 0D BA 3A				ora score+2
  1349 4B59 F0 26				beq @+2
  1350 						
  1351 4B5B AD BB 3A				lda flaghscore
  1352 4B5E F0 15				beq @+
  1353 						
  1354 4B60 AD B8 3A 8D B5 3A			mva score hscore		;przepisz score do high score
  1355 4B66 AD B9 3A 8D B6 3A			mva score+1 hscore+1
  1356 4B6C AD BA 3A 8D B7 3A			mva score+2	hscore+2
  1357 						
  1358 4B72 20 7A 45				jsr congrat		;najlepszy wynik
  1359 						
  1360 4B75 A2 00		@		ldx #0
  1361 4B77 20 4A 4D		@		jsr porownaj
  1362 4B7A D0 08				bne @+1			;>1 skocz do obslugi hscore
  1363 4B7C E8					inx
  1364 4B7D E0 05				cpx #5
  1365 4B7F D0 F6				bne @-
  1366 						
  1367 4B81 4C 12 A2		@		jmp title_s
  1368
  1369 4B84 E0 04		@		cpx #4			
  1370 4B86 F0 19				beq @+1
  1371 						
  1372 4B88 BD 46 4D				lda porBuf,x			;przepisz wszystkie hscore 1 poziom nizej
  1373 4B8B 8D 9E 4B				sta _por+1
  1374 						
  1375 4B8E A0 0F				ldy #15
  1376 4B90 B9 80 27		@		lda hscScore1,y
  1377 4B93 99 84 27				sta hscScore1+4,y
  1378 4B96 B9 6C 27				lda hscNick1,y
  1379 4B99 99 70 27				sta hscNick1+4,y
  1380 4B9C 88					dey
  1381 = 4B9D			_por	equ *
  1382 4B9D C0 FF				cpy #$ff
  1383 4B9F D0 EF				bne @-
  1384 						
  1385 4BA1 8A			@		txa
  1386 4BA2 0A					asl
  1387 4BA3 0A					asl					;wpisz nowy wynik na odpowiedniej pozycji
  1388 4BA4 A8					tay	
  1389 4BA5 85 3D				sta pom0f
  1390 4BA7 AD BA 3A				lda score+2
  1391 4BAA 99 80 27				sta hscScore1,y
  1392 4BAD AD B9 3A				lda score+1
  1393 4BB0 99 81 27				sta hscScore1+1,y
  1394 4BB3 AD B8 3A				lda score
  1395 4BB6 99 82 27				sta hscScore1+2,y
  1396 4BB9 A9 00				lda #0
  1397 4BBB 99 6C 27				sta hscNick1,y		;wyczysć nick na danej pozycji
  1398 4BBE 99 6D 27				sta hscNick1+1,y
  1399 4BC1 99 6E 27				sta hscNick1+2,y
  1400 						
  1401 4BC4 20 A0 4C				jsr scoreLen		
  1402 4BC7 99 83 27				sta hscScore1+3,y	
  1403
  1404 4BCA 48					pha		;zapamietaj dlugosc score
  1405 						
  1406 4BCB A9 00 8D 18 D0			mva #0 COLPF2
  1407 4BD0 A9 0A 8D 17 D0			mva #10 COLPF1
  1408 						
  1409 4BD5 A2 00				ldx #<MODUL					;low byte of RMT module to X reg
  1410 4BD7 A0 61				ldy #>MODUL					;hi byte of RMT module to Y reg
  1411 4BD9 A9 1B				lda #$1B					;starting song line 0-255 to A reg 	
  1412 4BDB 20 00 B2				jsr RASTERMUSICTRACKER
  1413
  1414 4BDE A9 06 85 3E				mva #6 kolpom0		;ntsc
  1415
  1416 4BE2 A9 01 85 22				mva #1 stan_gry
  1417 						
  1418 4BE6 20 D8 41				jsr tabhscore2
  1419 4BE9 20 FC 40				jsr tabhs1
  1420 					
  1421 4BEC A9 00 8D 02 D4 A9 + 		mwa #hsdlist	DLPTR
  1422 						
  1423 4BF6 A9 80 8D 96 17 A9 + 		mwa #obraz2 dlist+2
  1424 4C00 A9 BC 8D 09 D4			mva #>znaki2 CHBASE
  1425 						
  1426 4C05 A6 3D				ldx pom0f
  1427 4C07 20 EB 42				jsr hscToBuf
  1428 4C0A 68					pla					;wypisz obecne score na ekranie
  1429 4C0B A8					tay
  1430 4C0C A9 A6				lda <(hscr+6*48+6)
  1431 4C0E A2 0B				ldx >(hscr+6*48+6)
  1432 4C10 20 D5 42				jsr prhsc
  1433 						
  1434 4C13 A9 41				lda #65
  1435 4C15 8D B5 0B				sta hscr+6*48+21
  1436 4C18 8D B6 0B				sta hscr+6*48+22
  1437 4C1B 8D B7 0B				sta hscr+6*48+23
  1438 						
  1439 4C1E A9 41 8D 41 4D			mva #65 litera	
  1440 4C23 A9 00 8D 45 4D			mva #0 pozLitera
  1441 4C28 85 3F				sta zegar
  1442 						
  1443 4C2A AD 15 12 8D 22 22			mva kolor1ups kolor1up
  1444 4C30 20 21 28				jsr waitvbl
  1445 4C33 A9 3A 8D 00 D4			mva #58 DMACTL
  1446 						
  1447 4C38 20 14 43		@		jsr ppanel1
  1448 4C3B A5 3F				lda zegar
  1449 4C3D C9 01				cmp #1
  1450 4C3F D0 08				bne @+
  1451 4C41 AD 0A D2				lda random
  1452 4C44 29 F0				and #$f0
  1453 4C46 8D 13 43				sta kolor0
  1454 4C49 20 B4 4C		@		jsr changeletter
  1455 						
  1456 4C4C AE 45 4D				ldx pozLitera
  1457 4C4F E0 03				cpx #3
  1458 4C51 F0 09				beq @+
  1459 4C53 BD 42 4D				lda literaTab,x
  1460 4C56 8D 12 43				sta nick0		;pozycja mrygajacego znaku
  1461 						
  1462 4C59 4C 38 4C				jmp @-1
  1463 						
  1464 4C5C A9 00 85 3F		@		mva #0 zegar
  1465 4C60 8D 13 43				sta kolor0
  1466
  1467 4C63 20 14 43		@		jsr ppanel1
  1468 4C66 A5 3F				lda zegar 
  1469 4C68 C9 C8				cmp #200
  1470 4C6A 90 F7				bcc @-
  1471 						
  1472 4C6C AD 10 D0				lda FIRE
  1473 4C6F D0 07				bne @+
  1474 4C71 A9 BE 85 3F				mva #190 zegar
  1475 4C75 4C 63 4C				jmp @-
  1476 							
  1477 4C78 A9 00 8D 00 D4	@		mva #0 DMACTL
  1478 						
  1479 4C7D 20 7E 40				jsr tabhs1cls
  1480 4C80 A9 00 85 22				mva #0 stan_gry
  1481 						
  1482 4C84 A9 94 8D 02 D4 A9 + 		mwa #dlist	DLPTR
  1483 4C8E A9 18 8D 07 D4			mva #>sprites PMBASE
  1484 4C93 A9 B8 8D 09 D4			mva #>znaki1 CHBASE
  1485 						
  1486 						
  1487 4C98 A9 00 8D 07 D0			mva #0 HPOSM+3
  1488 						
  1489 4C9D 4C 12 A2				jmp Title_s
  1490
  1491 = 4CA0			scoreLen	equ *
  1492 4CA0 AD BA 3A				lda score+2
  1493 4CA3 D0 04				bne @+					;wpisz odpowiednią długość hscScore
  1494 4CA5 A9 02				lda #2
  1495 4CA7 D0 0A				bne @+2
  1496 4CA9 C9 10		@		cmp #$10
  1497 4CAB B0 04				bcs @+
  1498 4CAD A9 01				lda #1
  1499 4CAF D0 02				bne @+1
  1500 4CB1 A9 00		@		lda #0
  1501 4CB3 60			@		rts
  1502 						
  1503 = 4CB4			changeLetter	equ *
  1504 4CB4 A5 3F				lda zegar
  1505 4CB6 C9 04				cmp #4		;opoznienie 
  1506 4CB8 F0 01				beq @+
  1507 4CBA 60					rts
  1508 4CBB A9 00 85 3F		@		mva #0 zegar
  1509 4CBF AD 00 D3				lda JOY
  1510 4CC2 29 0F				and #15
  1511 4CC4 C9 0F				cmp #15
  1512 4CC6 F0 35				beq cl1		;sprawdz fire
  1513 4CC8 C9 07				cmp #7
  1514 4CCA D0 16				bne @+1
  1515 4CCC AD 41 4D				lda litera
  1516 4CCF 18					clc
  1517 4CD0 69 01				adc #1
  1518 4CD2 C9 67				cmp #103
  1519 4CD4 90 02				bcc @+
  1520 4CD6 A9 41				lda #65
  1521 4CD8 8D 41 4D		@		sta litera
  1522 4CDB AE 45 4D				ldx pozLitera
  1523 4CDE 9D B5 0B				sta hscr+6*48+21,x
  1524 4CE1 60					rts
  1525 4CE2 C9 0B		@		cmp #11
  1526 4CE4 F0 01				beq @+
  1527 4CE6 60					rts
  1528 4CE7 38			@		sec
  1529 4CE8 AD 41 4D				lda litera
  1530 4CEB E9 01				sbc #1
  1531 4CED C9 41				cmp #65
  1532 4CEF B0 02				bcs @+
  1533 4CF1 A9 66				lda #102
  1534 4CF3 8D 41 4D		@		sta litera
  1535 4CF6 AE 45 4D				ldx pozLitera
  1536 4CF9 9D B5 0B				sta hscr+6*48+21,x
  1537 4CFC 60					rts
  1538 = 4CFD			cl1		equ *
  1539 4CFD AD 10 D0				lda FIRE
  1540 4D00 F0 01				beq @+
  1541 4D02 60					rts
  1542 4D03 A5 3D		@		lda pom0f
  1543 4D05 0D 45 4D				ora pozLitera
  1544 4D08 AA					tax
  1545 4D09 AD 41 4D				lda litera
  1546 4D0C 9D 6C 27				sta hscNick1,x		;wpisz wybraną literę w tabeli
  1547 						
  1548 4D0F A9 07				lda <(hscr+13*48+23)
  1549 4D11 85 69				sta pom
  1550 4D13 A9 0D				lda >(hscr+13*48+23)
  1551 4D15 85 6A				sta pom+1
  1552 4D17 A5 3D				lda pom0f
  1553 4D19 F0 11				beq @+2
  1554 4D1B 4A					lsr
  1555 4D1C 4A					lsr				;wpisz wybraną literę w tabeli na ekranie
  1556 4D1D AA					tax
  1557 4D1E 18			@		clc
  1558 4D1F A5 69				lda pom
  1559 4D21 69 60				adc #96
  1560 4D23 85 69				sta pom
  1561 4D25 90 02				bcc @+
  1562 4D27 E6 6A				inc pom+1
  1563 						
  1564 4D29 CA			@		dex
  1565 4D2A D0 F2				bne @-1
  1566 						
  1567 4D2C AC 45 4D		@		ldy pozLitera
  1568 						
  1569 4D2F AD 41 4D				lda litera
  1570 4D32 91 69				sta (pom),y
  1571 						
  1572 4D34 EE 45 4D				inc pozLitera
  1573 4D37 A9 41 8D 41 4D			mva #65 litera
  1574 4D3C A9 E7 85 3F				mva #-25 zegar
  1575 4D40 60					rts
  1576 						
  1577 4D41 00			litera	dta b(0)	
  1578 4D42 84 88 8C		literaTab	dta b(132,136,140)
  1579 4D45 00			pozLitera dta b(0)	
  1580 4D46 FF 03 07 0B		porBuf	dta b(255,3,7,11)
  1581
  1582 = 4D4A			porownaj	equ *
  1583 4D4A 8A					txa
  1584 4D4B 0A					asl
  1585 4D4C 0A					asl
  1586 4D4D A8					tay
  1587 4D4E AD BA 3A				lda score+2
  1588 4D51 D9 80 27				cmp hscScore1,y
  1589 4D54 90 1F				bcc por1
  1590 4D56 F0 03				beq @+
  1591 4D58 A9 01				lda #1		;score>hscore
  1592 4D5A 60					rts
  1593 4D5B AD B9 3A		@		lda score+1
  1594 4D5E D9 81 27				cmp hscScore1+1,y
  1595 4D61 90 12				bcc por1
  1596 4D63 F0 03				beq @+
  1597 4D65 A9 01				lda #1		;score>hscore
  1598 4D67 60					rts
  1599 4D68 AD B8 3A		@		lda score
  1600 4D6B D9 82 27				cmp hscScore1+2,y
  1601 4D6E 90 05				bcc por1
  1602 4D70 F0 03				beq por1
  1603 4D72 A9 01				lda #1		;score>hscore
  1604 4D74 60					rts
  1605 4D75 A9 00		por1	lda #0
  1606 4D77 60					rts		
  1607 					
  1608 								
  1609 								
  1610 								
  1611 								
  1612 								
  1613 								
  1614 								
  1615 								
  1616 								
   235 4D78						icl 'title.asm'
Source: title.asm
     1 				;strona tytułowa
     2 = 4D78			Title		equ *
     3 4D78 20 1D 55				jsr prepare_title
     4 4D7B 20 21 28				jsr waitvbl
     5 = 4D7E			Title2	equ *
     6 4D7E 20 68 55				jsr title_init
     7 4D81 A9 00 8D 86 52			mva #0 atariX1
     8 						
     9 4D86 A9 B8				lda #>znaki1
    10 4D88 8D 09 D4				sta CHBASE
    11
    12 						
    13 						
    14 						;jsr waitvbl
    15 4D8B A9 94 8D 02 D4 A9 + 		mwa #dlist	DLPTR
    16 4D95 A9 00 85 3F				mva #0 zegar
    17 4D99 A9 40 8D 0E D4			mva #%01000000 NMIEN		;wylacz przerwania DLI i IRQ
    18 4D9E A9 3A 8D 00 D4			mva #58 DMACTL
    19 						
    20 4DA3 20 95 52				jsr ppanel
    21
    22 4DA6 20 F5 55		@		jsr printNapis
    23 						
    24 4DA9 20 95 52				jsr ppanel		;bez irq
    25 4DAC AD 1F D0				lda CONSOL
    26 4DAF 29 02				and #SELECT
    27 4DB1 D0 03				bne *+5
    28 4DB3 4C 28 28				jmp matrixOn
    29 						
    30 4DB6 AD 10 D0				lda FIRE
    31 4DB9 D0 03				bne *+5
    32 4DBB 4C 21 28				jmp waitvbl
    33 						
    34 4DBE 20 21 28				jsr waitvbl
    35 						
    36 4DC1 A5 3D				lda pozNapis
    37 4DC3 C9 1D				cmp #29
    38 4DC5 90 DF				bcc @-
    39 						
    40 4DC7 20 95 52		@		jsr ppanel
    41 4DCA AD 1F D0				lda CONSOL
    42 4DCD 29 02				and #SELECT
    43 4DCF D0 03				bne *+5
    44 4DD1 4C 28 28				jmp matrixOn
    45
    46 4DD4 AD 10 D0				lda FIRE
    47 4DD7 D0 03				bne *+5	
    48 4DD9 4C 21 28				jmp waitvbl
    49 					
    50 4DDC 20 21 28				jsr waitvbl
    51 4DDF 20 95 52				jsr ppanel
    52 						
    53 4DE2 20 E0 57				jsr efektNapis1
    54 						
    55 4DE5 A5 38				lda napisX
    56 4DE7 10 DE				bpl @-	
    57 						
    58
    59 4DE9 20 95 52		@		jsr ppanel
    60 4DEC A0 20				ldy #32
    61 4DEE 20 E2 56				jsr efnap1
    62
    63 4DF1 A9 84				lda #$84
    64 4DF3 8D 16 D0				sta COLPF0
    65 						
    66 4DF6 A0 07				ldy #7
    67 4DF8 A9 00				lda #0
    68 4DFA 99 29 05		@		sta obraz1+19+29+7*48+33,y
    69 4DFD 99 89 08				sta obraz1+19+29+25*48+33,y
    70 4E00 99 99 07				sta obraz1+19+29+20*48+33,y
    71 4E03 99 F9 07				sta obraz1+19+29+22*48+33,y
    72 4E06 99 39 07				sta obraz1+19+29+18*48+33,y
    73 4E09 99 69 07				sta obraz1+19+29+19*48+33,y
    74 4E0C 99 C9 07				sta obraz1+19+29+21*48+33,y
    75 4E0F 99 29 08				sta obraz1+19+29+23*48+33,y
    76 4E12 88					dey
    77 4E13 10 E5				bpl @-
    78 						
    79 						
    80 4E15 A2 06				ldx #6
    81 4E17 A9 CC		@		lda #%11001100 				;last line
    82 4E19 9D D7 1C				sta sprites+$4d8-1,x
    83 4E1C A9 30				lda #%00110000
    84 4E1E 9D D7 1D				sta sprites+$5d8-1,x
    85 						
    86 4E21 A9 F7				lda #%11110111			;code and gfx
    87 4E23 9D 9F 1C				sta sprites+$4a0-1,x
    88 4E26 A9 70				lda #%01110000
    89 4E28 9D 9F 1D				sta sprites+$5a0-1,x
    90
    91 4E2B A9 7D				lda #%01111101			;music and sfx
    92 4E2D 9D AF 1C				sta sprites+$4b0-1,x
    93 4E30 A9 DC				lda #%11011100
    94 4E32 9D AF 1D				sta sprites+$5b0-1,x
    95 						
    96 4E35 A9 F8				lda #%11111000				;pictures
    97 4E37 9D BF 1C				sta sprites+$4c0-1,x
    98 4E3A A9 FC				lda #%11111100
    99 4E3C 9D BF 1D				sta sprites+$5c0-1,x
   100 						
   101 4E3F CA					dex
   102 4E40 10 D5				bpl @-
   103 						
   104 4E42 A9 00				lda #0
   105 4E44 8D DF 1C				sta sprites+$4df
   106 4E47 8D DF 1D				sta sprites+$5df
   107 						
   108 4E4A A9 05				lda #5 
   109 4E4C A2 07				ldx #7									;fragment napisu na duszku
   110 4E4E 9D 46 1F		@		sta sprites+$700+startWyniki+54,x
   111 4E51 CA					dex
   112 4E52 10 FA				bpl @-
   113 						
   114 4E54 AD 17 12 8D 8A 22			mva kolorLogo duszek4kolor
   115 4E5A A9 2B 8D 78 22			mva #43 duszek4pos
   116 							
   117 4E5F A9 32				lda #$32					;zmiana trybu na gr0 w 2 liniach
   118 4E61 8D 9E 17				sta dlist+10
   119 						
   120 4E64 8D A9 17				sta dlist+21
   121 4E67 8D AA 17				sta dlist+22
   122 4E6A 8D AB 17				sta dlist+23
   123 4E6D 8D AC 17				sta dlist+24
   124 4E70 8D AD 17				sta dlist+25
   125 4E73 8D AE 17				sta dlist+26
   126 4E76 8D B0 17				sta dlist+28		
   127 						
   128 4E79 A2 0D				ldx #13
   129 4E7B BD A5 54		@		lda theStarDestroyer,x
   130 4E7E 9D 13 05				sta obraz1+19+12+28+7*48,x
   131 4E81 BD E1 54				lda sfxt,x
   132 4E84 9D 7F 07				sta obraz1+19+8+28+20*48,x
   133 4E87 CA					dex
   134 4E88 10 F1				bpl @-
   135 						
   136 4E8A A2 27				ldx #39
   137 4E8C A9 80				lda #$80
   138 4E8E 9D 68 08		@		sta obraz1+19+29+25*48,x
   139 4E91 CA					dex
   140 4E92 10 FA				bpl @-
   141 						
   142 4E94 A2 11				ldx #17
   143 4E96 BD B3 54		@		lda atariversion,x
   144 4E99 09 80				ora #$80
   145 4E9B 9D 72 08				sta obraz1+19+11+28+25*48,x
   146 						;lda sfxt,x
   147 						;sta obraz1+19+8+28+20*48,x
   148 4E9E CA					dex
   149 4E9F 10 F5				bpl @-
   150 						
   151 					
   152 4EA1 A2 0B				ldx #11
   153 4EA3 BD C5 54		@		lda codet,x
   154 4EA6 9D 1E 07				sta obraz1+19+7+28+18*48,x
   155 4EA9 CA					dex
   156 4EAA 10 F7				bpl @-
   157 						
   158 4EAC A2 0F				ldx #15
   159 4EAE BD D1 54		@		lda codet1,x
   160 4EB1 9D 4E 07				sta obraz1+19+7+28+19*48,x
   161 4EB4 CA					dex
   162 4EB5 10 F7				bpl @-
   163 						
   164 4EB7 A2 10				ldx #16
   165 4EB9 BD EF 54		@		lda sfxt1,x
   166 4EBC 9D AF 07				sta obraz1+19+8+28+21*48,x
   167 4EBF BD 0C 55				lda pict1,x
   168 4EC2 9D 10 08				sta obraz1+19+8+28+23*48+1,x
   169 4EC5 CA					dex
   170 4EC6 10 F1				bpl @-
   171 						
   172 4EC8 A2 0B				ldx #11
   173 4ECA BD 00 55		@		lda pict,x
   174 4ECD 9D E0 07				sta obraz1+19+8+28+22*48+1,x
   175 4ED0 CA					dex
   176 4ED1 10 F7				bpl @-
   177 						
   178 4ED3 A9 39 8D 86 52			mva #67-10 atariX1
   179 						
   180 						
   181 4ED8 A9 02				lda #2
   182 4EDA 8D D0 03				sta obraz1+19+25+28
   183 4EDD 8D 4D 04				sta obraz1+19+25+9+3*48		;gwiazdy
   184 4EE0 8D E2 04				sta obraz1+19+25+14+6*48
   185 4EE3 8D B2 05				sta obraz1+19+25+30+10*48
   186 4EE6 8D 61 06				sta obraz1+19+25+13+14*48
   187 4EE9 8D FC 06				sta obraz1+19+25+24+17*48
   188 4EEC 8D A7 08				sta obraz1+19+25+19+26*48
   189 4EEF 8D E1 08				sta obraz1+19+25+29+27*48
   190 4EF2 8D 3C 08				sta obraz1+19+25+8+24*48
   191 						
   192 4EF5 A9 81				lda #129
   193 4EF7 8D 2A 04				sta obraz1+19+25+2*48+22
   194 4EFA 8D 93 04				sta obraz1+19+25+4*48+31
   195 4EFD 8D 7A 05				sta obraz1+19+25+22+9*48
   196 						;sta obraz1+19+25+8+19*48
   197 4F00 8D 4F 08				sta obraz1+19+25+27+24*48
   198 4F03 8D D0 08				sta obraz1+19+25+12+27*48
   199 						
   200 4F06 A9 03 85 17				mva #3 posx
   201 4F0A A9 00 85 18				mva #0 posY
   202 4F0E A9 24 8D C1 17			mva #36 enemyX+4
   203 4F13 A9 0E 8D CD 17			mva #14 enemyY+4
   204 4F18 A9 00 8D D9 17			mva #0 enemyDX+4
   205 4F1D A9 00 8D DF 17			mva #0 enemyDY+4
   206 4F22 A9 0C 8D E5 17			mva #12 enemyFaza+4
   207 4F27 A9 80 8D 60 31			mva #EKOLOR1 enemyNegatyw+4
   208 4F2C A9 EA 8D EB 17			mva #BANK2 enemyBank+4
   209 4F31 A9 41 8D F1 17			mva >enemy2shapetab enemyShapeH+4
   210 4F36 A9 00 85 1F				mva #0 ramka
   211 4F3A 85 D1				sta ramka4
   212 4F3C A9 25 85 3D				mva #37 pom0f
   213 4F40 85 CC				sta pom0g
   214 4F42 A9 00 85 3C				mva #0 pom0e	;kierunek
   215 						
   216
   217 						
   218 4F46 A9 00 85 3F				mva #0 zegar
   219 					
   220 4F4A 20 95 52		@		jsr ppanel
   221 4F4D AD 1F D0				lda CONSOL
   222 4F50 29 02				and #SELECT
   223 4F52 D0 07				bne bbs
   224 4F54 A9 00				lda #0
   225 4F56 85 CC				sta pom0g
   226 4F58 4C 79 50				jmp @+1
   227
   228 4F5B AD 10 D0		bbs		lda fire
   229 4F5E D0 03 4C 79 50			jeq @+1
   230
   231 					
   232 4F63 A5 3C				lda pom0e
   233 4F65 D0 2D				bne bb0
   234
   235 4F67 A6 3D				ldx pom0f
   236 4F69 E0 25				cpx #37
   237 4F6B F0 50				beq bb1
   238 4F6D AD 2F 24 9D 25 06 + 		:3 mva bufore3+# obraz1-3+#+14*48,x	;odtwórz ekran po duszku
   239 4F7F AD 32 24 9D 55 06 + 		:3 mva bufore3+3+# obraz1-3+#+15*48,x
   240 4F91 4C BD 4F				jmp bb1
   241 						
   242 						
   243 4F94 A6 3D		bb0		ldx pom0f
   244 4F96 AD 2F 24 9D 75 04 + 		:3 mva bufore3+# obraz1-3+#+5*48,x	;odtwórz ekran po duszku
   245 4FA8 AD 32 24 9D A5 04 + 		:3 mva bufore3+3+# obraz1-3+#+6*48,x
   246 4FBA 4C 1D 50				jmp bb2	
   247 						
   248 = 4FBD			bb1		equ *		
   249 4FBD 38					sec
   250 4FBE AD D9 17				lda enemyDX+4		;ruch w lewo
   251 4FC1 E9 40				sbc #%01000000
   252 4FC3 8D D9 17				sta enemyDX+4
   253 4FC6 AD C1 17				lda enemyX+4
   254 4FC9 E9 00				sbc #0
   255 4FCB 29 7F				and #127
   256 4FCD 8D C1 17				sta enemyX+4
   257 						
   258 4FD0 D0 1C				bne bb1_	;sprawdz czy juz poza ekranem
   259 4FD2 E6 3C				inc pom0e	;zmien kierunek
   260 4FD4 A9 00 8D C1 17			mva #0 enemyX+4
   261 4FD9 8D D9 17				sta enemyDX+4
   262 4FDC A9 04 8D E5 17			mva #4 enemyFaza+4
   263 4FE1 A9 05 8D CD 17			mva #5 enemyY+4
   264 4FE6 A9 EE 8D EB 17			mva #BANK1 enemyBank+4
   265 4FEB 4C 1D 50				jmp bb2
   266 						
   267 4FEE AA			bb1_	tax
   268 4FEF 86 3D				stx pom0f
   269 4FF1 BD 25 06 8D 2F 24 + 		:3 mva obraz1-3+#+14*48,x bufore3+#	;zapamietaj obszar pod nową pozycją duszka
   270 5003 BD 55 06 8D 32 24 + 		:3 mva obraz1-3+#+15*48,x bufore3+3+#
   271 						
   272 5015 A2 04				ldx #4
   273 5017 20 87 31				jsr duszkiPrint
   274 501A 4C 67 50				jmp bb3
   275 						
   276 = 501D			bb2		equ *		
   277 501D 18					clc
   278 501E AD D9 17				lda enemyDX+4		;ruch w prawo
   279 5021 69 40				adc #%01000000
   280 5023 8D D9 17				sta enemyDX+4
   281 5026 AD C1 17				lda enemyX+4
   282 5029 69 00				adc #0
   283 502B 29 7F				and #127
   284 502D 8D C1 17				sta enemyX+4
   285 						
   286 5030 C9 26				cmp #38
   287 5032 D0 07				bne bb2_ 
   288 5034 A9 FE 85 3F				mva #254 zegar
   289 5038 4C 79 50				jmp @+1
   290 						
   291 503B AA			bb2_	tax
   292 503C 86 3D				stx pom0f
   293 503E BD 75 04 8D 2F 24 + 		:3 mva obraz1-3+#+5*48,x bufore3+#	;zapamietaj obszar pod nową pozycją duszka
   294 5050 BD A5 04 8D 32 24 + 		:3 mva obraz1-3+#+6*48,x bufore3+3+#
   295 						
   296 5062 A2 04				ldx #4
   297 5064 20 87 31				jsr duszkiPrint
   298 						
   299 = 5067			bb3		equ *
   300 						
   301 5067 AD 86 52				lda atariX1
   302 506A 18					clc
   303 506B 69 02				adc #2
   304 506D C9 9A				cmp #144+10
   305 506F 90 02				bcc @+
   306 5071 A9 39				lda #67-10
   307 5073 8D 86 52		@		sta atariX1
   308 						
   309 5076 4C 4A 4F				jmp @-1	
   310 						
   311 5079			@		;jsr waitvbl
   312 						
   313 						;mva #0 DMACTL
   314 5079 A9 34				lda #$34				;zmiana trybu w 2 liniach
   315 507B 8D 9E 17				sta dlist+10
   316 						
   317 507E 8D A9 17				sta dlist+21
   318 5081 8D AA 17				sta dlist+22
   319 5084 8D AB 17				sta dlist+23
   320 5087 8D AC 17				sta dlist+24
   321 508A 8D AD 17				sta dlist+25
   322 508D 8D AE 17				sta dlist+26
   323 5090 8D B0 17				sta dlist+28		
   324 						
   325 5093 A2 06				ldx #6
   326 5095 A9 00		@		lda #0
   327 5097 9D D7 FC				sta sprites1+$4d8-1,x
   328 509A 9D D7 FD				sta sprites1+$5d8-1,x
   329 509D 9D AF 1C				sta sprites+$4b0-1,x
   330 50A0 9D AF 1D				sta sprites+$5b0-1,x
   331 50A3 9D BF 1C				sta sprites+$4c0-1,x
   332 50A6 9D BF 1D				sta sprites+$5c0-1,x
   333 50A9 9D 9F 1C				sta sprites+$4a0-1,x
   334 50AC 9D 9F 1D				sta sprites+$5a0-1,x
   335 50AF CA					dex
   336 50B0 10 E3				bpl @-
   337 							
   338 50B2 A9 00 8D 8A 22			mva #$00 duszek4kolor
   339 50B7 A9 B0 8D 78 22			mva #pozWyniki-1 duszek4pos
   340 						
   341 50BC A9 FF				lda #255
   342 50BE A2 07				ldx #7									;przywróc duszka
   343 50C0 9D 46 1F		@		sta sprites+$700+startWyniki+54,x
   344 50C3 CA					dex
   345 50C4 10 FA				bpl @-	
   346 						
   347 50C6 A9 0A 8D 17 D0			mva #$0a COLPF1
   348 						
   349 50CB A5 3F				lda zegar 
   350 50CD C9 FE				cmp #254
   351 50CF F0 08				beq @+		;jesli minelo 5 sek wyswietl HS
   352 						
   353 50D1 A5 CC				lda pom0g
   354 50D3 D0 03				bne *+5
   355 50D5 4C 28 28				jmp matrixOn
   356 						
   357 50D8 60					rts
   358 						
   359 50D9 A9 00 85 3F		@		mva #0 zegar		;wyswietl tabele wynikow
   360
   361 						;ldy #1
   362 50DD 20 AF 41				jsr tabhscore1
   363
   364 50E0 A9 24 8D C1 17			mva #36 enemyX+4
   365 50E5 A9 17 8D CD 17			mva #23 enemyY+4
   366 50EA A9 0C 8D E5 17			mva #12 enemyFaza+4
   367 50EF A9 80 8D 60 31			mva #EKOLOR1 enemyNegatyw+4
   368 50F4 A9 E6 8D EB 17			mva #BANK3 enemyBank+4
   369 50F9 A9 40 8D F1 17			mva >enemy1shapetab enemyShapeH+4
   370 50FE A9 01 85 1F				mva #1 ramka
   371 5102 A9 04 85 D1				mva #4 ramka4
   372 5106 A9 25 85 3D				mva #37 pom0f
   373 510A A9 00 85 3C				mva #0 pom0e	;kierunek
   374
   375 						;jsr waitvbl
   376 510E A9 00 85 3F				mva #0 zegar
   377 						;mva #58 DMACTL
   378 						
   379 						
   380 				;przygotowanie obrazu1
   381 5112 20 14 43				jsr ppanel1
   382 						
   383 5115 A9 03 8D 8D 52			mva #>(obraz1+19) _zako1
   384 511A 20 87 52				jsr zakryjObraz
   385 511D 20 14 43				jsr ppanel1
   386 						
   387 5120 20 87 52				jsr zakryjObraz
   388 5123 20 14 43				jsr ppanel1
   389 						
   390 5126 20 87 52				jsr zakryjObraz
   391 5129 20 14 43				jsr ppanel1
   392 						
   393 512C 20 87 52				jsr zakryjObraz
   394 512F 20 14 43				jsr ppanel1
   395 						
   396 5132 20 87 52				jsr zakryjObraz
   397 5135 20 14 43				jsr ppanel1
   398 						
   399 5138 20 87 52				jsr zakryjObraz
   400 513B 20 14 43				jsr ppanel1
   401 						
   402 513E A9 00				lda #0
   403 5140 A2 3F				ldx #63
   404 5142 9D DB 08		@		sta obraz1+19+28*48,x
   405 5145 CA					dex
   406 5146 10 FA				bpl @-
   407 						
   408 						
   409 				;---		
   410 5148 20 14 43		@		jsr ppanel1
   411 						
   412 514B A5 3C				lda pom0e
   413 514D D0 2D				bne bbb0
   414
   415 514F A6 3D				ldx pom0f
   416 5151 E0 25				cpx #37
   417 5153 F0 50				beq bbb1
   418 5155 AD 2F 24 9D CD 0E + 		:3 mva bufore3+# obraz2-3+#+23*48,x	;odtwórz ekran po duszku
   419 5167 AD 32 24 9D FD 0E + 		:3 mva bufore3+3+# obraz2-3+#+24*48,x
   420 5179 4C A5 51				jmp bbb1
   421 						
   422 						
   423 517C A6 3D		bbb0	ldx pom0f
   424 517E AD 2F 24 9D CD 0B + 		:3 mva bufore3+# obraz2-3+#+7*48,x	;odtwórz ekran po duszku
   425 5190 AD 32 24 9D FD 0B + 		:3 mva bufore3+3+# obraz2-3+#+8*48,x
   426 51A2 4C 0A 52				jmp bbb2	
   427 						
   428 = 51A5			bbb1		equ *		
   429 51A5 38					sec
   430 51A6 AD D9 17				lda enemyDX+4		;ruch w lewo
   431 51A9 E9 40				sbc #%01000000
   432 51AB 8D D9 17				sta enemyDX+4
   433 51AE AD C1 17				lda enemyX+4
   434 51B1 E9 00				sbc #0
   435 51B3 29 7F				and #127
   436 51B5 8D C1 17				sta enemyX+4
   437 						
   438 51B8 D0 21				bne bbb1_	;sprawdz czy juz poza ekranem
   439 51BA E6 3C				inc pom0e	;zmien kierunek
   440 51BC A9 00 8D C1 17			mva #0 enemyX+4
   441 51C1 8D D9 17				sta enemyDX+4
   442 51C4 A9 04 8D E5 17			mva #4 enemyFaza+4
   443 51C9 A9 07 8D CD 17			mva #7 enemyY+4
   444 51CE A9 EE 8D EB 17			mva #BANK1 enemyBank+4
   445 51D3 A9 41 8D F1 17			mva >enemy2shapetab enemyShapeH+4
   446 51D8 4C 0A 52				jmp bbb2
   447 						
   448 51DB AA			bbb1_	tax
   449 51DC 86 3D				stx pom0f
   450 51DE BD CD 0E 8D 2F 24 + 		:3 mva obraz2-3+#+23*48,x bufore3+#	;zapamietaj obszar pod nową pozycją duszka
   451 51F0 BD FD 0E 8D 32 24 + 		:3 mva obraz2-3+#+24*48,x bufore3+3+#
   452 						
   453 5202 A2 04				ldx #4
   454 5204 20 87 31				jsr duszkiPrint
   455 5207 4C 54 52				jmp bbb3
   456 						
   457 = 520A			bbb2		equ *		
   458 520A 18					clc
   459 520B AD D9 17				lda enemyDX+4		;ruch w prawo
   460 520E 69 40				adc #%01000000
   461 5210 8D D9 17				sta enemyDX+4
   462 5213 AD C1 17				lda enemyX+4
   463 5216 69 00				adc #0
   464 5218 29 7F				and #127
   465 521A 8D C1 17				sta enemyX+4
   466 						
   467 521D C9 25				cmp #37
   468 521F D0 07				bne bbb2_ 
   469 5221 A9 FE 85 3F				mva #254 zegar
   470 5225 4C 71 52				jmp @+
   471 						
   472 5228 AA			bbb2_	tax
   473 5229 86 3D				stx pom0f
   474 522B BD CD 0B 8D 2F 24 + 		:3 mva obraz2-3+#+7*48,x bufore3+#	;zapamietaj obszar pod nową pozycją duszka
   475 523D BD FD 0B 8D 32 24 + 		:3 mva obraz2-3+#+8*48,x bufore3+3+#
   476 						
   477 524F A2 04				ldx #4
   478 5251 20 87 31				jsr duszkiPrint
   479 						
   480 = 5254			bbb3		equ *
   481 						
   482 						
   483 5254 AD 1F D0				lda CONSOL
   484 5257 29 02				and #SELECT
   485 5259 D0 0E				bne bbbs
   486 						
   487 525B 20 14 43				jsr ppanel1
   488 525E 20 7E 40				jsr tabhs1cls
   489 5261 A9 00 8D 07 D0			mva #0 HPOSM+3
   490 5266 4C 28 28				jmp matrixOn 
   491 						
   492 5269 AD 10 D0		bbbs	lda FIRE
   493 526C F0 03 4C 48 51			jne @-
   494
   495 = 5271			@		equ *
   496 5271 20 14 43				jsr ppanel1
   497 5274 20 7E 40				jsr tabhs1cls
   498 						
   499 						;jsr waitvbl
   500 							
   501 5277 A9 00 8D 07 D0			mva #0 HPOSM+3
   502 						
   503 527C A5 3F				lda zegar
   504 527E C9 FF				cmp #255
   505 5280 F0 01				beq @+
   506 					
   507 5282 60					rts
   508
   509 5283			@		;mva #0 DMACTL
   510 5283 4C 7E 4D				jmp Title2
   511
   512 5286 00			atariX1	dta b(0)
   513
   514
   515 = 5287			zakryjObraz	equ *
   516 5287 A2 00				ldx #0
   517 5289 A9 7D				lda #$7d
   518 = 528D			_zako1	equ *+2		
   519 528B 9D 9B 03		@		sta obraz1+19,x
   520 528E CA					dex
   521 528F D0 FA				bne @-
   522 5291 EE 8D 52				inc _zako1
   523 5294 60					rts
   524 						
   525 				;tworzy prawy panel bez przerwan
   526 = 5295			ppanel	equ *
   527 5295 20 0D 47				jsr ppan_1		
   528 5298 20 36 47				jsr ppan_2
   529 						
   530 529B A9 15				lda #21
   531 529D CD 0B D4		@		cmp VCOUNT
   532 52A0 D0 FB				bne @-
   533 						
   534 52A2 A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;score
   535 52A7 A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   536 52AC A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   537 52B1 8D 13 D0				sta COLPM+1
   538 						
   539 52B4 20 51 47				jsr ppan_3
   540 52B7 A9 0F 8D 17 D0			mva #$0f COLPF1
   541 						
   542 52BC A9 22				lda #34
   543 52BE CD 0B D4		@		cmp VCOUNT
   544 52C1 D0 FB				bne @-
   545 						
   546 52C3 8D 0A D4 8D 0A D4			:2 sta WSYNC
   547 						
   548 52C9 AD 78 22 8D 03 D0			mva duszek4pos	HPOSP+3		
   549 52CF AD 8A 22 8D 15 D0			mva duszek4kolor COLPM+3		;poczatek litery B
   550 						
   551 52D5 20 77 47				jsr ppan_4
   552 						
   553 52D8 A9 26				lda #38
   554 52DA CD 0B D4		@		cmp VCOUNT
   555 52DD D0 FB				bne @-
   556 52DF 8D 0A D4 8D 0A D4			:2 sta WSYNC
   557 						
   558 52E5 A9 B0 8D 03 D0			mva #pozWyniki-1 HPOSP+3			;koniec litery B
   559 52EA A9 00 8D 15 D0			mva #0	COLPM+3
   560 						
   561 52EF A9 2F				lda #47
   562 52F1 CD 0B D4		@		cmp VCOUNT
   563 52F4 D0 FB				bne @-
   564 						
   565 52F6 8D 0A D4				sta WSYNC
   566 52F9 AD 13 12 8D 15 D0			mva kolorMapa	COLPM+3
   567 							
   568 52FF A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   569 5304 A9 14				lda #16+4
   570 5306 8D 0C D0				sta SIZEM
   571 5309 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   572 530F 8D 14 D0				sta COLPM+2
   573 5312 A9 C4 8D 06 D0			mva #pozWyniki+19 HPOSM+2
   574 5317 A9 C8 8D 05 D0			mva #pozWyniki+23 HPOSM+1
   575 						
   576 531C A9 00 8D 04 D0			mva #0 HPOSM
   577 5321 A9 01 8D 0A D0			mva #1 SIZEP+2		;przeciwnicy na radarze
   578 5326 A9 B4 8D 02 D0			mva #pozWyniki+3 HPOSP+2
   579 						
   580 532B A9 00 8D 00 D0			mva #0 HPOSP		;schowaj statek
   581 5330 8D 01 D0				sta HPOSP+1
   582 						
   583 5333 A9 4E				lda #78
   584 5335 CD 0B D4		@		cmp VCOUNT
   585 5338 D0 FB				bne @-
   586 						
   587 533A A9 03 8D 08 D0			mva #3 SIZEP
   588 533F 8D 09 D0				sta SIZEP+1
   589 5342 A9 47 8D 00 D0			mva #71 HPOSP
   590 5347 A9 30 8D 12 D0			mva #$30 COLPM
   591 534C A9 67 8D 01 D0			mva #71+32 HPOSP+1
   592 						
   593 5351 8D 0A D4				sta WSYNC
   594 5354 8D 0A D4				sta WSYNC
   595 						
   596 5357 A0 07				ldy #7
   597 5359 8D 0A D4		@		sta WSYNC
   598 535C A9 30 8D 13 D0			mva #$30 COLPM+1
   599 5361 C6 79 C6 79 C6 79 + 		:6 dec strz0
   600 536D AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   601 5373 88					dey 
   602 5374 D0 E3				bne @-
   603 						
   604 5376 A9 0E 8D 17 D0			mva #$0e COLPF1
   605 						
   606 						
   607 537B A9 56				lda #86
   608 537D CD 0B D4		@		cmp VCOUNT
   609 5380 D0 FB				bne @-
   610 5382 A9 0A 8D 17 D0			mva #$0a COLPF1
   611 						
   612 5387 A9 03 8D 08 D0			mva #3 SIZEP
   613 538C 8D 09 D0				sta SIZEP+1
   614 538F A9 17 8D 0C D0			mva #%00010111 SIZEM
   615 5394 A9 67 8D 01 D0			mva #71+32 HPOSP+1
   616 5399 A9 8F 8D 04 D0			mva #71+56+16 HPOSM
   617 539E A2 50				ldx #$50 ;COLPM
   618 						
   619 						;lda #$0a
   620 53A0 8D 0A D4 8D 0A D4			:2 sta WSYNC
   621 53A6 8E 12 D0				stx COLPM
   622 						
   623 53A9 A0 07				ldy #7
   624 53AB 8D 0A D4		@		sta WSYNC
   625 53AE A9 50 8D 13 D0			mva #$50 COLPM+1
   626 53B3 C6 79 C6 79 C6 79 + 		:6 dec strz0
   627 53BF AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   628 53C5 88					dey 
   629 53C6 D0 E3				bne @-
   630 						
   631 53C8 A9 0E 8D 17 D0			mva #$0e COLPF1
   632 53CD 8D 0A D4				sta WSYNC
   633 						
   634 53D0 A9 5E				lda #94
   635 53D2 CD 0B D4		@		cmp VCOUNT
   636 53D5 D0 FB				bne @-
   637 						
   638 53D7 A9 0A 8D 17 D0			mva #$0a COLPF1
   639 53DC A9 4F 8D 00 D0			mva #75+4 HPOSP
   640 53E1 A9 B0 8D 12 D0			mva #$b0 COLPM
   641 53E6 8D 0A D4 8D 0A D4			:2 sta WSYNC
   642 						
   643 53EC A0 07				ldy #7
   644 53EE 8D 0A D4		@		sta WSYNC
   645 53F1 A9 B0 8D 13 D0			mva #$b0 COLPM+1
   646 53F6 C6 79 C6 79 C6 79 + 		:6 dec strz0
   647 5402 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   648 5408 88					dey 
   649 5409 D0 E3				bne @-
   650 						
   651 						
   652 540B A9 63				lda #99
   653 540D CD 0B D4		@		cmp VCOUNT
   654 5410 D0 FB				bne @-
   655 						
   656 						
   657 5412 8D 0A D4				sta WSYNC
   658 5415 A9 0F 8D 17 D0			mva #$0f COLPF1
   659 541A A9 00 8D 00 D0			mva #0 HPOSP
   660 541F 8D 01 D0				sta HPOSP+1
   661 						
   662 						
   663 5422 A9 66				lda #102
   664 5424 CD 0B D4		@		cmp VCOUNT
   665 5427 D0 FB				bne @-	
   666 						
   667 5429 A9 0A 8D 17 D0			mva #$0a COLPF1
   668 						
   669 542E A9 00 8D 15 D0			mva #0 COLPM+3		;koniec mapy zapasowe statki
   670 						
   671 5433 8D 0C D0				sta SIZEM
   672 5436 8D 0A D0				sta SIZEP+2			;zakonczenie mapy
   673 5439 8D 02 D0				sta HPOSP+2
   674 543C 8D 04 D0				sta HPOSM
   675 543F 8D 05 D0				sta HPOSM+1
   676 5442 8D 06 D0				sta HPOSM+2
   677 						
   678 5445 A9 69				lda #105
   679 5447 CD 0B D4		@		cmp VCOUNT
   680 544A D0 FB				bne @-
   681 						
   682 544C A9 03 8D 08 D0			mva #3 SIZEP
   683 5451 8D 09 D0				sta SIZEP+1
   684 5454 A9 0E 8D 12 D0			mva #$0e COLPM
   685 5459 A9 0A 8D 13 D0			mva #$0a COLPM+1
   686
   687 545E 8D 0A D4				sta WSYNC
   688 						
   689 5461 A9 00				lda #0
   690 5463 A2 08				ldx #$08
   691 5465 AC 86 52				ldy atariX1
   692 5468 8D 0A D4 8D 0A D4 + 		:3 sta WSYNC
   693 						
   694 5471 8D 17 D0				sta COLPF1
   695 5474 8E 18 D0				stx COLPF2
   696 5477 8C 00 D0				sty HPOSP
   697 547A 8C 01 D0				sty HPOSP+1
   698
   699 						
   700 547D A2 3A				ldx #$3a
   701 547F A0 00				ldy #0
   702 5481 8D 0A D4 8D 0A D4 + 		:7 sta WSYNC
   703 						
   704 5496 8E 17 D0				stx COLPF1
   705 5499 8C 18 D0				sty COLPF2
   706 549C 8C 00 D0				sty HPOSP
   707 549F 8C 01 D0				sty HPOSP+1
   708
   709 						
   710 54A2 4C 93 47				jmp ppan_end
   711
   712 54A5 53 54 41 52 00 44 + theStarDestroyer	dta c'STAR',b(0),c'DESTROYER'
   713 54B3 00 00 46 49 4E 41 + atariversion		dta b(0,0),c'FINAL',b(0),c'VER',b(91),b(0),b(94),b(91),b(98),b(0,0)
   714 54C5 43 4F 44 45 00 41 + codet				dta c'CODE',b(0),'AND',b(0),'GFX'
   715 54D1 4A 41 4E 55 53 5A + codet1				dta c'JANUSZ',b(0),c'CHABOWSKI'
   716 54E1 4D 55 53 49 43 00 + sfxt				dta c'MUSIC',b(0),c'AND',b(0),c'SFX',b(0)
   717 54EF 4D 49 43 48 41 4C + sfxt1				dta c'MICHAL',b(0),c'SZPILOWSKI'
   718 5500 54 49 54 4C 45 00 + pict				dta c'TITLE',b(0),'SCREEN'
   719 550C 4B 52 5A 59 53 5A + pict1				dta c'KRZYSZTOF',b(0),c'ZIEMBIK'				
   720
   721
   722 = 551D			prepare_title	equ *
   723 551D A9 00 8D 80 8A				mva #0 lives
   724 5522 A9 00 8D 3C 24				mva #0 RadarX
   725 5527 20 A8 97					jsr printLives
   726 					
   727 				;1
   728 552A A2 37					ldx #55
   729 552C BD 6B 58		@			lda titleChars1,x
   730 552F 9D C8 BB					sta znaki1+121*8,x
   731 5532 CA						dex
   732 5533 10 F7					bpl @-
   733 							
   734 5535 A9 B8					lda #>znaki1
   735 5537 20 5C 40					jsr przepiszZnaki
   736 							
   737 553A A9 00 8D 22 22				mva #0 kolor1up
   738 							
   739 553F A2 00					ldx #0
   740 5541 A9 7D					lda #$7d
   741 5543 9D 9B 03		@			sta obraz1+19,x
   742 5546 9D 9B 04					sta obraz1+$100+19,x
   743 5549 9D 9B 05					sta obraz1+$200+19,x
   744 554C 9D 9B 06					sta obraz1+$300+19,x
   745 554F 9D 9B 07					sta obraz1+$400+19,x
   746 5552 9D 9B 08					sta obraz1+$500+19,x
   747 5555 CA						dex
   748 5556 D0 EB					bne @-
   749 							
   750 5558 A9 00					lda #0
   751 555A A2 3F					ldx #63
   752 555C 9D DB 08		@			sta obraz1+19+28*48,x
   753 555F CA						dex
   754 5560 10 FA					bpl @-
   755 						
   756 5562 20 73 9F					jsr czarnyPanel
   757 				;2		
   758 5565 4C D8 41					jmp tabhscore2
   759 						
   760 				;Inicjalizacja strony tytułowej
   761 = 5568			title_init	equ *
   762 5568 A9 0A					lda #$0A		
   763 556A 8D 16 D0					sta COLPF0
   764 556D A9 3A					lda #$3a		
   765 556F 8D 17 D0					sta COLPF1
   766 5572 A9 00					lda #$00		
   767 5574 8D 18 D0					sta COLPF2
   768 5577 AD 17 12					lda kolorLogo
   769 557A 8D 19 D0					sta COLPF3
   770 							
   771 							;jsr czarnyPanel
   772 557D A9 FF					lda #255
   773 557F A2 2C					ldx #44
   774 5581 9D 21 1F		@			sta sprites+$700+33,x
   775 5584 CA						dex
   776 5585 10 FA					bpl @-
   777 						
   778 									
   779 5587 A9 9B 8D 96 17 A9 + 			mwa #obraz1+19 dlist+2
   780 5591 A9 00 8D 05 D4				mva #0 VSCROL
   781 5596 A9 B8 8D 09 D4				mva #>znaki1 CHBASE
   782 							
   783 559B A9 00 8D 80 8A				mva #0 lives
   784 55A0 A9 00 8D 3C 24				mva #0 RadarX
   785 55A5 20 A8 97					jsr printLives
   786 							
   787 							
   788 55A8 A9 B0 8D 78 22				mva #pozWyniki-1 duszek4pos
   789 55AD A9 00 8D 8A 22				mva #0 duszek4kolor
   790 							
   791 55B2 A9 00 85 3D					mva #0 pozNapis	;34 pozNapis
   792 							
   793 55B6 A9 0E 85 39					mva #14 napisY
   794 55BA A9 0F 85 38					mva #15 napisX
   795 55BE A9 01 85 3A					mva #1 napisDX
   796 							
   797 55C2 A9 0C 85 3C					mva #12 pom0e
   798 55C6 8D 0A D4					sta wsync
   799 55C9 8D 04 D4					sta HSCROL
   800 							
   801 55CC A9 37 85 6B A9 06 + 			mwa #obraz1+19+668 pom1		;pozycja poczatkowa dla efektu
   802 							
   803 55D4 A9 37					lda #<(obraz1+19+668) 
   804 55D6 8D 22 58					sta efn1+1
   805 55D9 8D 28 58					sta efn1b+1
   806 55DC A9 06					lda #>(obraz1+19+668) 
   807 55DE 8D 23 58					sta efn1+2
   808 55E1 8D 29 58					sta efn1b+2
   809 							
   810 55E4 A9 67					lda #<(obraz1+19+668+48) 
   811 55E6 8D 2B 58					sta efn2+1
   812 55E9 8D 31 58					sta efn2b+1
   813 55EC A9 06					lda #>(obraz1+19+668+48) 
   814 55EE 8D 2C 58					sta efn2+2
   815 55F1 8D 32 58					sta efn2b+2
   816 							
   817 55F4 60						rts
   818
   819 = 003D			pozNapis	equ pom0f
   820 							
   821 = 55F5			printNapis	equ *	
   822 							
   823 55F5 A5 3C					lda pom0e
   824 55F7 8D 0A D4					sta wsync
   825 55FA 8D 04 D4					sta HSCROL		
   826 55FD A5 3C					lda pom0e
   827 55FF 38						sec
   828 5600 E9 01					sbc #1
   829 5602 09 0C					ora #%1100
   830 5604 85 3C					sta pom0e
   831 5606 C9 0E					cmp #14
   832 5608 F0 01					beq @+
   833 560A 60						rts
   834 							
   835 560B A4 3D		@			ldy pozNapis
   836 560D C0 1B					cpy #27
   837 560F B0 45					bcs @+
   838 							.rept 11, #
   839 								LDA TITLENAPIS+#*27,Y
   840 								STA OBRAZ1+19+$120+33+#*48,Y
   841 							.ENDR
   841 							.endr
Source: REPT
   839 5611 B9 A3 58						LDA TITLENAPIS+#*27,Y
   839 5614 99 DC 04						STA OBRAZ1+19+$120+33+#*48,Y
   839 5617 B9 BE 58						LDA TITLENAPIS+#*27,Y
   839 561A 99 0C 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 561D B9 D9 58						LDA TITLENAPIS+#*27,Y
   839 5620 99 3C 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 5623 B9 F4 58						LDA TITLENAPIS+#*27,Y
   839 5626 99 6C 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 5629 B9 0F 59						LDA TITLENAPIS+#*27,Y
   839 562C 99 9C 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 562F B9 2A 59						LDA TITLENAPIS+#*27,Y
   839 5632 99 CC 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 5635 B9 45 59						LDA TITLENAPIS+#*27,Y
   839 5638 99 FC 05						STA OBRAZ1+19+$120+33+#*48,Y
   839 563B B9 60 59						LDA TITLENAPIS+#*27,Y
   839 563E 99 2C 06						STA OBRAZ1+19+$120+33+#*48,Y
   839 5641 B9 7B 59						LDA TITLENAPIS+#*27,Y
   839 5644 99 5C 06						STA OBRAZ1+19+$120+33+#*48,Y
   839 5647 B9 96 59						LDA TITLENAPIS+#*27,Y
   839 564A 99 8C 06						STA OBRAZ1+19+$120+33+#*48,Y
   839 564D B9 B1 59						LDA TITLENAPIS+#*27,Y
   839 5650 99 BC 06						STA OBRAZ1+19+$120+33+#*48,Y
Source: title.asm
   842 5653 4C 79 56					jmp @+1
   843 							
   844 5656 A9 7D		@			lda #$7d			;jesli juz caly tekst na ekranie
   845 							.rept 11, #
   846 								STA OBRAZ1+19+$120+33+#*48,Y
   847 							.ENDR
   847 							.endr
Source: REPT
   846 5658 99 DC 04						STA OBRAZ1+19+$120+33+#*48,Y
   846 565B 99 0C 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 565E 99 3C 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 5661 99 6C 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 5664 99 9C 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 5667 99 CC 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 566A 99 FC 05						STA OBRAZ1+19+$120+33+#*48,Y
   846 566D 99 2C 06						STA OBRAZ1+19+$120+33+#*48,Y
   846 5670 99 5C 06						STA OBRAZ1+19+$120+33+#*48,Y
   846 5673 99 8C 06						STA OBRAZ1+19+$120+33+#*48,Y
   846 5676 99 BC 06						STA OBRAZ1+19+$120+33+#*48,Y
Source: title.asm
   848 							
   849 5679 A9 7D		@			lda #$7d
   850 							.rept 6, #
   851 								STA OBRAZ1+19+33+#*48,Y
   852 								STA OBRAZ1+19+33+(#+17)*48,Y
   853 							.ENDR
   853 							.endr
Source: REPT
   851 567B 99 BC 03						STA OBRAZ1+19+33+#*48,Y
   851 567E 99 EC 06						STA OBRAZ1+19+33+(#+17)*48,Y
   851 5681 99 EC 03						STA OBRAZ1+19+33+#*48,Y
   851 5684 99 1C 07						STA OBRAZ1+19+33+(#+17)*48,Y
   851 5687 99 1C 04						STA OBRAZ1+19+33+#*48,Y
   851 568A 99 4C 07						STA OBRAZ1+19+33+(#+17)*48,Y
   851 568D 99 4C 04						STA OBRAZ1+19+33+#*48,Y
   851 5690 99 7C 07						STA OBRAZ1+19+33+(#+17)*48,Y
   851 5693 99 7C 04						STA OBRAZ1+19+33+#*48,Y
   851 5696 99 AC 07						STA OBRAZ1+19+33+(#+17)*48,Y
   851 5699 99 AC 04						STA OBRAZ1+19+33+#*48,Y
   851 569C 99 DC 07						STA OBRAZ1+19+33+(#+17)*48,Y
Source: title.asm
   854 569F 99 0C 08 99 3C 08 + 			:5 sta obraz1+19+33+(#+23)*48,y
   855 							
   856 56AE E6 3D					inc pozNapis
   857 56B0 EE 96 17					inc dlist+2
   858 							
   859 56B3 60						rts
   860 							
   861 = 0038			napisX		equ pom0a
   862 = 0039			napisY		equ pom0b
   863 = 003A			napisDX		equ pom0c	
   864
   865 = 5637			eftab1		equ *-125
   866 56B4 79 FC FB FA					dta b($79,$fc,$fb,$fa)
   867 56B8 FD			eftab2		dta b(28*9+1)
   868 56B9 F3 EA E1 D8 CF C6 + 			:13 dta b([28-#-1]*9)
   869 							
   870 56C6 E2 EB F4 FD 06 0F + eftab3		:14 dta b(<(efnap1+#*9))
   871 56D4 56 56 56 56 57 57 + 			:14 dta b(>(efnap1+#*9))
   872
   873 = 56E2			efnap1		equ *
   874 							.rept 28, #
   875 								LDX OBRAZ1+19+#*48+29,Y
   876 								LDA EFTAB1,X
   877 								STA OBRAZ1+19+#*48+29,Y
   878 							.ENDR
   878 							.endr
Source: REPT
   875 56E2 BE B8 03						LDX OBRAZ1+19+#*48+29,Y
   875 56E5 BD 37 56						LDA EFTAB1,X
   875 56E8 99 B8 03						STA OBRAZ1+19+#*48+29,Y
   875 56EB BE E8 03						LDX OBRAZ1+19+#*48+29,Y
   875 56EE BD 37 56						LDA EFTAB1,X
   875 56F1 99 E8 03						STA OBRAZ1+19+#*48+29,Y
   875 56F4 BE 18 04						LDX OBRAZ1+19+#*48+29,Y
   875 56F7 BD 37 56						LDA EFTAB1,X
   875 56FA 99 18 04						STA OBRAZ1+19+#*48+29,Y
   875 56FD BE 48 04						LDX OBRAZ1+19+#*48+29,Y
   875 5700 BD 37 56						LDA EFTAB1,X
   875 5703 99 48 04						STA OBRAZ1+19+#*48+29,Y
   875 5706 BE 78 04						LDX OBRAZ1+19+#*48+29,Y
   875 5709 BD 37 56						LDA EFTAB1,X
   875 570C 99 78 04						STA OBRAZ1+19+#*48+29,Y
   875 570F BE A8 04						LDX OBRAZ1+19+#*48+29,Y
   875 5712 BD 37 56						LDA EFTAB1,X
   875 5715 99 A8 04						STA OBRAZ1+19+#*48+29,Y
   875 5718 BE D8 04						LDX OBRAZ1+19+#*48+29,Y
   875 571B BD 37 56						LDA EFTAB1,X
   875 571E 99 D8 04						STA OBRAZ1+19+#*48+29,Y
   875 5721 BE 08 05						LDX OBRAZ1+19+#*48+29,Y
   875 5724 BD 37 56						LDA EFTAB1,X
   875 5727 99 08 05						STA OBRAZ1+19+#*48+29,Y
   875 572A BE 38 05						LDX OBRAZ1+19+#*48+29,Y
   875 572D BD 37 56						LDA EFTAB1,X
   875 5730 99 38 05						STA OBRAZ1+19+#*48+29,Y
   875 5733 BE 68 05						LDX OBRAZ1+19+#*48+29,Y
   875 5736 BD 37 56						LDA EFTAB1,X
   875 5739 99 68 05						STA OBRAZ1+19+#*48+29,Y
   875 573C BE 98 05						LDX OBRAZ1+19+#*48+29,Y
   875 573F BD 37 56						LDA EFTAB1,X
   875 5742 99 98 05						STA OBRAZ1+19+#*48+29,Y
   875 5745 BE C8 05						LDX OBRAZ1+19+#*48+29,Y
   875 5748 BD 37 56						LDA EFTAB1,X
   875 574B 99 C8 05						STA OBRAZ1+19+#*48+29,Y
   875 574E BE F8 05						LDX OBRAZ1+19+#*48+29,Y
   875 5751 BD 37 56						LDA EFTAB1,X
   875 5754 99 F8 05						STA OBRAZ1+19+#*48+29,Y
   875 5757 BE 28 06						LDX OBRAZ1+19+#*48+29,Y
   875 575A BD 37 56						LDA EFTAB1,X
   875 575D 99 28 06						STA OBRAZ1+19+#*48+29,Y
   875 5760 BE 58 06						LDX OBRAZ1+19+#*48+29,Y
   875 5763 BD 37 56						LDA EFTAB1,X
   875 5766 99 58 06						STA OBRAZ1+19+#*48+29,Y
   875 5769 BE 88 06						LDX OBRAZ1+19+#*48+29,Y
   875 576C BD 37 56						LDA EFTAB1,X
   875 576F 99 88 06						STA OBRAZ1+19+#*48+29,Y
   875 5772 BE B8 06						LDX OBRAZ1+19+#*48+29,Y
   875 5775 BD 37 56						LDA EFTAB1,X
   875 5778 99 B8 06						STA OBRAZ1+19+#*48+29,Y
   875 577B BE E8 06						LDX OBRAZ1+19+#*48+29,Y
   875 577E BD 37 56						LDA EFTAB1,X
   875 5781 99 E8 06						STA OBRAZ1+19+#*48+29,Y
   875 5784 BE 18 07						LDX OBRAZ1+19+#*48+29,Y
   875 5787 BD 37 56						LDA EFTAB1,X
   875 578A 99 18 07						STA OBRAZ1+19+#*48+29,Y
   875 578D BE 48 07						LDX OBRAZ1+19+#*48+29,Y
   875 5790 BD 37 56						LDA EFTAB1,X
   875 5793 99 48 07						STA OBRAZ1+19+#*48+29,Y
   875 5796 BE 78 07						LDX OBRAZ1+19+#*48+29,Y
   875 5799 BD 37 56						LDA EFTAB1,X
   875 579C 99 78 07						STA OBRAZ1+19+#*48+29,Y
   875 579F BE A8 07						LDX OBRAZ1+19+#*48+29,Y
   875 57A2 BD 37 56						LDA EFTAB1,X
   875 57A5 99 A8 07						STA OBRAZ1+19+#*48+29,Y
   875 57A8 BE D8 07						LDX OBRAZ1+19+#*48+29,Y
   875 57AB BD 37 56						LDA EFTAB1,X
   875 57AE 99 D8 07						STA OBRAZ1+19+#*48+29,Y
   875 57B1 BE 08 08						LDX OBRAZ1+19+#*48+29,Y
   875 57B4 BD 37 56						LDA EFTAB1,X
   875 57B7 99 08 08						STA OBRAZ1+19+#*48+29,Y
   875 57BA BE 38 08						LDX OBRAZ1+19+#*48+29,Y
   875 57BD BD 37 56						LDA EFTAB1,X
   875 57C0 99 38 08						STA OBRAZ1+19+#*48+29,Y
   875 57C3 BE 68 08						LDX OBRAZ1+19+#*48+29,Y
   875 57C6 BD 37 56						LDA EFTAB1,X
   875 57C9 99 68 08						STA OBRAZ1+19+#*48+29,Y
   875 57CC BE 98 08						LDX OBRAZ1+19+#*48+29,Y
   875 57CF BD 37 56						LDA EFTAB1,X
   875 57D2 99 98 08						STA OBRAZ1+19+#*48+29,Y
   875 57D5 BE C8 08						LDX OBRAZ1+19+#*48+29,Y
   875 57D8 BD 37 56						LDA EFTAB1,X
   875 57DB 99 C8 08						STA OBRAZ1+19+#*48+29,Y
Source: title.asm
   879 57DE 60						rts
   880 57DF 00						dta b(0)
   881 							
   882 = 57E0			efektNapis1	equ *
   883 57E0 A4 39					ldy napisY
   884 57E2 C0 0E					cpy #14			;dla 15 nie rysuj pionowych linii
   885 57E4 B0 35					bcs @+
   886 					
   887 57E6 B9 C6 56					lda eftab3,y
   888 57E9 85 69					sta pom
   889 57EB 8D 0D 58					sta efn_s+1
   890 57EE 8D 12 58					sta efn_s1+1
   891 57F1 B9 D4 56					lda eftab3+14,y
   892 57F4 85 6A					sta pom+1
   893 57F6 8D 0E 58					sta efn_s+2
   894 57F9 8D 13 58					sta efn_s1+2
   895 57FC BE B8 56					ldx eftab2,y
   896 57FF A9 60					lda #96 		;rts
   897 5801 9D E2 56					sta efnap1,x
   898 5804 86 37					stx pom0
   899 							
   900 5806 18						clc
   901 5807 A5 38					lda napisX
   902 5809 65 3A					adc napisDX
   903 580B A8						tay
   904 = 580C			efn_s		equ *
   905 580C 20 FF FF					jsr $ffff
   906 580F A4 38					ldy napisX
   907 = 5811			efn_s1		equ *
   908 5811 20 FF FF					jsr $ffff
   909 							
   910 5814 A6 37					ldx pom0
   911 5816 A9 BE					lda #190		;ldx  ,y
   912 5818 9D E2 56					sta efnap1,x
   913
   914
   915
   916 581B A4 3A		@			ldy napisDX
   917 581D C0 1D					cpy #29
   918 581F B0 3D					bcs @+1
   919
   920 = 5821			efn1		equ *			
   921 5821 BE FF FF					ldx $ffff,y
   922 5824 BD 37 56					lda eftab1,x
   923 = 5827			efn1b		equ *
   924 5827 99 FF FF					sta $ffff,y
   925 = 582A			efn2		equ *
   926 582A BE FF FF					ldx $ffff,y
   927 582D BD 37 56					lda eftab1,x
   928 = 5830			efn2b		equ *
   929 5830 99 FF FF					sta $ffff,y
   930 5833 88						dey
   931 5834 10 EB					bpl efn1
   932 							
   933 5836 38						sec
   934 5837 AD 22 58					lda efn1+1
   935 583A E9 31					sbc #49
   936 583C 8D 22 58					sta efn1+1
   937 583F 8D 28 58					sta efn1b+1
   938 5842 B0 06					bcs @+
   939 5844 CE 23 58					dec efn1+2
   940 5847 CE 29 58					dec efn1b+2
   941 						
   942 584A 18			@			clc
   943 584B AD 2B 58					lda efn2+1
   944 584E 69 2F					adc #47
   945 5850 8D 2B 58					sta efn2+1
   946 5853 8D 31 58					sta efn2b+1
   947 5856 90 06					bcc @+
   948 5858 EE 2C 58					inc efn2+2
   949 585B EE 32 58					inc efn2b+2
   950
   951 							
   952 585E C6 38		@			dec napisX
   953 5860 E6 3A					inc napisDX
   954 5862 E6 3A					inc napisDX
   955 5864 A5 39					lda napisY
   956 5866 F0 02					beq @+
   957 5868 C6 39					dec napisY
   958
   959 586A 60			@			rts
   960 							
   961 = 586B			titleChars1	equ *
   962 586B 00 00 00 00 00 00 + 			:8 dta b(0)				;79
   963 5873 FF FF FF FF FF FF + 			:8 dta b(%11111111)		;7a
   964 587B F0 F0 F0 F0 F0 F0 + 			:8 dta b(%11110000)		;7b
   965 5883 0F 0F 0F 0F 0F 0F + 			:8 dta b(%00001111)		;7c
   966 588B 55 55 55 55 55 55 + 			:8 dta b(%01010101)		;7d
   967 5893 50 50 50 50 50 50 + 			:8 dta b(%01010000)		;7e
   968 589B 05 05 05 05 05 05 + 			:8 dta b(%00000101)		;7f
   969 							
   970 = 58A3			titleNapis	equ *
   971 58A3 80 80 7F 7D 7D 7D + 			dta b($80,$80,$7f,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
   972 58BE 80 7D 80 7D 7D 7D + 			dta b($80,$7d,$80,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
   973 58D9 80 7D 7E 7D 7D 7D + 			dta b($80,$7d,$7e,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
   974 58F4 80 7D 80 7D 7D 7D + 			dta b($80,$7d,$80,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
   975 590F 80 80 7F 7D 7D 7D + 			dta b($80,$80,$7f,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d,$7d)
   976 592A 80 7D 80 7D 7E 80 + 			dta b($80,$7d,$80,$7d,$7e,$80,$7d,$7e,$80,$7d,$7e,$80,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7d)
   977 5945 80 7D 7E 7F 80 7E + 			dta b($80,$7d,$7e,$7f,$80,$7e,$7f,$80,$7d,$7d,$80,$7d,$7f,$80,$7e,$7f,$80,$7d,$7f,$7f,$80,$7e,$7f,$80,$7d,$7f,$7d)
   978 5960 80 7D 7E 7F 7F 7D + 			dta b($80,$7d,$7e,$7f,$7f,$7d,$7f,$80,$80,$7d,$7f,$7d,$7d,$7f,$7d,$7f,$80,$7f,$7f,$7f,$7f,$7d,$7f,$80,$7f,$7f,$7d)
   979 597B 80 7D 7E 7F 7F 7D + 			dta b($80,$7d,$7e,$7f,$7f,$7d,$7f,$7d,$7e,$7f,$7f,$7d,$7d,$7f,$7d,$7f,$7f,$80,$7f,$7f,$80,$80,$7f,$7f,$80,$7f,$7d)
   980 5996 80 80 80 7F 80 7E + 			dta b($80,$80,$80,$7f,$80,$7e,$7f,$7f,$7e,$7f,$80,$7d,$7f,$80,$7e,$7f,$7f,$7e,$7f,$7f,$7f,$7d,$7f,$7f,$7e,$7f,$7d)
   981 59B1 80 80 80 7D 7E 80 + 			dta b($80,$80,$80,$7d,$7e,$80,$7d,$80,$80,$7d,$7e,$80,$7f,$7e,$80,$7d,$7f,$7d,$7f,$7f,$7f,$7d,$7f,$7f,$7d,$7f,$7d)
   982 							
   236 59CC						icl 'pokey.asm'
Source: pokey.asm
     1 				;odgrywamy sample na przerwaniu Pokey'a	
     2
     3 59CC					org 128+4,$8000-23-72	;$48=72b	256-113=139
     4 = 0084			pok0	equ *
     5 7FA1-7FE8> 85 B3				sta pok0a+1
     6 = 0086			probka	equ *		
     7 0086 A9 FF				lda #$ff
     8 0088 8D 07 D2				sta AUDC4
     9 008B A9 00				lda #0		
    10 008D 8D 0E D2				sta IRQEN
    11 0090 8D FE FF				sta $fffe	
    12 = 0094			sam		equ *+1
    13 0093 AD FF FF		@		lda $ffff
    14 0096 F0 1D				beq @+
    15 0098 85 9F				sta _probka
    16 009A 09 10				ora #%10000
    17 009C 85 87				sta probka+1
    18 = 009F			_probka	equ *+1		
    19 009E A9 FF				lda #$ff
    20 00A0 38					sec
    21 00A1 6A					ror
    22 00A2 4A 4A 4A				:3 lsr
    23 00A5 85 03				sta probka1+1
    24 						
    25 00A7 E6 94				inc sam
    26 00A9 D0 02				bne *+4
    27 00AB E6 95				inc sam+1
    28 						
    29 00AD A9 04				lda #4
    30 00AF 8D 0E D2				sta IRQEN
    31 						
    32 00B2 A9 FF		pok0a	lda #$ff	;odtworz rejestr A
    33 00B4 40					rti
    34 						
    35 00B5 C6 D5		@		dec powtorz
    36 00B7 F0 0B				beq  @+
    37 = 00BA			sam2	equ *+1
    38 00B9 A9 FF				lda #$ff
    39 00BB 85 94				sta sam
    40 = 00BE			sam2s	equ *+1
    41 00BD A9 FF				lda #$ff
    42 00BF 85 95				sta sam+1	
    43 00C1 4C 93 00				jmp @-1
    44
    45 00C4 85 1E		@		sta sirq
    46 00C6 8D 0E D2				sta IRQEN
    47 00C9 A5 B3				lda pok0a+1
    48 00CB 40					rti
    49 						
    50 						
    51 00CC					org 0,$8000-23			;23b
    52 = 0000			pok1	equ *		;gorna polowka
    53 7FE9-7FFF> 85 15				sta pok1a+1
    54 = 0002			probka1	equ *
    55 0002 A9 FF				lda #$ff
    56 0004 8D 07 D2				sta AUDC4
    57 						
    58 0007 A9 00				lda #0
    59 0009 8D 0E D2				sta IRQEN
    60 					
    61 000C A9 84				lda #4+128	
    62 000E 8D 0E D2				sta IRQEN
    63 0011 8D FE FF				sta $fffe
    64 						
    65 0014 A9 FF		pok1a	lda #$ff
    66 0016 40					rti		
    67 						
    68 				;		
   237 					
   238 							
   239 = 6F1C			rmt_goto	equ MODUL_END-4*$1d	;$7310-4*$20 	;$1F+1			
   240 = 6100			MODUL	equ $6100
   241 							opt h-
   242 0017 FF FF 00 61 8F 6F + 			ins "b1.rmt"
   243 							opt h+ 
   244 = 6F90			MODUL_END		equ $6f90
   245 0EAD						org $7400
   246 					
   247 						
   248 7400-78F0> 00 00		asteroid_dat	dta a(0)
   249 7402 2F 32 35 39 3C 32 + 				ins '/sfx/asteroid_audf'
   250 740B 00 00		bomba_dat		dta a(0)
   251 740D 18 18 18 18 18 18 + 				ins '/sfx/bomba_audf'
   252 7445 00			spyHit_dat	dta b(0)
   253 7446 31 30 2F 2E 2D 2C + 				ins '/sfx/spyHit_audf'
   254 7468 00 00		enemyHit_dat dta a(0)
   255 746A 12 12 12 12 12 12 + 				ins '/sfx/enemyHit_audf'
   256 7485 00 00		strzal_dat	dta a(0)
   257 7487 0B 0B 0B 0B 0B 0B + 				ins '/sfx/strzal_audf'	
   258 749A 00 00		dzialko_dat	dta a(0)
   259 749C 80 39 0F 1C 40 72 + 				ins '/sfx/dzialko_audf'
   260 74B0 00 00		wybuch_dat	dta a(0)
   261 74B2 55 55 55 55 55 55 + 				ins '/sfx/wybuch_audf'	
   262 74F0 00 00		dead_dat		dta a(0)
   263 74F2 C5 C4 C3 C2 C1 C0 + 				ins '/sfx/dead_audf'		
   264 7538 00 00		antyair_dat	dta a(0)
   265 753A F5 E5 D5 C5 B5 A5 + 				ins '/sfx/antyair_audf'		
   266 7547 00 00		extraLife_dat dta a(0)
   267 7549 6F 8F AF CF EF 0F + 				ins '/sfx/extraLife_audf'
   268 757A 00			alarm_dat		dta b(0)
   269 757B 3C 3C 3C 2A 35 35 + 				ins '/sfx/alarm_audf'	
   270 75B7 00 00		rakieta_dat	dta a(0)
   271 75B9 71 71 72 72 73 73 + 				ins '/sfx/rakieta_audf'	
   272 75E7 00			silnik_dat	dta b(0)
   273 75E8 21 21 21 21 21 21 + 				ins '/sfx/silnik_audf'					
   274
   275 					
   276 7678 00 00		asteroid1_dat	dta a(0)
   277 767A A3 A3 A3 A3 A0 A3 + 				ins '/sfx/asteroid_audc'
   278 7683 00 00		bomba1_dat		dta a(0)
   279 7685 01 01 01 01 01 01 + 				ins '/sfx/bomba_audc'
   280 76BD 00 00		spyHit1_dat	dta a(0)
   281 76BF C1 C1 C2 C2 C1 C1 + 				ins '/sfx/spyHit_audc'
   282 76E1 00 00		enemyHit1_dat dta a(0)
   283 76E3 01 01 01 01 02 01 + 				ins '/sfx/enemyHit_audc'
   284 76FE 00 00		strzal1_dat	dta a(0)
   285 7700 81 81 81 81 81 81 + 				ins '/sfx/strzal_audc'	
   286 7713 00 00		dzialko1_dat	dta a(0)
   287 7715 A1 A0 A1 A0 A1 A1 + 				ins '/sfx/dzialko_audc'
   288 7729 00 00		wybuch1_dat	dta a(0)
   289 772B 81 81 81 81 81 81 + 				ins '/sfx/wybuch_audc'	
   290 7769 00 00		dead1_dat		dta a(0)
   291 776B C1 C1 C1 C1 C1 C1 + 				ins '/sfx/dead_audc'		
   292 77B1 00 00		antyair1_dat	dta a(0)
   293 77B3 A1 A1 A1 A2 A2 A2 + 				ins '/sfx/antyair_audc'		
   294 77C0 00 00		extraLife1_dat dta a(0)
   295 77C2 C1 C1 C1 C1 C1 C1 + 				ins '/sfx/extraLife_audc'
   296 77F3 00			alarm1_dat		dta b(0)
   297 77F4 A1 A1 A2 A4 A1 A1 + 				ins '/sfx/alarm_audc'	
   298 7830 00 00		rakieta1_dat	dta a(0)
   299 7832 A1 A1 A1 A1 A1 A1 + 				ins '/sfx/rakieta_audc'	
   300 7860 00			silnik1_dat	dta b(0)
   301 7861 41 41 41 41 41 41 + 				ins '/sfx/silnik_audc'	
   302 				 
   303 									
   304 							//pod rom
   305 78F1						icl 'poziomy.asm'
Source: poziomy.asm
     1 78F1						org PORTB
     2 D301-D301> EF					dta b(BANK1s)
     3 D302						org $6300
     4
     5 6300-65D3> 30 DC 03 9B + level1		ins 'levels/level1.bin'
     6 630B 3C 63 C1 9B 03 DF + level2		ins 'levels/level2.bin'
     7 6316 2D 8C 92 9C 04 12 + level3		ins 'levels/level3.bin'
     8 6323 30 55 65 9C 08 BC + level4		ins 'levels/level4.bin'
     9 6338 27 6F 59 8D 04 29 + level5		ins 'levels/level5.bin'
    10 6345 42 DE 54 9D 08 A7 + level6		ins 'levels/level6.bin'	
    11 635A 22 9B 46 9D 08 1F + level7		ins 'levels/level7.bin'		
    12 636F B1 6F 53 98 08 90 + level8		ins 'levels/level8.bin'
    13 6384 C3 C4 63 98 08 10 + level9		ins 'levels/level9.bin'
    14 6399 BD 6F 55 9A 08 1D + level10		ins 'levels/level10.bin'
    15 63AE C4 DD 46 9A 08 50 + level11		ins 'levels/level11.bin'
    16 63C3 B0 E7 55 99 08 2D + level12		ins 'levels/level12.bin'
    17 63D8 BE 6D 54 99 08 6F + level13		ins 'levels/level13.bin'
    18 63ED C5 DC 56 A9 09 32 + level14		ins 'levels/level14.bin'
    19 6404 C9 CA 54 9E 07 10 + level15		ins 'levels/level15.bin'
    20 6417 B6 60 55 9E 06 15 + level16		ins 'levels/level16.bin'
    21 6428 B0 7C 46 A7 07 2E + level17		ins 'levels/level17.bin'
    22 643B B9 A7 54 98 09 3B + level18		ins 'levels/level18.bin'
    23 6452 A5 9B 56 97 0A 53 + level19		ins 'levels/level19.bin'
    24 646B AD 5F 56 D7 08 3C + level20		ins 'levels/level20.bin'
    25 6480 B0 C5 54 96 08 4A + level21		ins 'levels/level21.bin'			
    26 6495 B8 59 42 86 07 3B + level22		ins 'levels/level22.bin'
    27 64A8 AD 61 56 90 0A 12 + level23		ins 'levels/level23.bin'
    28 64C1 CC D5 45 90 0C DE + level24		ins 'levels/level24.bin'			
    29 64DE BD B0 44 92 10 E5 + level25		ins 'levels/level25.bin'
    30 6503 B5 AF 44 82 0C 2A + level26		ins 'levels/level26.bin'
    31 6520 B1 CE 54 93 08 57 + level27		ins 'levels/level27.bin'			
    32 6535 A9 D2 46 93 0F C0 + level28		ins 'levels/level28.bin'
    33 6558 91 70 46 94 0C 36 + level29		ins 'levels/level29.bin'
    34 6575 B0 74 35 94 0E 94 + level30		ins 'levels/level30.bin'			
    35 6596 B5 B8 35 85 0E 2A + level31		ins 'levels/level31.bin'
    36 65B7 B1 5A 36 95 0C 40 + level32		ins 'levels/level32.bin'
   306 							
   307 65D4						org PORTB
   308 D301-D301> E7					dta b(BANK3s)
   309 D302						icl 'datamatrix.asm'
Source: datamatrix.asm
     1 				; datamatrix.asx - Data Matrix barcode encoder in 6502 assembly language
     2
     3 				; "THE BEER-WARE LICENSE" (Revision 42):
     4 				; Piotr Fusik <fox@scene.pl> wrote this file.
     5 				; As long as you retain this notice you can do whatever you want with this stuff.
     6 				; If we meet some day, and you think this stuff is worth it, you can buy me a beer in return.
     7
     8 				; Compile with xasm (http://xasm.atari.org/), for example:
     9 				; xasm datamatrix.asx /l /d:DataMatrix_code=$b600 /d:DataMatrix_data=$b900 /d:DataMatrix_SIZE=20
    10 				; DataMatrix_code - self-modifying code
    11 				; DataMatrix_data - uninitialized data
    12 				; DataMatrix_SIZE - 10, 12, 14, 16, 18, 20, 22, 24, 26, 32, 36, 40, 44 or 48
    13
    14 				; public interface:
    15 = 62F0			DataMatrix_code	equ $62f0	
    16 = 5B90			DataMatrix_data	equ $5b90	;bank3 za maską spy
    17 = 0018			DataMatrix_SIZE	equ 24		;rozmiar
    18
    19 = 00FF			DataMatrix_EOF	equ	255
    20
    21 = 5B90			DataMatrix_message	equ	DataMatrix_data ; DataMatrix_DATA_CODEWORDS
    22 = 5C90			DataMatrix_symbol	equ	DataMatrix_data+$100	; DataMatrix_SIZE*DataMatrix_SIZE
    23
    24 				; private:
    25
    26 					ift	DataMatrix_SIZE<=26
    27 = 0016			DataMatrix_MATRIX_SIZE	equ	DataMatrix_SIZE-2
    28 					els
    29 				DataMatrix_MATRIX_SIZE	equ	DataMatrix_SIZE-4
    30 					eif
    31
    32 = 5B90			DataMatrix_dataCodewords	equ	DataMatrix_message	; DataMatrix_DATA_CODEWORDS
    33 = 5BB4			DataMatrix_errorCodewords	equ	DataMatrix_dataCodewords+DataMatrix_DATA_CODEWORDS ; DataMatrix_ERROR_CODEWORDS
    34
    35 = 5C90			DataMatrix_exp	equ	DataMatrix_data+$100	; $100
    36 = 5D90			DataMatrix_log	equ	Datamatrix_data+$200	; $100
    37
    38 D302				org	DataMatrix_code
    39
    40 62F0-661D> A2 FF			ldx	#-1
    41 62F2			DataMatrix_encodeMessage_1
    42 62F2 E8				inx
    43 62F3 FE 90 5B			inc	DataMatrix_message,x
    44 62F6 D0 FA			bne	DataMatrix_encodeMessage_1
    45 62F8 A9 81			lda	#129
    46 62FA			DataMatrix_padMessage_1
    47 62FA 9D 90 5B E8			sta	DataMatrix_message,x+
    48 62FE BD 73 64			lda	DataMatrix_padding,x
    49 6301 D0 F7			bne	DataMatrix_padMessage_1
    50
    51 6303 AA				tax	; #0
    52 6304 A9 01			lda	#1
    53 6306			DataMatrix_initExpLog_1
    54 6306 9D 90 5C			sta	DataMatrix_exp,x
    55 6309 A8				tay
    56 630A 8A				txa
    57 630B 99 90 5D			sta	DataMatrix_log,y
    58 630E 98				tya
    59 630F 0A				asl	@
    60 6310 90 02 49 2D			scc:eor	<301
    61 6314 E8				inx
    62 6315 D0 EF			bne	DataMatrix_initExpLog_1
    63
    64 6317 A0 17			ldy	#DataMatrix_ERROR_CODEWORDS-1
    65 6319 8A				txa	; #0
    66 631A 99 B4 5B 88 10 FA		sta:rpl	DataMatrix_errorCodewords,y-
    67 				;	ldx	#0
    68 6320			DataMatrix_reedSolomon_1
    69 6320 8A 48			txa:pha
    70 6322 A0 00			ldy	#0
    71 6324 BD 90 5B			lda	DataMatrix_dataCodewords,x
    72 6327 4D B4 5B			eor	DataMatrix_errorCodewords
    73 632A			DataMatrix_reedSolomon_2
    74 632A 48				pha
    75 632B F0 0E			beq	DataMatrix_reedSolomon_3
    76 632D AA				tax
    77 632E BD 90 5D			lda	DataMatrix_log,x
    78 6331 18 79 5B 64			add	DataMatrix_poly,y
    79 6335 69 00			adc	#0
    80 6337 AA				tax
    81 6338 BD 90 5C			lda	DataMatrix_exp,x
    82 633B			DataMatrix_reedSolomon_3
    83 633B C0 17			cpy	#DataMatrix_ERROR_CODEWORDS-1
    84 633D B0 03 59 B5 5B		scs:eor	DataMatrix_errorCodewords+1,y
    85 6342 99 B4 5B C8			sta	DataMatrix_errorCodewords,y+
    86 6346 68				pla
    87 6347 90 E1			bcc	DataMatrix_reedSolomon_2
    88 6349 68 AA			pla:tax
    89 634B E8				inx
    90 634C E0 24			cpx	#DataMatrix_DATA_CODEWORDS
    91 634E 90 D0			bcc	DataMatrix_reedSolomon_1
    92
    93 6350 A0 15			ldy	#DataMatrix_SIZE-3
    94 6352 A9 90 8D 70 63 A9 + 	mwa	#DataMatrix_symbol	DataMatrix_clear_store+1
    95 635C			DataMatrix_clear_line
    96 635C A9 18			lda	#DataMatrix_SIZE
    97 635E 18 6D 70 63 8D 70 + 	add:sta	DataMatrix_clear_store+1
    98 6365 90 03 EE 71 63		scc:inc	DataMatrix_clear_store+2
    99 636A A2 17			ldx	#DataMatrix_SIZE-1
   100 636C			DataMatrix_clear_dashed
   101 636C 98				tya
   102 636D 29 01			and	#1
   103 636F			DataMatrix_clear_store
   104 636F 9D FF FF			sta	$ffff,x
   105 6372 A9 02			lda	#2
   106 6374 CA				dex
   107 6375 30 05			bmi	DataMatrix_clear_next
   108 					ift	DataMatrix_SIZE>26
   109 					beq	DataMatrix_clear_solid
   110 					cpx	#DataMatrix_SIZE/2-1
   111 					beq	DataMatrix_clear_dashed
   112 					cpx	#DataMatrix_SIZE/2
   113 					eif
   114 6377 D0 F6			bne	DataMatrix_clear_store
   115 6379			DataMatrix_clear_solid
   116 6379 4A				lsr	@
   117 637A 10 F3			bpl	DataMatrix_clear_store	; jmp
   118 637C			DataMatrix_clear_next
   119 637C 88				dey
   120 637D 10 DD			bpl	DataMatrix_clear_line
   121
   122 637F A2 17			ldx	#DataMatrix_SIZE-1
   123 6381			DataMatrix_horizontal_1
   124 6381 8A				txa
   125 6382 29 01 49 01			and:eor	#1
   126 6386 9D 90 5C			sta	DataMatrix_symbol,x
   127 6389			:DataMatrix_SIZE>26	sta	DataMatrix_symbol+DataMatrix_SIZE/2*DataMatrix_SIZE,x
   128 6389 A9 01 9D B8 5E		mva	#1	DataMatrix_symbol+[DataMatrix_SIZE-1]*DataMatrix_SIZE,x
   129 638E			:DataMatrix_SIZE>26	sta	DataMatrix_symbol+[DataMatrix_SIZE/2-1]*DataMatrix_SIZE,x
   130 638E CA				dex
   131 638F 10 F0			bpl	DataMatrix_horizontal_1
   132
   133 6391 A9 90 8D 3D 64 A9 + 	mwa	#DataMatrix_dataCodewords	DataMatrix_fillSource
   134 639B A2 00			ldx	#0
   135 639D A0 04			ldy	#4
   136
   137 639F			DataMatrix_fill_1
   138 				; Check corner cases
   139 					ift	[DataMatrix_MATRIX_SIZE&4]!=0
   140 639F 8A				txa
   141 63A0 D0 09			bne	DataMatrix_noCorner
   142 63A2 C0 14			cpy	#DataMatrix_MATRIX_SIZE-[DataMatrix_MATRIX_SIZE&2]
   143 63A4 D0 05			bne	DataMatrix_noCorner
   144 				; corner1/2
   145 63A6 A9 0F			lda	#15
   146 63A8 20 02 64			jsr	DataMatrix_setCorner
   147 63AB			DataMatrix_noCorner
   148 					eif
   149
   150 				; Sweep upward-right
   151 63AB			DataMatrix_fill_up
   152 63AB C0 16			cpy	#DataMatrix_MATRIX_SIZE
   153 63AD 20 EC 63			jsr	DataMatrix_setUtah
   154 63B0			DataMatrix_no_up
   155 63B0 E8 E8		:2	inx
   156 63B2 88 88		:2	dey
   157 63B4 30 04			bmi	DataMatrix_fill_top
   158 63B6 E0 16			cpx	#DataMatrix_MATRIX_SIZE
   159 63B8 90 F1			bcc	DataMatrix_fill_up
   160 63BA			DataMatrix_fill_top
   161 63BA E8 E8 E8		:3	inx
   162 63BD C8				iny
   163 				; Sweep downward-left
   164 63BE			DataMatrix_fill_down
   165 63BE 98				tya
   166 63BF 30 05			bmi	DataMatrix_no_down
   167 63C1 E0 16			cpx	#DataMatrix_MATRIX_SIZE
   168 63C3 20 EC 63			jsr	DataMatrix_setUtah
   169 63C6			DataMatrix_no_down
   170 63C6 C8 C8		:2	iny
   171 63C8 CA CA		:2	dex
   172 63CA 30 04			bmi	DataMatrix_fill_left
   173 63CC C0 16			cpy	#DataMatrix_MATRIX_SIZE
   174 63CE 90 EE			bcc	DataMatrix_fill_down
   175 63D0			DataMatrix_fill_left
   176 63D0 E8				inx
   177 63D1 C8 C8 C8		:3	iny
   178 63D4 E0 16			cpx	#DataMatrix_MATRIX_SIZE
   179 63D6 90 C7			bcc	DataMatrix_fill_1
   180 63D8 C0 16			cpy	#DataMatrix_MATRIX_SIZE
   181 63DA 90 C3			bcc	DataMatrix_fill_1
   182
   183 					ift	[DataMatrix_SIZE&2]==0
   184 				; Fixed pattern in the bottom-right corner.
   185 63DC A9 01			lda	#1
   186 63DE 8D 9D 5E			sta	DataMatrix_symbol+[DataMatrix_SIZE-3]*DataMatrix_SIZE+DataMatrix_SIZE-3
   187 63E1 8D B6 5E			sta	DataMatrix_symbol+[DataMatrix_SIZE-2]*DataMatrix_SIZE+DataMatrix_SIZE-2
   188 63E4 4A				lsr	@
   189 63E5 8D 9E 5E			sta	DataMatrix_symbol+[DataMatrix_SIZE-3]*DataMatrix_SIZE+DataMatrix_SIZE-2
   190 63E8 8D B5 5E			sta	DataMatrix_symbol+[DataMatrix_SIZE-2]*DataMatrix_SIZE+DataMatrix_SIZE-3
   191 					eif
   192
   193 63EB 60				rts
   194
   195 63EC			DataMatrix_setUtah
   196 63EC B0 6C			bcs	DataMatrix_setUtah_no
   197 63EE B9 B7 64			lda	DataMatrix_matrixLo,y
   198 					ift	DataMatrix_SIZE>26
   199 					cpx	#DataMatrix_MATRIX_SIZE/2
   200 					scc:adc	#1
   201 					eif
   202 63F1 8D FB 63			sta	DataMatrix_setUtah_load+1
   203 63F4 B9 CD 64			lda	DataMatrix_matrixHi,y
   204 					ift	DataMatrix_SIZE>26
   205 					adc	#0
   206 					eif
   207 63F7 8D FC 63			sta	DataMatrix_setUtah_load+2
   208 63FA			DataMatrix_setUtah_load
   209 63FA BD FF FF			lda	$ffff,x
   210 63FD 4A				lsr	@
   211 63FE F0 5A			beq	DataMatrix_setUtah_no
   212 6400 A9 07			lda	#7
   213 6402			DataMatrix_setCorner
   214 6402 8E 0C 64			stx	DataMatrix_column
   215 6405 8C 13 64			sty	DataMatrix_row
   216 6408 A8				tay
   217 6409			DataMatrix_setShape_1
   218 6409 98 48			tya:pha
   219 640B A9 00			lda	#0
   220 = 640C			DataMatrix_column	equ	*-1
   221 640D 18 79 A7 64			add	DataMatrix_shapeX,y
   222 6411 AA				tax
   223 6412 A9 00			lda	#0
   224 = 6413			DataMatrix_row	equ	*-1
   225 6414 18 79 97 64			add	DataMatrix_shapeY,y
   226 6418 A8				tay
   227 6419 10 09			bpl	DataMatrix_setModuleWrapped_yOk
   228 641B 18 69 16			add	#DataMatrix_MATRIX_SIZE
   229 641E A8				tay
   230 					ift	[DataMatrix_MATRIX_SIZE&7]!=0
   231 641F 8A				txa
   232 6420 18 69 02			add	#4-[[DataMatrix_MATRIX_SIZE+4]&7]
   233 6423 AA				tax
   234 					eif
   235 6424			DataMatrix_setModuleWrapped_yOk
   236 6424 8A				txa
   237 6425 10 09			bpl	DataMatrix_setModuleWrapped_xOk
   238 6427 18 69 16			add	#DataMatrix_MATRIX_SIZE
   239 642A AA				tax
   240 					ift	[DataMatrix_MATRIX_SIZE&7]!=0
   241 642B 98				tya
   242 642C 18 69 02			add	#4-[[DataMatrix_MATRIX_SIZE+4]&7]
   243 642F A8				tay
   244 					eif
   245 6430			DataMatrix_setModuleWrapped_xOk
   246 					ift	DataMatrix_SIZE>26
   247 					cpx	#DataMatrix_MATRIX_SIZE/2
   248 					bcc	DataMatrix_setModuleWrapped_leftRegion
   249 					inx:inx
   250 				DataMatrix_setModuleWrapped_leftRegion
   251 					eif
   252 6430 B9 B7 64 8D 43 64		mva	DataMatrix_matrixLo,y	DataMatrix_setModule_store+1
   253 6436 B9 CD 64 8D 44 64		mva	DataMatrix_matrixHi,y	DataMatrix_setModule_store+2
   254 643C 0E 90 5B			asl	DataMatrix_dataCodewords
   255 = 643D			DataMatrix_fillSource	equ	*-2
   256 643F A9 00			lda	#0
   257 6441 2A				rol	@
   258 6442			DataMatrix_setModule_store
   259 6442 9D FF FF			sta	$ffff,x
   260 6445 68 A8			pla:tay
   261 6447 88				dey
   262 6448 29 07			and	#7
   263 644A D0 BD			bne	DataMatrix_setShape_1
   264 644C EE 3D 64 D0 03 EE + 	inw	DataMatrix_fillSource
   265 6454 AE 0C 64			ldx	DataMatrix_column
   266 6457 AC 13 64			ldy	DataMatrix_row
   267 645A			DataMatrix_setUtah_no
   268 645A 60				rts
   269
   270 					ift	DataMatrix_SIZE==10
   271 				DataMatrix_DATA_CODEWORDS	equ	3
   272 				DataMatrix_ERROR_CODEWORDS	equ	5
   273 				DataMatrix_poly	dta	$eb,$cf,$d2,$f4,$0f
   274
   275 					eli	DataMatrix_SIZE==12
   276 				DataMatrix_DATA_CODEWORDS	equ	5
   277 				DataMatrix_ERROR_CODEWORDS	equ	7
   278 				DataMatrix_poly	dta	$b1,$1e,$d6,$da,$2a,$c5,$1c
   279
   280 					eli	DataMatrix_SIZE==14
   281 				DataMatrix_DATA_CODEWORDS	equ	8
   282 				DataMatrix_ERROR_CODEWORDS	equ	10
   283 				DataMatrix_poly	dta	$c7,$32,$96,$78,$ed,$83,$ac,$53,$f3,$37
   284
   285 					eli	DataMatrix_SIZE==16
   286 				DataMatrix_DATA_CODEWORDS	equ	12
   287 				DataMatrix_ERROR_CODEWORDS	equ	12
   288 				DataMatrix_poly	dta	$a8,$8e,$23,$ad,$5e,$b9,$6b,$c7,$4a,$c2,$e9,$4e
   289
   290 					eli	DataMatrix_SIZE==18
   291 				DataMatrix_DATA_CODEWORDS	equ	18
   292 				DataMatrix_ERROR_CODEWORDS	equ	14
   293 				DataMatrix_poly	dta	$53,$ab,$21,$27,$08,$0c,$f8,$1b,$26,$54,$5d,$f6,$ad,$69
   294
   295 					eli	DataMatrix_SIZE==20
   296 				DataMatrix_DATA_CODEWORDS	equ	22
   297 				DataMatrix_ERROR_CODEWORDS	equ	18
   298 				DataMatrix_poly	dta	$a4,$09,$f4,$45,$b1,$a3,$a1,$e7,$5e,$fa,$c7,$dc,$fd,$a4,$67,$8e,$3d,$ab
   299
   300 					eli	DataMatrix_SIZE==22
   301 				DataMatrix_DATA_CODEWORDS	equ	30
   302 				DataMatrix_ERROR_CODEWORDS	equ	20
   303 				DataMatrix_poly	dta	$7f,$21,$92,$17,$4f,$19,$c1,$7a,$d1,$e9,$e6,$a4,$01,$6d,$b8,$95,$26,$c9,$3d,$d2
   304
   305 					eli	DataMatrix_SIZE==24
   306 = 0024			DataMatrix_DATA_CODEWORDS	equ	36
   307 = 0018			DataMatrix_ERROR_CODEWORDS	equ	24
   308 645B 41 8D F5 1F B7 F2 + DataMatrix_poly	dta	$41,$8d,$f5,$1f,$b7,$f2,$ec,$b1,$7f,$e1,$6a,$16,$83,$14,$ca,$16,$6a,$89,$67,$e7,$d7,$88,$55,$2d
   309
   310 					eli	DataMatrix_SIZE==26
   311 				DataMatrix_DATA_CODEWORDS	equ	44
   312 				DataMatrix_ERROR_CODEWORDS	equ	28
   313 				DataMatrix_poly	dta	$96,$20,$6d,$95,$ef,$d5,$c6,$30,$5e,$32,$0c,$c3,$a7,$82,$c4,$fd,$63,$a6,$ef,$de,$92,$be,$f5,$b8,$ad,$7d,$11,$97
   314
   315 					eli	DataMatrix_SIZE==32
   316 				DataMatrix_DATA_CODEWORDS	equ	62
   317 				DataMatrix_ERROR_CODEWORDS	equ	36
   318 				DataMatrix_poly	dta	$39,$56,$bb,$45,$8c,$99,$1f,$42,$87,$43,$f8,$54,$5a,$51,$db,$c5,$02,$01,$27,$10,$4b,$e5,$14,$33,$fc,$6c,$d5,$b5,$b7,$57,$6f,$4d,$e8,$a8,$b0,$9c
   319
   320 					eli	DataMatrix_SIZE==36
   321 				DataMatrix_DATA_CODEWORDS	equ	86
   322 				DataMatrix_ERROR_CODEWORDS	equ	42
   323 				DataMatrix_poly	dta	$e1,$26,$e1,$94,$c0,$fe,$8d,$0b,$52,$ed,$51,$18,$0d,$7a,$ff,$6a,$a7,$0d,$cf,$a0,$58,$cb,$26,$8e,$54,$42,$03,$a8,$66,$9c,$01,$c8,$58,$3c,$e9,$86,$73,$72,$ea,$5a,$41,$8a
   324
   325 					eli	DataMatrix_SIZE==40
   326 				DataMatrix_DATA_CODEWORDS	equ	114
   327 				DataMatrix_ERROR_CODEWORDS	equ	48
   328 				DataMatrix_poly	dta	$72,$45,$7a,$1e,$5e,$0b,$42,$e6,$84,$49,$91,$89,$87,$4f,$d6,$21,$0c,$dc,$8e,$d5,$88,$7c,$d7,$a6,$09,$de,$1c,$9a,$84,$04,$64,$aa,$91,$3b,$a4,$d7,$11,$f9,$66,$f9,$86,$80,$05,$f5,$83,$7f,$dd,$9c
   329
   330 					eli	DataMatrix_SIZE==44
   331 				DataMatrix_DATA_CODEWORDS	equ	144
   332 				DataMatrix_ERROR_CODEWORDS	equ	56
   333 				DataMatrix_poly	dta	$1d,$b3,$63,$95,$9f,$48,$7d,$16,$37,$3c,$d9,$b0,$9c,$5a,$2b,$50,$fb,$eb,$80,$a9,$fe,$86,$f9,$2a,$79,$76,$48,$80,$81,$e8,$25,$0f,$18,$dd,$8f,$73,$83,$28,$71,$fe,$13,$7b,$f6,$44,$a6,$42,$76,$8e,$2f,$33,$c3,$f2,$f9,$83,$26,$42
   334
   335 					eli	DataMatrix_SIZE==48
   336 				DataMatrix_DATA_CODEWORDS	equ	174
   337 				DataMatrix_ERROR_CODEWORDS	equ	68
   338 				DataMatrix_poly	dta	$21,$4f,$be,$f5,$5b,$dd,$e9,$19,$18,$06,$90,$97,$79,$ba,$8c,$7f,$2d,$99,$fa,$b7,$46,$83,$c6,$11,$59,$f5,$79,$33,$8c,$fc,$cb,$52,$53,$e9,$98,$dc,$9b,$12,$e6,$d2,$5e,$20,$c8,$c5,$c0,$c2,$ca,$81,$0a,$ed,$c6,$5e,$b0,$24,$28,$8b,$c9,$84,$db,$22,$38,$71,$34,$14,$22,$f7,$0f,$33
   339
   340 					els
   341 					ert	1	; unsupported DataMatrix_SIZE
   342 					eif
   343
   344 6473			DataMatrix_padding
   345 6473 19 AF 46 DC 73 0B + :DataMatrix_DATA_CODEWORDS	dta	[129+[1+#]*149%253]%254+1
   346 				; NOTE: the following two zero bytes terminate DataMatrix_padding:
   347 6497 00 00 00 FF FF FF + DataMatrix_shapeY	dta	0,0,0,-1,-1,-1,-2,-2
   348 					ift	DataMatrix_SIZE==14||DataMatrix_SIZE==22||DataMatrix_SIZE==32||DataMatrix_SIZE==40||DataMatrix_SIZE==48 ; corner1
   349 					dta	3-DataMatrix_MATRIX_SIZE,2-DataMatrix_MATRIX_SIZE,1-DataMatrix_MATRIX_SIZE,-DataMatrix_MATRIX_SIZE,-DataMatrix_MATRIX_SIZE,-1,-1,-1
   350 					eli	DataMatrix_SIZE==16||DataMatrix_SIZE==24 ; corner2
   351 649F ED EC EC EC EC 01 + 	dta	3-DataMatrix_MATRIX_SIZE,2-DataMatrix_MATRIX_SIZE,2-DataMatrix_MATRIX_SIZE,2-DataMatrix_MATRIX_SIZE,2-DataMatrix_MATRIX_SIZE,1,0,-1
   352 					eif
   353 64A7 00 FF FE 00 FF FE + DataMatrix_shapeX	dta	0,-1,-2,0,-1,-2,-1,-2
   354 					ift	DataMatrix_SIZE==14||DataMatrix_SIZE==22||DataMatrix_SIZE==32||DataMatrix_SIZE==40||DataMatrix_SIZE==48 ; corner1
   355 					dta	DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-2,2,1,0
   356 					eli	DataMatrix_SIZE==16||DataMatrix_SIZE==24 ; corner2
   357 64AF 15 15 14 13 12 00 + 	dta	DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-1,DataMatrix_MATRIX_SIZE-2,DataMatrix_MATRIX_SIZE-3,DataMatrix_MATRIX_SIZE-4,0,0,0
   358 					eif
   359
   360 					ift	DataMatrix_SIZE<=26
   361 64B7			DataMatrix_matrixLo
   362 64B7 A9 C1 D9 F1 09 21 + :DataMatrix_MATRIX_SIZE	dta	l(DataMatrix_symbol+[1+#]*DataMatrix_SIZE+1)
   363 64CD			DataMatrix_matrixHi
   364 64CD 5C 5C 5C 5C 5D 5D + :DataMatrix_MATRIX_SIZE	dta	h(DataMatrix_symbol+[1+#]*DataMatrix_SIZE+1)
   365 					els
   366 				DataMatrix_matrixLo
   367 				:DataMatrix_MATRIX_SIZE/2	dta	l(DataMatrix_symbol+[1+#]*DataMatrix_SIZE+1)
   368 				:DataMatrix_MATRIX_SIZE/2	dta	l(DataMatrix_symbol+[1+DataMatrix_SIZE/2+#]*DataMatrix_SIZE+1)
   369 				DataMatrix_matrixHi
   370 				:DataMatrix_MATRIX_SIZE/2	dta	h(DataMatrix_symbol+[1+#]*DataMatrix_SIZE+1)
   371 				:DataMatrix_MATRIX_SIZE/2	dta	h(DataMatrix_symbol+[1+DataMatrix_SIZE/2+#]*DataMatrix_SIZE+1)
   372 					eif
   373
   374 					end
   310 64E3						icl 'matrix.asm'
Source: matrix.asm
     1
     2 							
     3 64E3 68 74 74 70 3A 2F + textmatrix	dta c'http://atari.pl/hsc/?x=1070000000',b(255)
     4 6505 D3 C3 CF D2 C5 C3 + authormatrix1	dta c'SCORECAFE'*,b(128)
     5
     6
     7 = 650F			matrix_score	equ *
     8 650F B9 B8 3A				lda score,y
     9 6512 4A 4A 4A 4A				:4 lsr
    10 6516 09 30				ora #$30
    11 6518 9D E3 64				sta textmatrix,x
    12 651B E8					inx
    13 651C B9 B8 3A				lda score,y
    14 651F 29 0F				and #$0F
    15 6521 09 30				ora #$30
    16 6523 9D E3 64				sta textmatrix,x
    17 6526 E8					inx
    18 6527 88					dey
    19 6528 60					rts
    20
    21 				;obsługa datamatrix
    22 = 6529			printDatamatrix	equ *
    23 6529 A2 1A				ldx #26
    24 652B A0 02				ldy #2
    25 652D 20 0F 65				jsr matrix_score
    26 6530 20 0F 65				jsr matrix_score
    27 6533 20 0F 65				jsr matrix_score
    28
    29 6536 AD BA 3A				lda score+2
    30 6539 4A 4A 4A 4A				:4 lsr
    31 653D 09 30				ora #$30
    32 653F 8D FD 64				sta textmatrix+26
    33 6542 AD BA 3A				lda score+2
    34 6545 29 0F				and #$0f
    35 6547 09 30				ora #$30
    36 6549 8D FE 64				sta textmatrix+27
    37 						
    38
    39 654C A2 21				ldx #33
    40 654E BD E3 64		@		lda textmatrix,x			
    41 6551 9D 90 5B				sta DataMatrix_data,x
    42 6554 CA					dex
    43 6555 10 F7				bpl @-
    44 						
    45 						
    46 						
    47 6557 20 F0 62				jsr DataMatrix_code		;przygotuj obrazel
    48 						
    49 655A A9 7F				lda #127			;wyczysc ekran
    50 655C A2 00				ldx #0
    51 655E 9D 88 03		@		sta obraz1,x
    52 6561 9D 88 04				sta obraz1+$100,x
    53 6564 9D 88 05				sta obraz1+$200,x
    54 6567 9D 88 06				sta obraz1+$300,x
    55 656A CA					dex
    56 656B D0 F1				bne @-
    57 						
    58 656D A2 07				ldx #7
    59 656F A9 FF				lda #255				;pelny znak
    60 6571 9D F8 BB		@		sta znaki1+127*8,x
    61 6574 CA					dex
    62 6575 10 FA				bpl @-
    63 						
    64 						
    65 6577 A9 C8 8D A4 03			mva #'H'* obraz1+28
    66 657C A9 C9 8D A5 03			mva #'I'* obraz1+28+1
    67 						
    68 6581 A2 04				ldx #4
    69 6583 BD 05 65		@		lda authormatrix1,x
    70 6586 9D CE 03				sta obraz1+30+40,x
    71 6589 BD 0A 65				lda authormatrix1+5,x
    72 658C 9D FB 03				sta obraz1+30+80+5,x
    73 658F CA					dex
    74 6590 10 F1				bpl @-
    75 						
    76 						
    77 6592 A9 90 85 69 A9 5C + 		mwa #DataMatrix_data+$100 pom
    78 659A A9 8A 85 6B A9 03 + 		mwa #obraz1+2 pom1
    79 65A2 A2 00				ldx #0
    80 						
    81 65A4 A0 17		@		ldy #DataMatrix_SIZE-1			;rysujemy obrazek
    82 65A6 B1 69		@		lda (pom),y
    83 65A8 49 01				eor #1
    84 65AA D0 02				bne *+4
    85 65AC 91 6B				sta (pom1),y
    86 65AE 88					dey
    87 65AF 10 F5				bpl @-
    88 						
    89 65B1 18					clc
    90 65B2 A5 69				lda pom
    91 65B4 69 18				adc #DataMatrix_SIZE
    92 65B6 85 69				sta pom
    93 65B8 90 02				bcc *+4
    94 65BA E6 6A				inc pom+1
    95 						
    96 65BC 18					clc
    97 65BD A5 6B				lda pom1
    98 65BF 69 28				adc #40
    99 65C1 85 6B				sta pom1
   100 65C3 90 02				bcc *+4
   101 65C5 E6 6C				inc pom1+1
   102 						
   103 65C7 E8					inx
   104 65C8 E0 18				cpx #DataMatrix_SIZE
   105 65CA 90 D8				bcc @-1
   106 						
   107 						
   108 65CC 20 21 28				jsr waitvbl			;wyświetl wynik
   109 65CF A9 00 8D 18 D0			mva #0 COLPF2
   110 65D4 A9 0F 8D 17 D0			mva #$0f COLPF1
   111 65D9 8D 1A D0				sta COLBAK
   112 						
   113 65DC A9 A7 8D 02 D4 A9 + 		mwa #dlistMatrix DLPTR
   114 65E6 A9 B8 8D 09 D4			mva #>znaki1 CHBASE
   115 65EB A9 00 8D 1D D0			mva #0 PMCTL
   116 65F0 A9 00 8D 10 D0			mva #0 GRAFP3
   117 65F5 A9 3A 8D 00 D4			mva #58 DMACTL
   118
   119 65FA 20 21 28		@		jsr waitvbl			;puść już SELECT
   120 65FD AD 1F D0				lda CONSOL
   121 6600 29 02				and #SELECT
   122 6602 F0 F6				beq @-
   123 						
   124 6604 20 21 28		@		jsr waitvbl			;czy naciśnięty SELECT?
   125 6607 AD 1F D0				lda CONSOL
   126 660A 29 02				and #SELECT
   127 660C D0 F6				bne @-
   128 						
   129 660E 20 21 28		@		jsr waitvbl			;puść już SELECT
   130 6611 AD 1F D0				lda CONSOL
   131 6614 29 02				and #SELECT
   132 6616 F0 F6				beq @-
   133 						
   134 6618 A9 00 8D 1A D0			mva #0 COLBAK
   135 						
   136 661D 60					rts
   137 						
   138 						
   311 							
   312 661E						org PORTB
   313 D301-D301> FF					dta b(ROM_on)
   314 							
   315 							//wlasciwy program
   316 D302						icl 'przerwania.asm'
Source: przerwania.asm
     1 D302				org $b700	;$AF00
     2 					
     3 B700-B7E6> 00 10 20 30 + ad_Jadra	:7 dta b(#*16)	
     4 B707 00			ksztaltJadroA0	dta b(%00000000)
     5 B708 00							dta b(%00000000)
     6 B709 7D							dta b(%01111101)
     7 B70A 7D							dta b(%01111101)
     8 B70B 7D							dta b(%01111101)
     9 B70C 7D							dta b(%01111101)
    10 B70D 7D							dta b(%01111101)
    11 B70E 7D							dta b(%01111101)
    12 								
    13 B70F 7D							dta b(%01111101)
    14 B710 7D							dta b(%01111101)
    15 B711 7D							dta b(%01111101)
    16 B712 7D							dta b(%01111101)
    17 B713 7D							dta b(%01111101)
    18 B714 7D							dta b(%01111101)
    19 B715 00							dta b(%00000000)
    20 B716 00							dta b(%00000000)
    21 						
    22 B717 00			ksztaltJadroA1	dta b(%00000000)
    23 B718 00							dta b(%00000000)
    24 B719 3D							dta b(%00111101)
    25 B71A 3D							dta b(%00111101)
    26 B71B 3D							dta b(%00111101)
    27 B71C 3D							dta b(%00111101)
    28 B71D 3D							dta b(%00111101)
    29 B71E 3D							dta b(%00111101)
    30 								
    31 B71F 3D							dta b(%00111101)
    32 B720 3D							dta b(%00111101)
    33 B721 3D							dta b(%00111101)
    34 B722 3D							dta b(%00111101)
    35 B723 3D							dta b(%00111101)
    36 B724 3D							dta b(%00111101)
    37 B725 00							dta b(%00000000)
    38 B726 00							dta b(%00000000)
    39 								
    40 B727 00			ksztaltJadroA2	dta b(%00000000)
    41 B728 00							dta b(%00000000)
    42 B729 0D							dta b(%00001101)
    43 B72A 0D							dta b(%00001101)
    44 B72B 0D							dta b(%00001101)
    45 B72C 0D							dta b(%00001101)
    46 B72D 0D							dta b(%00001101)
    47 B72E 0D							dta b(%00001101)
    48 								
    49 B72F 0D							dta b(%00001101)
    50 B730 0D							dta b(%00001101)
    51 B731 0D							dta b(%00001101)
    52 B732 0D							dta b(%00001101)
    53 B733 0D							dta b(%00001101)
    54 B734 0D							dta b(%00001101)
    55 B735 00							dta b(%00000000)
    56 B736 00							dta b(%00000000)
    57 								
    58 B737 00			ksztaltJadroA3	dta b(%00000000)
    59 B738 00							dta b(%00000000)
    60 B739 01							dta b(%00000001)
    61 B73A 01							dta b(%00000001)
    62 B73B 01							dta b(%00000001)
    63 B73C 01							dta b(%00000001)
    64 B73D 01							dta b(%00000001)
    65 B73E 01							dta b(%00000001)
    66
    67 B73F 01							dta b(%00000001)
    68 B740 01							dta b(%00000001)
    69 B741 01							dta b(%00000001)
    70 B742 01							dta b(%00000001)
    71 B743 01							dta b(%00000001)
    72 B744 01							dta b(%00000001)
    73 B745 00							dta b(%00000000)
    74 B746 00							dta b(%00000000)
    75 								
    76 B747 00			ksztaltJadroA4	dta b(%00000000)		
    77 B748 30							dta b(%00110000)
    78 B749 30							dta b(%00110000)
    79 B74A 3C							dta b(%00111100)
    80 B74B 3C							dta b(%00111100)
    81 B74C FF							dta b(%11111111)
    82 B74D FB							dta b(%11111011)
    83 B74E EB							dta b(%11101011)
    84 					
    85 B74F EB							dta b(%11101011)		
    86 B750 EF							dta b(%11101111)
    87 B751 FF							dta b(%11111111)
    88 B752 3C							dta b(%00111100)
    89 B753 3C							dta b(%00111100)
    90 B754 0C							dta b(%00001100)
    91 B755 0C							dta b(%00001100)
    92 B756 00							dta b(%00000000)	
    93
    94 B757 00			ksztaltJadroA5	dta b(%00000000)
    95 B758 00							dta b(%00000000)
    96 B759 2D							dta b(%00101101)
    97 B75A 2D							dta b(%00101101)
    98 B75B 2D							dta b(%00101101)
    99 B75C AD							dta b(%10101101)
   100 B75D AD							dta b(%10101101)
   101 B75E AD							dta b(%10101101)
   102 								
   103 B75F AD							dta b(%10101101)
   104 B760 AD							dta b(%10101101)
   105 B761 AD							dta b(%10101101)
   106 B762 2D							dta b(%00101101)
   107 B763 2D							dta b(%00101101)
   108 B764 2D							dta b(%00101101)
   109 B765 00							dta b(%00000000)
   110 B766 00							dta b(%00000000)
   111
   112 B767 00			ksztaltJadroA6	dta b(%00000000)
   113 B768 00							dta b(%00000000)
   114 B769 3D							dta b(%00111101)
   115 B76A 3D							dta b(%00111101)
   116 B76B 3D							dta b(%00111101)
   117 B76C BD							dta b(%10111101)
   118 B76D BD							dta b(%10111101)
   119 B76E BD							dta b(%10111101)
   120 								
   121 B76F BD							dta b(%10111101)
   122 B770 BD							dta b(%10111101)
   123 B771 BD							dta b(%10111101)
   124 B772 3D							dta b(%00111101)
   125 B773 3D							dta b(%00111101)
   126 B774 3D							dta b(%00111101)
   127 B775 00							dta b(%00000000)
   128 B776 00							dta b(%00000000)
   129 								
   130 B777 00			ksztaltJadroB0	dta b(%00000000)
   131 B778 3F							dta b(%00111111)
   132 B779 3F							dta b(%00111111)
   133 B77A 3F							dta b(%00111111)
   134 B77B 3F							dta b(%00111111)
   135 B77C 3F							dta b(%00111111)
   136 B77D 3F							dta b(%00111111)
   137 B77E 00							dta b(%00000000)
   138 								
   139 B77F 00							dta b(%00000000)
   140 B780 DC							dta b(%11011100)
   141 B781 DC							dta b(%11011100)
   142 B782 DC							dta b(%11011100)
   143 B783 DC							dta b(%11011100)
   144 B784 DC							dta b(%11011100)
   145 B785 DC							dta b(%11011100)
   146 B786 00							dta b(%00000000)
   147 							
   148 B787 00			ksztaltJadroB1	dta b(%00000000)
   149 B788 3F							dta b(%00111111)
   150 B789 3F							dta b(%00111111)
   151 B78A 3F							dta b(%00111111)
   152 B78B 3F							dta b(%00111111)
   153 B78C 00							dta b(%00000000)
   154 B78D 00							dta b(%00000000)
   155 B78E 00							dta b(%00000000)
   156 								
   157 B78F 00							dta b(%00000000)
   158 B790 DC							dta b(%11011100)
   159 B791 DC							dta b(%11011100)
   160 B792 DC							dta b(%11011100)
   161 B793 DC							dta b(%11011100)
   162 B794 00							dta b(%00000000)
   163 B795 00							dta b(%00000000)
   164 B796 00							dta b(%00000000)
   165 								
   166 B797 00			ksztaltJadroB2	dta b(%00000000)
   167 B798 3F							dta b(%00111111)
   168 B799 3F							dta b(%00111111)
   169 B79A 00							dta b(%00000000)
   170 B79B 00							dta b(%00000000)
   171 B79C 00							dta b(%00000000)
   172 B79D 00							dta b(%00000000)
   173 B79E 00							dta b(%00000000)
   174 								
   175 B79F 00							dta b(%00000000)
   176 B7A0 DC							dta b(%11011100)
   177 B7A1 DC							dta b(%11011100)
   178 B7A2 00							dta b(%00000000)
   179 B7A3 00							dta b(%00000000)
   180 B7A4 00							dta b(%00000000)
   181 B7A5 00							dta b(%00000000)
   182 B7A6 00							dta b(%00000000)
   183 								
   184 B7A7 00			ksztaltJadroB3	dta b(%00000000)
   185 B7A8 3F							dta b(%00111111)
   186 B7A9 00							dta b(%00000000)
   187 B7AA 00							dta b(%00000000)
   188 B7AB 00							dta b(%00000000)
   189 B7AC 00							dta b(%00000000)
   190 B7AD 00							dta b(%00000000)
   191 B7AE 00							dta b(%00000000)
   192 								
   193 B7AF 00							dta b(%00000000)
   194 B7B0 DC							dta b(%11011100)
   195 B7B1 00							dta b(%00000000)
   196 B7B2 00							dta b(%00000000)
   197 B7B3 00							dta b(%00000000)
   198 B7B4 00							dta b(%00000000)
   199 B7B5 00							dta b(%00000000)
   200 B7B6 00							dta b(%00000000)
   201 								
   202 B7B7 00			ksztaltJadroB4	dta b(%00000000)		
   203 B7B8 03							dta b(%00000011)
   204 B7B9 0F							dta b(%00001111)
   205 B7BA FA							dta b(%11111010)
   206 B7BB 3E							dta b(%00111110)
   207 B7BC 0F							dta b(%00001111)
   208 B7BD 03							dta b(%00000011)
   209 B7BE 00							dta b(%00000000)
   210 					
   211 B7BF 00							dta b(%00000000)			
   212 B7C0 C0							dta b(%11000000)
   213 B7C1 F0							dta b(%11110000)
   214 B7C2 BC							dta b(%10111100)
   215 B7C3 AF							dta b(%10101111)
   216 B7C4 F0							dta b(%11110000)
   217 B7C5 C0							dta b(%11000000)
   218 B7C6 00							dta b(%00000000)
   219 								
   220 B7C7 00			ksztaltJadroB5	dta b(%00000000)
   221 B7C8 3F							dta b(%00111111)
   222 B7C9 3F							dta b(%00111111)
   223 B7CA 3F							dta b(%00111111)
   224 B7CB 0A							dta b(%00001010)
   225 B7CC 0A							dta b(%00001010)
   226 B7CD 02							dta b(%00000010)
   227 B7CE 00							dta b(%00000000)
   228 								
   229 B7CF 00							dta b(%00000000)
   230 B7D0 DC							dta b(%11011100)
   231 B7D1 DC							dta b(%11011100)
   232 B7D2 DC							dta b(%11011100)
   233 B7D3 A0							dta b(%10100000)
   234 B7D4 A0							dta b(%10100000)
   235 B7D5 80							dta b(%10000000)
   236 B7D6 00							dta b(%00000000)
   237
   238 B7D7 00			ksztaltJadroB6	dta b(%00000000)
   239 B7D8 3F							dta b(%00111111)
   240 B7D9 3F							dta b(%00111111)
   241 B7DA 3F							dta b(%00111111)
   242 B7DB 3F							dta b(%00111111)
   243 B7DC 0A							dta b(%00001010)
   244 B7DD 0A							dta b(%00001010)
   245 B7DE 00							dta b(%00000000)
   246 								
   247 B7DF 00							dta b(%00000000)
   248 B7E0 DC							dta b(%11011100)
   249 B7E1 DC							dta b(%11011100)
   250 B7E2 DC							dta b(%11011100)
   251 B7E3 DC							dta b(%11011100)
   252 B7E4 A0							dta b(%10100000)
   253 B7E5 A0							dta b(%10100000)
   254 B7E6 00							dta b(%00000000)
   255
   256 B7E7						org $2000
   257 						
   258 2000-315B> 70 10		hsdlist	dta b(112,$10)
   259 2002 44 80 0A				dta b(64+4),a(hscr)
   260 2005 44 B0 0A				dta b(64+4),a(hscr+48)
   261 2008 42 E0 0A				dta b(64+2),a(hscr+2*48)
   262 200B 44 10 0B				dta b(64+4),a(hscr+3*48)
   263 200E 30					dta b($30)
   264 200F 42 40 0B				dta b(64+2),a(hscr+4*48)
   265 2012 44 70 0B				dta b(64+4),a(hscr+5*48)
   266 2015 42 A0 0B				dta b(64+2),a(hscr+6*48)
   267 2018 44 D0 0B				dta b(64+4),a(hscr+7*48)
   268 201B 44 00 0C				dta b(64+4),a(hscr+8*48)
   269 201E 20					dta b($20)
   270 201F 42 30 0C				dta b(64+2),a(hscr+9*48)
   271 2022 44 60 0C				dta b(64+4),a(hscr+10*48)
   272 2025 42 90 0C				dta b(64+2),a(hscr+11*48)
   273 2028 44 C0 0C				dta b(64+4),a(hscr+12*48)
   274 202B 42 F0 0C				dta b(64+2),a(hscr+13*48)
   275 202E 44 20 0D				dta b(64+4),a(hscr+14*48)
   276 2031 42 50 0D				dta b(64+2),a(hscr+15*48)
   277 2034 44 80 0D				dta b(64+4),a(hscr+16*48)
   278 2037 42 B0 0D				dta b(64+2),a(hscr+17*48)
   279 203A 44 E0 0D				dta b(64+4),a(hscr+18*48)
   280 203D 42 10 0E				dta b(64+2),a(hscr+19*48)
   281 2040 44 40 0E				dta b(64+4),a(hscr+20*48)
   282 2043 42 70 0E				dta b(64+2),a(hscr+21*48)
   283 2046 44 A0 0E				dta b(64+4),a(hscr+22*48)
   284 2049 44 D0 0E				dta b(64+4),a(hscr+23*48)
   285 204C 44 00 0F				dta b(64+4),a(hscr+24*48)
   286 204F 44 30 0F				dta b(64+4),a(hscr+25*48)
   287 2052 44 60 0F				dta b(64+4),a(hscr+26*48)
   288 2055 41 00 20				dta b(65),a(hsdlist)
   289 						
   290 2058 70 10		hsdlist1	dta b(112,$10)
   291 205A 44 80 0A				dta b(64+4),a(hscr)
   292 205D 44 B0 0A				dta b(64+4),a(hscr+48)
   293 2060 42 E0 0A				dta b(64+2),a(hscr+48*2)		;CONGRATULATIONS !!
   294 2063 44 10 0B				dta b(64+4),a(hscr+48*3)
   295 2066 40					dta b($40)
   296 2067 42 40 0B				dta b(64+2),a(hscr+48*4)		;THE HIGH SCORE
   297 206A 44 70 0B				dta b(64+4),a(hscr+48*5)
   298 206D 40					dta b($40)
   299 206E 42 A0 0B				dta b(64+2),a(hscr+48*6)		;OF THE DAY
   300 2071 44 D0 0B				dta b(64+4),a(hscr+48*7)
   301 2074 44 00 0C				dta b(64+4),a(hscr+48*8)
   302 						
   303 2077 44 30 0C				dta b(64+4),a(hscr+48*9)		;WYNIK
   304 207A 44 60 0C				dta b(64+4),a(hscr+48*10)
   305 207D 44 90 0C				dta b(64+4),a(hscr+48*11)
   306 2080 44 C0 0C				dta b(64+4),a(hscr+48*12)
   307 2083 44 F0 0C				dta b(64+4),a(hscr+48*13)
   308 2086 44 20 0D				dta b(64+4),a(hscr+48*14)
   309 2089 44 50 0D				dta b(64+4),a(hscr+48*15)
   310 208C 30					dta b($30)		
   311 208D 44 80 0D				dta b(64+4),a(hscr+48*16)
   312 2090 44 B0 0D				dta b(64+4),a(hscr+48*17)
   313 2093 40					dta b($40)
   314 2094 42 E0 0D				dta b(64+2),a(hscr+48*18)		;GO FOR THE
   315 2097 44 10 0E				dta b(64+4),a(hscr+48*19)
   316 209A 40					dta b($40)
   317 209B 42 40 0E				dta b(64+2),a(hscr+48*20)		;SPACE RECORD NOW
   318 209E 44 70 0E				dta b(64+4),a(hscr+48*21)
   319 20A1 44 A0 0E				dta b(64+4),a(hscr+48*22)
   320 20A4 41 58 20				dta b(65),a(hsdlist1)
   321 						
   322 20A7 70 70 70		dlistMatrix	dta b(112,112,112)
   323 20AA 42 88 03					dta b($42),a(obraz1)
   324 20AD 02 02 02 02 02 02 + 			:23 dta b($2)
   325 20C4 41 A7 20					dta b(65),a(dlistMatrix)		
   326
   327 					
   328
   329
   330 = 20C7			czyscObraz1	equ *
   331 20C7 A9 80				lda #128
   332 20C9 A2 20				ldx #32
   333 20CB 9D 88 03 9D B8 03 + @		:29 sta obraz1+#*48,x
   334 2122 CA					dex
   335 2123 10 A6				bpl @-
   336 						
   337 2125 60					rts	
   338
   339 = 2126			czyscObraz2	equ *
   340 2126 A9 80				lda #128
   341 2128 A2 20				ldx #32
   342 212A 9D 80 0A 9D B0 0A + @		:29 sta obraz2+#*48,x
   343 2181 CA					dex
   344 2182 10 A6				bpl @-
   345 						
   346 2184 60					rts		
   347 						
   348 2185 2C 0F D4		nmi		bit $d40f
   349 2188 30 03				bmi dli
   350 218A 4C 91 25				jmp vblk	
   351 					
   352 = 218D			dli		equ *
   353 218D 48					pha
   354
   355 218E A9 DD 8D FE FF A9 + 		mwa #pokey $fffe
   356 							
   357 2198 A9 B1				lda #pozWyniki
   358 219A 8D 00 D0				sta HPOSP    ;hiscore
   359 219D A9 B9				lda #pozWyniki+8
   360 219F 8D 01 D0				sta HPOSP+1
   361 21A2 A9 C1				lda #pozWyniki+16
   362 21A4 8D 02 D0				sta HPOSP+2
   363 21A7 A9 C9				lda #pozWyniki+24
   364 21A9 8D 06 D0				sta HPOSM+2
   365 21AC A9 CB				lda #pozWyniki+26
   366 21AE 8D 05 D0				sta HPOSM+1
   367 21B1 A9 CD				lda #pozWyniki+28
   368 21B3 8D 04 D0				sta HPOSM
   369 21B6 A9 00				lda #0
   370 21B8 8D 0C D0				sta SIZEM
   371 						;sta IRQEN
   372 							
   373 21BB AD 12 12				lda kolorCzerwony
   374 21BE 8D 12 D0				sta COLPM
   375 21C1 8D 13 D0				sta COLPM+1
   376 21C4 8D 14 D0				sta COLPM+2
   377 						
   378 21C7 A9 24 8D 06 D2			mva #36 AUDF4
   379 21CC 8D 0A D4				sta WSYNC
   380 						
   381 				.IF .DEF A800		
   382 21CF A9 00 8D 0E D2			mva #0 IRQEN
   383 				.ENDIF
   384 21D4 A9 04 8D 0E D2			mva #4 IRQEN
   385 21D9 85 1E				sta sirq
   386 					
   387 21DB 68					pla
   388 21DC 40					rti 
   389 						
   390 = 21DD			pokey	equ *
   391 21DD 85 81				sta rejA
   392 						
   393 21DF A9 23 8D 06 D2			mva #35 AUDF4
   394 21E4 A9 0C				lda #kolorLiczby		;pod Hiscore
   395 21E6 8D 12 D0				sta COLPM
   396 21E9 8D 13 D0				sta COLPM+1
   397 21EC 8D 14 D0				sta COLPM+2
   398 21EF A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP
   399 21F4 A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   400 21F9 A9 C3 8D 02 D0			mva #pozWyniki+18 HPOSP+2
   401 						
   402 21FE A9 15 8D FE FF A9 + 		mwa #pokey1 $fffe
   403 						
   404 						
   405 				.IF .DEF A800		
   406 2208 A9 00				lda #$00
   407 220A 8D 0E D2				sta $d20e
   408 220D A9 04				lda #$04
   409 220F 8D 0E D2				sta $d20e
   410 				.ELSE		
   411 						inc IRQEN
   412 				.ENDIF
   413 						
   414 2212 A5 81				lda rejA
   415 2214 40					rti
   416 						
   417 = 2215			pokey1	equ *
   418 2215 85 81				sta rejA
   419 						
   420 						
   421 2217 A9 B1 8D 00 D0			mva #pozWyniki HPOSP		;1up
   422 221C A9 B9 8D 01 D0			mva #pozWyniki+8 HPOSP+1
   423 = 2222			kolor1up	equ *+1
   424 2221 A9 00 8D 12 D0			mva #0 COLPM
   425 2226 8D 13 D0				sta COLPM+1
   426 						
   427 2229 A9 45 8D FE FF A9 + 		mwa #pokey2 $fffe
   428 2233 A9 23 8D 06 D2			mva #35 AUDF4
   429 						
   430 				.IF .DEF A800		
   431 2238 A9 00				lda #$00
   432 223A 8D 0E D2				sta $d20e
   433 223D A9 04				lda #$04
   434 223F 8D 0E D2				sta $d20e
   435 				.ELSE		
   436 						inc IRQEN
   437 				.ENDIF
   438 						
   439 2242 A5 81				lda rejA
   440 2244 40					rti
   441
   442 = 2245			pokey2	equ *
   443 2245 85 81				sta rejA
   444 							
   445 2247 A9 B3 8D 00 D0			mva #pozWyniki+2 HPOSP		;score
   446 224C A9 BB 8D 01 D0			mva #pozWyniki+10 HPOSP+1
   447 2251 A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   448 2256 8D 13 D0				sta COLPM+1
   449 						
   450 2259 A9 75 8D FE FF A9 + 		mwa #pokey3 $fffe
   451 						
   452 2263 A9 64				lda #100
   453 2265 8D 06 D2				sta AUDF4
   454 						
   455 				.IF .DEF A800		
   456 2268 A9 00				lda #$00
   457 226A 8D 0E D2				sta $d20e
   458 226D A9 04				lda #$04
   459 226F 8D 0E D2				sta $d20e
   460 				.ELSE		
   461 						inc IRQEN
   462 				.ENDIF
   463 						
   464 2272 A5 81				lda rejA
   465 2274 40					rti		
   466 					
   467
   468 = 2275			pokey3	equ *
   469 2275 85 81				sta rejA
   470 							
   471 = 2278			duszek4pos	equ *+1
   472 2277 A9 FF 8D 03 D0			mva #$ff HPOSP+3
   473 						
   474 = 227D			formacja_stan equ *+1
   475 227C A9 FF				lda #$ff
   476 227E F0 04				beq @+
   477 2280 C9 05				cmp #5
   478 2282 D0 26				bne pk3a
   479 						
   480 2284 A9 B1 8D 06 D0	@		mva #pozWyniki HPOSM+2
   481 = 228A			duszek4kolor	equ *+1
   482 2289 A9 FF 8D 15 D0			mva #$ff COLPM+3
   483 					
   484 228E A9 D7 8D FE FF A9 + 		mwa #pokey4 $fffe
   485 						
   486 2298 A9 51				lda #82-1
   487 229A 8D 06 D2				sta AUDF4
   488 						
   489 				.IF .DEF A800		
   490 229D A9 00				lda #$00
   491 229F 8D 0E D2				sta $d20e
   492 22A2 A9 04				lda #$04
   493 22A4 8D 0E D2				sta $d20e
   494 				.ELSE		
   495 						inc IRQEN
   496 				.ENDIF
   497 						
   498 22A7 A5 81				lda rejA
   499 22A9 40					rti		
   500
   501 22AA A9 B0 8D 06 D0	pk3a	mva #pozWyniki-1 HPOSM+2	
   502 22AF AD DF 22				lda conditionColor	;w czasie formacji mryga czerwonym napisem
   503 22B2 8D 12 D0				sta COLPM
   504 22B5 8D 13 D0				sta COLPM+1
   505 22B8 8D 14 D0				sta COLPM+2
   506 						
   507 22BB A9 D7 8D FE FF A9 + 		mwa #pokey4 $fffe
   508 						
   509 22C5 A9 51				lda #81
   510 22C7 8D 06 D2				sta AUDF4
   511 						
   512 				.IF .DEF A800		
   513 22CA A9 00				lda #$00
   514 22CC 8D 0E D2				sta $d20e
   515 22CF A9 04				lda #$04
   516 22D1 8D 0E D2				sta $d20e
   517 				.ELSE		
   518 						inc IRQEN
   519 				.ENDIF
   520 						
   521 22D4 A5 81				lda rejA
   522 22D6 40					rti		
   523 						
   524 = 22D7			pokey4	equ *
   525 22D7 85 81				sta rejA
   526 22D9 A9 FF				lda #255			;condition napis
   527 22DB 8D 06 D2				sta AUDF4
   528 = 22DF			conditionColor	equ *+1		
   529 22DE A9 FF				lda #$ff		;conditionColor
   530 22E0 8D 13 D0				sta COLPM+1
   531 22E3 8D 14 D0				sta COLPM+2
   532 = 22E7			conditionColor1	equ *+1
   533 22E6 A9 FF				lda #$ff
   534 22E8 8D 12 D0				sta COLPM
   535 						
   536 22EB A9 02 8D FE FF A9 + 		mwa #pokey5 $fffe
   537 						
   538 				.IF .DEF A800		
   539 22F5 A9 00				lda #$00
   540 22F7 8D 0E D2				sta $d20e
   541 22FA A9 04				lda #$04
   542 22FC 8D 0E D2				sta $d20e
   543 				.ELSE		
   544 						inc IRQEN
   545 				.ENDIF
   546 							
   547 22FF A5 81				lda rejA
   548 2301 40					rti
   549 						
   550 = 2302			pokey5	equ *
   551 2302 85 81				sta rejA
   552 						
   553 						
   554 2304 AD 13 12 8D 15 D0			mva kolorMapa	COLPM+3
   555 230A A9 B0 8D 03 D0			mva #pozWyniki-1 HPOSP+3
   556 							
   557 230F A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   558 						
   559 2314 A9 14				lda #16+4
   560 2316 8D 0C D0				sta SIZEM
   561 2319 AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   562 						
   563 231F 8D 14 D0				sta COLPM+2
   564 2322 A9 C4 8D 06 D0			mva #pozWyniki+19 HPOSM+2
   565 2327 A9 C8 8D 05 D0			mva #pozWyniki+23 HPOSM+1
   566 						
   567 = 232D			radarX1	equ *+1
   568 232C A9 FF 8D 04 D0			mva #$ff HPOSM  ;pozycja statku na radarze
   569 2331 A9 01 8D 0A D0			mva #1 SIZEP+2		;przeciwnicy na radarze
   570 2336 A9 B4 8D 02 D0			mva #pozWyniki+3 HPOSP+2
   571 						
   572 						
   573 233B A9 B9				lda #185
   574 233D 8D 06 D2				sta AUDF4
   575 						
   576 2340 A9 70 8D FE FF A9 + 		mwa #pokey5a $fffe
   577 						
   578 				.IF .DEF A800		
   579 234A A9 00				lda #$00
   580 234C 8D 0E D2				sta $d20e
   581 234F A9 04				lda #$04
   582 2351 8D 0E D2				sta $d20e
   583 				.ELSE		
   584 						inc IRQEN
   585 				.ENDIF
   586 						
   587 2354 A5 24				lda startMapy
   588 2356 C9 0A				cmp #10
   589 2358 B0 0B				bcs @+		
   590 						
   591 235A A9 6C				lda #108 	;pozWyniki-1-68		;statek srodek 108
   592 235C 8D 00 D0				sta HPOSP
   593 235F 8D 01 D0				sta HPOSP+1	
   594 						
   595 2362 A5 81				lda rejA
   596 2364 40					rti
   597 						
   598 2365 A9 00 8D 00 D0	@		mva #0 HPOSP
   599 236A 8D 01 D0				sta HPOSP+1
   600 						
   601 236D A5 81				lda rejA
   602 236F 40					rti
   603 						
   604 = 2370			pokey5a	equ *
   605 2370 85 81				sta rejA
   606 						
   607 2372 A9 5C				lda #110-18
   608 2374 8D 06 D2				sta AUDF4
   609 2377 A9 8E 8D FE FF A9 + 		mwa #pokey6 $fffe
   610 						
   611 				.IF .DEF A800		
   612 2381 A9 00				lda #$00
   613 2383 8D 0E D2				sta $d20e
   614 2386 A9 04				lda #$04
   615 2388 8D 0E D2				sta $d20e
   616 				.ELSE		
   617 						inc IRQEN
   618 				.ENDIF
   619 						
   620 238B A5 81				lda rejA
   621 238D 40					rti
   622 						
   623 = 238E			pokey6	equ *
   624 238E 85 81				sta rejA
   625
   626 						
   627 2390 A9 0D 8D 12 D0			mva #$0d COLPM	
   628 2395 8D 13 D0				sta COLPM+1
   629 						
   630 2398 8D 14 D0				sta COLPM+2
   631 239B A9 00 8D 15 D0			mva #0 COLPM+3		;koniec mapy zapasowe statki
   632 						
   633 23A0 8D 0A D0				sta SIZEP+2
   634 				.IF .DEF A800
   635 23A3 8D 0E D2				sta $d20e
   636 				.ENDIF
   637 23A6 A9 55 8D 0C D0			mva #1+4+16+64 SIZEM
   638 								;zakonczenie mapy
   639 						
   640 = 23AC			poz2lives equ *+1
   641 23AB A9 FF 8D 02 D0			mva #$ff HPOSP+2		
   642 23B0 A9 FF 8D 01 D0			mva #$ff HPOSP+1
   643 23B5 A9 FF 8D 00 D0			mva #$ff HPOSP
   644 = 23BB			poz2mlives	equ *+1		
   645 23BA A9 FF 8D 06 D0			mva #$ff HPOSM+2
   646 23BF A9 FF 8D 05 D0			mva #$ff HPOSM+1
   647 23C4 A9 FF 8D 04 D0			mva #$ff HPOSM
   648 23C9 A9 11 8D 1B D0			mva #1+16 GTIACTL
   649 						
   650 23CE A9 E5 8D FE FF A9 + 		mwa #pokey7 $fffe
   651 						
   652 23D8 A9 1A				lda #26
   653 23DA 8D 06 D2				sta AUDF4
   654 						
   655 				.IF .DEF A800		
   656 23DD A9 04				lda #$04
   657 23DF 8D 0E D2				sta $d20e
   658 				.ELSE		
   659 						inc IRQEN
   660 				.ENDIF
   661 						
   662 23E2 A5 81				lda rejA
   663 23E4 40					rti
   664 							
   665
   666 					
   667 = 23E5			pokey7	equ *
   668 23E5 85 81				sta rejA
   669 						
   670 						;mwa #pokey $fffe
   671 						
   672 						
   673 23E7 A9 00				lda #$00
   674 23E9 8D 06 D2				sta AUDF4
   675 23EC 8D 0C D0				sta SIZEM
   676 23EF 8D 0E D2				sta $d20e
   677 23F2 85 1E				sta sirq
   678 						
   679 23F4 A9 01 8D 1B D0			mva #1 GTIACTL
   680 23F9 A9 B1 8D 00 D0			mva #pozWyniki HPOSP
   681 23FE A9 B9 8D 01 D0			mva #pozWyniki+8 HPOSP+1
   682 2403 A9 C1 8D 05 D0			mva #pozWyniki+16 HPOSM+1		;Round
   683 2408 A9 C3 8D 04 D0			mva #pozWyniki+18 HPOSM
   684 240D A9 C7 8D 02 D0			mva #pozWyniki+22 HPOSP+2
   685 2412 AD 16 12 8D 14 D0			mva kolorLevel COLPM+2
   686 2418 AD 14 12 8D 12 D0			mva kolorRound COLPM
   687 241E 8D 13 D0				sta COLPM+1
   688 						
   689 2421 A5 81				lda rejA
   690 2423 40					rti
   691 					
   692
   693 2424 00			formacja_typ	dta b(0)
   694 2425 00			formacja_radar	dta b(0)
   695 2426 00			formacja_maska	dta b(0)
   696 2427 00			formacja_speed	dta b(0)
   697 2428 00			czy_6enemy		dta b(0)
   698 2429 00			opoz_denemy		dta b(0) ;jak często pojawia się nowy enemy
   699 242A 00			opoz_dlosuj		dta b(0)	 ;jak czesto pojawiaja sie spy i formacja
   700 242B 00			circle			dta b(0)		;czy zaliczono wszystkie levele
   701 242C 00			kat1			dta b(0)
   702 242D 00			kat2			dta b(0)
   703 					
   704 242E 00			mryganieRadarX	dta b(0)
   705
   706 242F FF			sfx_effect	dta b(255)
   707 2430 FF			sfx_dzialko dta b(255)
   708 2431 FF			sfx_asteroid	dta b(255)
   709 2432 FF			sfx_bomba		dta b(255)
   710 2433 FF			sfx_wybuch	dta b(255)
   711 2434 FF			sfx_dead	dta b(255)
   712 2435 FF			sfx_antyair	dta b(255)
   713 2436 FF			sfx_enemyHit	dta b(255)
   714 2437 00			sfx_rakieta		dta b(0)
   715 2438 00			sfx_extra		dta b(0)
   716 2439 00			extraLicznik	dta b(0)
   717 243A 00			sfxlicznik1	dta b(0)
   718 243B 00			licznikStrzal	dta b(0)
   719 243C 00			RadarX			dta b(0)		;pozycja statku na mapie
   720 = 242F			bufore3			equ sfx_effect
   721
   722
   723 243D 00			speech	dta b(0)
   724 				;rmt_goto	equ MODUL+$65F
   725 243E 19			licznikMrygFormacja	dta b(25)
   726
   727 = 243F			sounds		equ *	
   728 243F AD 39 24		@			lda extraLicznik
   729 2442 F0 06					beq @+
   730 2444 CE 39 24					dec extraLicznik
   731 2447 4C 86 24					jmp @+3				;pomin dzwiek silnika i strzaly
   732 							
   733 244A AD 38 24		@			lda sfx_extra
   734 244D 30 17					bmi @+
   735 244F A9 1E 8D 39 24				mva #30 extraLicznik		;czas trwania
   736 2454 A2 00					ldx #0*2
   737 2456 A0 1A					ldy #13*2
   738 2458 20 71 B5					jsr add_fx
   739 245B A9 FF 8D 38 24				mva #255 sfx_extra
   740 2460 8D 2F 24					sta sfx_effect
   741 2463 4C 86 24					jmp @+2
   742
   743 2466 AD 3B 24		@			lda licznikStrzal
   744 2469 F0 0C					beq @+
   745 246B CE 3B 24					dec licznikStrzal
   746 246E D0 07					bne @+
   747 2470 A0 20					ldy #16*2			;dzwiek silnika statku
   748 2472 A2 00					ldx #0*2	
   749 2474 20 71 B5					jsr add_fx
   750
   751 2477 AC 2F 24		@			ldy sfx_effect
   752 247A 30 0A					bmi @+
   753 															;dzwiek strzalu statku
   754
   755 247C A2 00					ldx #0*2
   756 247E 20 71 B5					jsr add_fx
   757
   758 2481 A9 FF					lda #$ff
   759 2483 8D 2F 24					sta sfx_effect				
   760
   761 2486 AD 3A 24		@			lda sfxlicznik1
   762 2489 F0 03					beq @+
   763 248B CE 3A 24					dec sfxlicznik1
   764 							
   765 248E AD 7D 22		@			lda formacja_stan
   766 2491 C9 03					cmp #3
   767 2493 F0 04					beq @+
   768 2495 C9 04					cmp #4			;formacja gdy goni ma wartosc 3 lub 4
   769 2497 D0 0E					bne @+1
   770 2499 AD 3A 24		@			lda sfxlicznik1
   771 249C C9 28					cmp #40
   772 249E D0 07					bne @+
   773 24A0 A0 1C					ldy #14*2			;dzwiek alarmu, wlacz po wybuchu
   774 24A2 A2 02					ldx #1*2		
   775 24A4 20 71 B5					jsr add_fx
   776 							
   777 24A7 AC 33 24		@			ldy sfx_wybuch
   778 24AA 30 12					bmi @+
   779 							
   780 24AC A9 46 8D 3A 24				mva #70 sfxLicznik1
   781 24B1 AC 33 24					ldy sfx_wybuch
   782 24B4 A2 02					ldx #1*2
   783 24B6 20 71 B5					jsr add_fx
   784 							
   785 24B9 A9 FF					lda #$ff
   786 24BB 8D 33 24					sta sfx_wybuch
   787
   788 24BE AD 7D 22		@			lda formacja_stan			;czy aby nie ma dzwieku formacji?
   789 24C1 C9 03					cmp #3
   790 24C3 F0 2C					beq @+1
   791 24C5 C9 04					cmp #4
   792 24C7 F0 28					beq @+1
   793 							
   794 24C9 AC 37 24					ldy sfx_rakieta			
   795 24CC 30 14					bmi @+
   796 24CE AD 3A 24					lda sfxlicznik1			;jesli licznik <40 to dodaj dzwiek rakiety
   797 24D1 C9 28					cmp #40
   798 24D3 B0 0D					bcs @+
   799 							
   800 24D5 A9 27 8D 3A 24				mva #39 sfxlicznik1
   801 24DA A2 02					ldx #1*2
   802 24DC 20 71 B5					jsr add_fx
   803 24DF 4C F1 24					jmp @+1
   804 							
   805 							
   806 24E2 AC 35 24		@			ldy sfx_antyair
   807 24E5 30 12					bmi @+1 
   808 							
   809 24E7 AD 3A 24					lda sfxlicznik1
   810 24EA D0 05					bne @+
   811 							
   812 24EC A2 02					ldx #1*2						;jesli nie ma zadnych innych dzwiekow to dodaj dzwiek strzalu dzialka
   813 24EE 20 71 B5					jsr add_fx
   814 							
   815 24F1 A9 FF		@			lda #$ff
   816 24F3 8D 35 24					sta sfx_antyair
   817 24F6 8D 37 24					sta sfx_rakieta
   818 							
   819 							
   820 							
   821 24F9 AC 30 24		@			ldy sfx_dzialko		;wybuch dzialka bazy
   822 24FC 30 08					bmi @+
   823 							
   824 24FE A2 04					ldx #2*2
   825 2500 20 71 B5					jsr add_fx
   826 2503 4C 2A 25					jmp eChannel2
   827 							
   828 2506 AC 32 24		@			ldy sfx_bomba
   829 2509 30 08					bmi @+
   830 							
   831 250B A2 04					ldx #2*2
   832 250D 20 71 B5					jsr add_fx
   833 2510 4C 2A 25					jmp eChannel2			
   834 							
   835 2513 AC 36 24		@			ldy sfx_enemyHit
   836 2516 30 08					bmi @+
   837 							
   838 2518 A2 04					ldx #2*2
   839 251A 20 71 B5					jsr add_fx
   840 251D 4C 2A 25					jmp eChannel2
   841 							
   842 2520 AC 31 24		@			ldy sfx_asteroid
   843 2523 30 13					bmi @+
   844 							
   845 2525 A2 04					ldx #2*2
   846 2527 20 71 B5					jsr add_fx		
   847
   848
   849 = 252A			eChannel2	equ *
   850 252A A9 FF					lda #$ff
   851 252C 8D 31 24					sta sfx_asteroid
   852 252F 8D 36 24					sta sfx_enemyHit
   853 2532 8D 32 24					sta sfx_bomba
   854 2535 8D 30 24					sta sfx_dzialko
   855
   856 							
   857
   858
   859 2538 AC 34 24		@			ldy sfx_dead
   860 253B 30 0A					bmi @+
   861 							
   862 							
   863 253D A2 00					ldx #0*2
   864 253F 20 71 B5					jsr add_fx
   865 							
   866 2542 A9 FF					lda #$ff
   867 2544 8D 34 24					sta sfx_dead
   868 							
   869 							
   870 2547 A5 82		@			lda muzyka
   871 2549 F0 41					beq graj
   872 254B C9 01					cmp #1
   873 254D D0 1D					bne @+
   874 							
   875 254F A2 1C					ldx <(rmt_goto+$0*4)		
   876 2551 A0 6F					ldy >(rmt_goto+$0*4)
   877 2553 86 F3					stx p_song
   878 2555 84 F4					sty p_song+1
   879 2557 A9 E2 8D 01 D3				mva #BANK4 PORTB
   880 255C 20 67 B2					jsr GetSongLine
   881 255F A9 FE 8D 01 D3				mva #BANK0 PORTB
   882 2564 A9 00 8D 70 B5				mva #0 sfx
   883 2569 4C 8C 25					jmp graj
   884 							
   885
   886 256C A5 82		@			lda muzyka
   887 256E C9 02					cmp #2
   888 2570 D0 1A					bne @+
   889 							
   890 2572 A2 2C					ldx <(rmt_goto+$4*4)		;$1e=30,
   891 2574 A0 6F					ldy >(rmt_goto+$4*4)
   892 2576 86 F3					stx p_song
   893 2578 84 F4					sty p_song+1
   894 257A A9 E2 8D 01 D3				mva #BANK4 PORTB
   895 257F 20 67 B2					jsr GetSongLine
   896 2582 A9 FE 8D 01 D3				mva #BANK0 PORTB
   897 2587 A9 00 8D 70 B5				mva #0 sfx
   898 = 258C			@			equ *
   899 										
   900 258C A9 00 85 82		graj		mva #0 muzyka
   901 2590 60						rts	
   902 							
   903 				;przerwanie vblk
   904 = 2591			vblk		equ *
   905 2591 85 28					sta vblA
   906
   907 2593 E6 3F					inc zegar
   908 							
   909 2595 A5 22					lda stan_gry
   910 2597 F0 77					beq vblk1
   911 2599 C9 01					cmp #1
   912 259B D0 2E					bne @+
   913 							
   914 259D 20 20 26					jsr startPanel
   915 							
   916 25A0 AD 11 12					lda ntscf
   917 25A3 F0 0B					beq _ntsc1
   918 25A5 C6 3E					dec kolpom0
   919 25A7 D0 07					bne _ntsc1
   920 25A9 A9 06 85 3E					mva #6 kolpom0
   921 25AD 4C 10 26					jmp vblk1
   922 = 25B0			_ntsc1			equ *
   923
   924 							
   925 25B0 86 26					stx vblX
   926 25B2 84 27					sty vblY
   927 25B4 AD 01 D3					lda PORTB
   928 25B7 48						pha
   929 25B8 A9 E2 8D 01 D3				mva #BANK4 PORTB
   930 					
   931 							
   932 25BD 20 DE B3					jsr rmt_play
   933 							
   934 25C0 68						pla
   935 25C1 8D 01 D3					sta PORTB
   936 25C4 A6 26					ldx vblX
   937 25C6 A4 27					ldy vblY
   938 							
   939 25C8 4C 10 26					jmp vblk1
   940
   941 = 25CB			@			equ *
   942 25CB A5 21					lda pauza
   943 25CD D0 20					bne @+			;podczas pauzy nie odgrywaj dzwiekow
   944
   945 = 25D0			_vbsnd1		equ *+1			
   946 25CF A9 00					lda #$00		;zamiast SETPOKEY
   947 25D1 8D 00 D2					sta $d200
   948 = 25D5			_vbsnd2		equ *+1			
   949 25D4 A9 00					lda #$00
   950 25D6 8D 01 D2					sta $d201
   951 = 25DA			_vbsnd3		equ *+1			
   952 25D9 A9 00					lda #$00
   953 25DB 8D 02 D2					sta $d200+2
   954 = 25DF			_vbsnd4		equ *+1			
   955 25DE A9 00					lda #$00
   956 25E0 8D 03 D2					sta $d201+2
   957 = 25E4			_vbsnd5		equ *+1			
   958 25E3 A9 00					lda #$00
   959 25E5 8D 04 D2					sta $d200+4
   960 = 25E9			_vbsnd6		equ *+1			
   961 25E8 A9 00					lda #$00
   962 25EA 8D 05 D2					sta $d201+4
   963 							
   964 = 25EE			_vbsnd7		equ *+1			
   965 25ED A9 00					lda #$00
   966 							;sta $d208		
   967 							
   968 25EF A5 20		@			lda vblFlaga
   969 25F1 F0 1D					beq vblk1
   970 					
   971 25F3 A5 23					lda trafienie		
   972 25F5 05 24					ora startMapy
   973 25F7 D0 17					bne vblk1
   974 							
   975 25F9 68						pla
   976 25FA 85 29					sta znacznik
   977 25FC 68						pla
   978 25FD 8D 7C 26					sta vb_ad+1		;adres powrotu
   979 2600 68						pla
   980 2601 8D 7D 26					sta vb_ad+2
   981 2604 F0 0D					beq vblk2
   982 							
   983 								
   984 2606 A9 26					lda #>vb_strzal
   985 2608 48						pha
   986 2609 A9 59					lda #<vb_strzal		;adres pod ktory skoczymy po zakonczeniu przerwania
   987 260B 48						pha	
   988 260C A5 29					lda znacznik
   989 260E 48						pha					;znacznik
   990
   991 260F 40						rti					;opusc przerwanie
   992 							
   993 = 2610			vblk1		equ *
   994 							
   995 2610 A5 28					lda vblA
   996
   997 2612 40						rti
   998 							
   999 2613			vblk2			
  1000 2613 48						pha					;jeślśli vblk przerwie irq to pomin strzal
  1001 2614 AD 7C 26					lda vb_ad+1
  1002 2617 48						pha
  1003 2618 A5 29					lda znacznik
  1004 261A 48						pha
  1005 261B A5 28					lda vblA
  1006 261D C6 20					dec vblFlaga
  1007 261F 40						rti			
  1008
  1009 = 2620			startPanel	equ *
  1010 2620 A9 B1					lda #pozWyniki
  1011 2622 8D 00 D0					sta HPOSP    ;hiscore
  1012 2625 A9 B9					lda #pozWyniki+8
  1013 2627 8D 01 D0					sta HPOSP+1
  1014 262A A9 C1					lda #pozWyniki+16
  1015 262C 8D 02 D0					sta HPOSP+2
  1016 262F A9 C9					lda #pozWyniki+24
  1017 2631 8D 06 D0					sta HPOSM+2
  1018 2634 A9 CB					lda #pozWyniki+26
  1019 2636 8D 05 D0					sta HPOSM+1
  1020 2639 A9 CD					lda #pozWyniki+28
  1021 263B 8D 04 D0					sta HPOSM
  1022 263E A9 00					lda #0
  1023 2640 8D 0C D0					sta SIZEM
  1024 2643 8D 08 D0					sta SIZEP
  1025 2646 8D 09 D0					sta SIZEP+1
  1026 2649 8D 0A D0					sta SIZEP+2
  1027 							
  1028 264C AD 12 12					lda kolorCzerwony
  1029 264F 8D 12 D0					sta COLPM
  1030 2652 8D 13 D0					sta COLPM+1
  1031 2655 8D 14 D0					sta COLPM+2
  1032 2658 60						rts
  1033 							
  1034 				;wywołanie procedury podczas przerwania vblk			
  1035 = 2659			vb_strzal	equ *	
  1036 2659 08						php
  1037 265A D8						cld		
  1038 							
  1039 265B 86 26					stx vblX
  1040 265D 84 27					sty vblY
  1041 265F C6 1F					dec ramka
  1042 2661 A5 D1					lda ramka4
  1043 2663 49 04					eor #4
  1044 2665 85 D1					sta ramka4
  1045 							
  1046 2667 20 0D 2B					jsr printStrzal		
  1047 							
  1048 266A E6 1F					inc ramka
  1049 266C A5 D1					lda ramka4
  1050 266E 49 04					eor #4
  1051 2670 85 D1					sta ramka4
  1052 							
  1053 2672 C6 20					dec vblFlaga
  1054 							
  1055 2674 A6 26					ldx vblX		;przywroc rejestry i znaczniki
  1056 2676 A4 27					ldy vblY
  1057 2678 A5 28					lda vblA
  1058 267A 28						plp
  1059 267B 4C FF FF		vb_ad		jmp $ffff
  1060
  1061
  1062 267E 00 E2 32 B2 00 82	panelTab	dta b(0,$e2,$32,$b2,$00,$82)		
  1063 						
  1064 						
  1065 2684 74 79 75 7B 00 00 + playerNapis2	dta b(116,121,117,123,0,0,125,118,123,124)
  1066
  1067 = 268E			zmaz_radar	equ *
  1068 268E A4 D4				ldy rads		;wymaz pozycje statku/formacji na radarze
  1069 2690 B9 64 1B				lda sprites+$300+startWyniki+84,y
  1070 2693 29 FC				and #%11111100
  1071 2695 99 64 1B				sta sprites+$300+startWyniki+84,y
  1072 2698 B9 65 1B				lda sprites+$300+startWyniki+84+1,y
  1073 269B 29 FC				and #%11111100
  1074 269D 99 65 1B				sta sprites+$300+startWyniki+84+1,y
  1075 26A0 B9 66 1B				lda sprites+$300+startWyniki+84+2,y		;dodatkowe 2 punkty zmazujemy po formacji
  1076 26A3 29 FC				and #%11111100
  1077 26A5 99 66 1B				sta sprites+$300+startWyniki+84+2,y
  1078 26A8 60					rts
  1079 						
  1080 = 26A9			game_over	equ *
  1081 26A9 A9 00 85 22				mva #0 stan_gry		;nie graj dzwiekow
  1082 26AD 8D 01 D2				sta AUDC1
  1083 26B0 8D 03 D2				sta AUDC2
  1084 26B3 8D 05 D2				sta AUDC3
  1085 						
  1086 26B6 20 BD 3A				jsr sumaPunkty		;dodaj i wyświetl punkty jeśli gra nie zdążyła dodać
  1087 26B9 AD BC 3A				lda scoreZmiana
  1088 26BC D0 06				bne @+
  1089 26BE 20 12 3B				jsr piszScore1		
  1090 26C1 20 B2 3B				jsr czyHscore
  1091 = 26C4			@		equ *
  1092 						
  1093 26C4 20 68 9F				jsr livesRedOff
  1094 						
  1095 26C7 A9 00 8D 3A 24			mva #0 sfxlicznik1
  1096
  1097 26CC A2 68		@		ldx #104		;12znakow
  1098 26CE BD 66 3F		@		lda player1chars-1,x
  1099 26D1 9D 97 BB				sta znaki1-1+115*8,x
  1100 26D4 9D 97 BF				sta znaki2-1+115*8,x
  1101 26D7 CA					dex
  1102 26D8 D0 F4				bne @-
  1103 						
  1104 26DA A2 09				ldx #9
  1105 26DC BD 84 26		@		lda playerNapis2,x
  1106 26DF F0 08				beq @+
  1107 26E1 09 80				ora #128
  1108 26E3 9D 33 06				sta obraz1+11+14*48,x
  1109 26E6 9D 2B 0D				sta obraz2+11+14*48,x
  1110 26E9 CA			@		dex
  1111 26EA 10 F0				bpl @-1
  1112 				;sampel	
  1113 26EC 20 21 28				jsr waitvbl
  1114 						;mva #58 DMACTL
  1115 						
  1116 26EF A0 14				ldy #20
  1117 26F1 20 18 28				jsr wait
  1118 						
  1119 					
  1120 26F4 AD 9A CF 85 94 AD + 		mwa sample+2 sam		;poczatek sampla	
  1121 26FE AD 02 E1 85 87			mva sample2adr probka+1
  1122 						
  1123 2703 A9 40 8D 0E D4			mva #%01000000 NMIEN
  1124 2708 A9 01 85 D5				mva #1 powtorz		;wlaczony sampel
  1125 270C A9 04 85 D0				mva #4 rodzajSpeech
  1126 						
  1127 2710 20 1F 65				jsr schowaj_duszki
  1128 						
  1129 2713 A9 84 8D FE FF A9 + 		mwa #pok0 $fffe		;nowy wektor przerwania
  1130 						
  1131 271D A9 0F 8D 06 D2			mva #15 AUDF4		;jak czesto wywolujemy przerwanie, 64khz/16 = 4khz
  1132 						
  1133 2722 A9 00 8D 0E D2			mva #0 IRQEN
  1134 2727 A9 04 85 1E				mva #4 sirq
  1135 272B 8D 0E D2				sta IRQEN
  1136 						
  1137 272E A4 3F				ldy zegar
  1138 2730 C4 3F		@		cpy zegar
  1139 2732 F0 12				beq @+
  1140 2734 A4 3F				ldy zegar
  1141 						
  1142 2736 A5 CF				lda kolorPanel
  1143 2738 69 01				adc #1
  1144 273A 29 0F				and #%1111
  1145 273C 85 CF				sta kolorPanel
  1146 273E A6 D0				ldx rodzajSpeech
  1147 2740 1D 7E 26				ora panelTab,x
  1148 2743 8D 14 D0				sta COLPM+2 
  1149 						
  1150 2746 A5 1E		@		lda sirq
  1151 2748 D0 E6				bne @-1
  1152 						
  1153 274A 20 21 28				jsr waitvbl
  1154 274D A9 00 8D 00 D4			mva #0 DMACTL
  1155 						
  1156 2752 A2 0F				ldx #15
  1157 2754 A9 00				lda #0
  1158 2756 9D 60 FE		@		sta sprites1+$660,x
  1159 2759 CA					dex
  1160 275A 10 FA				bpl @-
  1161 						
  1162 							
  1163 275C 8D 7D 22		@		sta formacja_stan		;A=0
  1164 275F 20 B2 6C				jsr pokaz_duszki
  1165 							
  1166 2762 68			@		pla		;usuwamy adres powrotu po jsr PrintShip
  1167 2763 68					pla
  1168 						
  1169 2764 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1170 2769 4C 50 4B				jmp gameover1
  1171
  1172
  1173 276C 41 5B 5E 00		hscNick1	dta c'A',b(91),b(94,0)
  1174 2770 54 5B 60 00		hscNick2	dta c'T',b(91),b(96,0)
  1175 2774 41 5B 5D 00		hscNick3	dta c'A',b(91),b(93,0)
  1176 2778 52 5B 58 00		hscNick4	dta c'R',b(91),c'X',b(0)
  1177 277C 49 5B 45 00		hscNick5	dta c'I',b(91),c'E',b(0)	
  1178 2780 00 20 00 02		hscScore1	dta b($00,$20,$00),(2)	
  1179 2784 00 20 00 02		hscScore2	dta b($00,$20,$00),(2)
  1180 2788 00 20 00 02		hscScore3	dta b($00,$20,$00),(2)
  1181 278C 00 20 00 02		hscScore4	dta b($00,$20,$00),(2)
  1182 2790 00 20 00 02		hscScore5	dta b($00,$20,$00),(2)
  1183
  1184
  1185 				;inicjuje efekty dzwiekowe
  1186 = 2794			init_fx	equ *
  1187 2794 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1188 2799 A2 00				ldx #<MODUL					;low byte of RMT module to X reg
  1189 279B A0 61				ldy #>MODUL					;hi byte of RMT module to Y reg
  1190 279D A9 02				lda #2						;starting song line 0-255 to A reg 	
  1191 279F 20 00 B2				jsr RASTERMUSICTRACKER
  1192 27A2 A9 FE 8D 01 D3			mva #BANK0 PORTB
  1193 27A7 60					rts
  1194 						
  1195 = 27A8			playFX	equ *		;dodaje fx'y do kolejki
  1196 27A8 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1197
  1198 						
  1199 27AD 20 E1 B3				jsr RMT_P2
  1200 						
  1201 27B0 AD 44 AF				lda trackn_audf+0		;zamiast SETPOKEY
  1202 27B3 8D D0 25				sta _vbsnd1
  1203 27B6 AD 48 AF				lda trackn_audc+0
  1204 27B9 8D D5 25				sta _vbsnd2
  1205 27BC AD 45 AF				lda trackn_audf+1	
  1206 27BF 8D DA 25				sta _vbsnd3
  1207 27C2 AD 49 AF				lda trackn_audc+1
  1208 27C5 8D DF 25				sta _vbsnd4
  1209 27C8 AD 46 AF				lda trackn_audf+2
  1210 27CB 8D E4 25				sta _vbsnd5
  1211 27CE AD 4A AF				lda trackn_audc+2
  1212 27D1 8D E9 25				sta _vbsnd6
  1213 							
  1214 						;lda v_audctl
  1215 						;sta _vbsnd7	 
  1216 							
  1217 27D4 A9 FE 8D 01 D3			mva #BANK0 PORTB
  1218 27D9 60					rts
  1219 						
  1220 = 27DA			cisza	equ *
  1221 27DA D0 08				bne @+
  1222 27DC A2 02				ldx #1*2			;graj formacje
  1223 27DE A0 1C				ldy #2*14
  1224 27E0 20 71 B5				jsr add_fx
  1225 27E3 60					rts
  1226 						
  1227 27E4 A9 00		@		lda #0				;wycisz formacje
  1228 27E6 8D 66 B5				sta kanal2
  1229 27E9 8D 03 D2				sta AUDC2
  1230 27EC 8D DF 25				sta _vbsnd4
  1231 27EF 60					rts
  1232 						
  1233 27F0 A2 E2 8E 01 D3			mvx #BANK4 PORTB
  1234 27F5 A0 1C				ldy #14*2		;wycisz alarm formacji A=128 i wlacz A=0
  1235 27F7 A2 01				ldx #1
  1236 27F9 20 0F B2				jsr RASTERMUSICTRACKER+15
  1237 27FC A2 FE 8E 01 D3			mvx #BANK0 PORTB
  1238 2801 60					rts
  1239 						
  1240 = 2802			mute	equ *	
  1241
  1242 2802 A2 E2 8E 01 D3			mvx #BANK4 PORTB
  1243 2807 A2 24				ldx <(rmt_goto+$02*4)		
  1244 2809 A0 6F				ldy >(rmt_goto+$02*4)
  1245 280B 86 F3				stx p_song
  1246 280D 84 F4				sty p_song+1
  1247 280F 20 67 B2				jsr GetSongLine				
  1248 2812 A2 FE 8E 01 D3			mvx #BANK0 PORTB
  1249 2817 60					rts
  1250 						
  1251 = 2818			wait	equ *	;czas w Y
  1252 2818 98					tya
  1253 2819 18					clc
  1254 281A 65 3F				adc zegar
  1255 281C C5 3F		@		cmp zegar
  1256 281E D0 FC				bne @-
  1257 2820 60					rts
  1258 						
  1259 = 2821			waitvbl	equ *
  1260 2821 A5 3F				lda zegar
  1261 2823 C5 3F		@		cmp zegar
  1262 2825 F0 FC				beq @-
  1263 2827 60					rts
  1264 						
  1265 = 2828			matrixOn	equ *
  1266 2828 20 21 28				jsr waitvbl
  1267 282B A9 00 8D 00 D4			mva #0 DMACTL
  1268 2830 A9 E6 8D 01 D3			mva #BANK3 PORTB
  1269 2835 20 29 65				jsr printDataMatrix
  1270 2838 20 21 28				jsr waitvbl
  1271 283B A9 00 8D 00 D4			mva #0 DMACTL
  1272 2840 A9 03 8D 1D D0			mva #3 PMCTL
  1273 						
  1274 2845 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1275 284A 4C 78 4D				jmp Title
  1276 						
  1277 						
  1278 						
   317 							
   318 284D						icl 'bszczaly.asm'
Source: bszczaly.asm
     1 284D 00			opoznienieFire dta b(0)
     2 284E 01			sFire		dta b(1)
     3 = 0002			STRZALSPEED	equ 2
     4
     5 = 284F			pushFire		equ *
     6 284F A5 1A 85 1D					mva movY movYs
     7 							
     8 2853 AD 4D 28					lda opoznienieFire
     9 2856 30 05					bmi @+
    10 2858 CE 4D 28					dec opoznienieFire
    11 285B 10 0F					bpl @+1
    12 						
    13 285D AD 10 D0		@			lda FIRE
    14 2860 D0 0A					bne @+
    15 2862 4C 82 28					jmp dodajStrzal
    16 2865 A9 08 8D 4D 28	pf0			mva #8 opoznienieFire
    17 286A D0 0F					bne pf1
    18 							
    19 286C AD 10 D0		@			lda FIRE
    20 286F F0 0A					beq pf1
    21 2871 CD 4E 28					cmp sFIRE
    22 2874 F0 05					beq pf1
    23 2876 A9 00 8D 4D 28				mva #0 opoznienieFire
    24 							
    25 287B AD 10 D0 8D 4E 28	pf1			mva FIRE sFIRE
    26 2881 60						rts
    27
    28 = 2882			dodajStrzal		equ *
    29 2882 A2 00					ldx #0
    30 2884 BD 00 01					lda strzal,x
    31 2887 1D 01 01					ora strzal+1,x
    32 288A F0 0A					beq @+
    33 288C A2 02					ldx #2
    34 288E BD 00 01					lda strzal,x
    35 2891 1D 01 01					ora strzal+1,x
    36 2894 D0 CF					bne pf0			
    37 							
    38 2896 A9 0C 8D 2F 24	@			mva #6*2	sfx_effect
    39 289B A9 0C 8D 3B 24				mva #12 licznikStrzal		;dlugosc dzwieku strzalu
    40 28A0 A4 D6					ldy	sJoy
    41 28A2 D0 02					bne @+
    42 28A4 A0 01					ldy #1	;jesli nie poruszono jeszcze joystickiem to wybierz gore
    43 28A6 B9 B5 28		@			lda strzalTab5,y
    44 28A9 8D B3 28					sta _strzalJump0+1
    45 28AC B9 C0 28					lda strzalTab5+11,y
    46 28AF 8D B4 28					sta _strzalJump0+2
    47 							
    48 = 28B2			_strzalJump0	equ *
    49 28B2 4C FF FF					jmp $ffff
    50 							
    51 28B5 39 19 19 39 3C F2 + strzalTab5	dta b(<_rts,<goraDol,<goraDol,<_rts,<lewoPrawo,<skos1,<skos2,<_rts,<lewoPrawo,<skos2,<skos1)
    52 28C0 29 29 29 29 29 28 + 			dta b(>_rts,>goraDol,>goraDol,>_rts,>lewoPrawo,>skos1,>skos2,>_rts,>lewoPrawo,>skos2,>skos1)
    53 							
    54 				;prawoGora i lewoDol
    55 = 28CB			skos2		equ *
    56 28CB A9 01 9D 00 01				mva #1 strzal,x
    57 28D0 9D 01 01					sta strzal+1,x
    58 							
    59 28D3 A9 03 9D 24 01				mva #3 strzalKierunek,x
    60 28D8 9D 25 01					sta strzalKierunek+1,x	
    61
    62 28DB A9 43 9D 04 01				mva #17*4-1 strzalX,x
    63 28E0 A9 34 9D 30 01				mva #13*4 strzalY,x
    64 							
    65 28E5 A9 3B 9D 05 01				mva #15*4-1 strzalX+1,x
    66 28EA A9 3C 9D 31 01				mva #15*4 strzalY+1,x
    67 							
    68 28EF 4C 65 28					jmp pf0
    69 							
    70 				;LewoGora i prawoDol
    71 = 28F2			skos1		equ *
    72 28F2 A9 01 9D 00 01				mva #1 strzal,x
    73 28F7 9D 01 01					sta strzal+1,x
    74 							
    75 28FA A9 02 9D 24 01				mva #2 strzalKierunek,x
    76 28FF 9D 25 01					sta strzalKierunek+1,x
    77 							
    78 2902 A9 3C 9D 04 01				mva #15*4 strzalX,x
    79 2907 A9 34 9D 30 01				mva #13*4 strzalY,x
    80 							
    81 290C A9 44 9D 05 01				mva #17*4 strzalX+1,x
    82 2911 A9 3C 9D 31 01				mva #15*4 strzalY+1,x
    83 							
    84 2916 4C 65 28					jmp pf0
    85 							
    86 				;strzaly poruszaja sie w gore i dol			
    87 = 2919			goraDol		equ *
    88 2919 A9 01 9D 00 01				mva #1 strzal,x
    89 291E 9D 01 01					sta strzal+1,x
    90 							
    91 2921 9D 24 01					sta strzalKierunek,x
    92 2924 9D 25 01					sta strzalKierunek+1,x
    93 							
    94 2927 A9 3F 9D 04 01				mva #16*4-1 strzalX,x
    95 292C 9D 05 01					sta strzalX+1,x
    96 							
    97 292F A9 33 9D 30 01				mva #12*4+3 strzalY,x
    98 2934 A9 3D 9D 31 01				mva #15*4+1 strzalY+1,x
    99 							
   100 2939 4C 65 28		_rts		jmp pf0	
   101
   102 				;strzaly poruszają się w prawo i w lewo			
   103 = 293C			lewoPrawo	equ *
   104 293C A9 01 9D 00 01				mva #1 strzal,x
   105 2941 9D 01 01					sta strzal+1,x
   106
   107 2944 A9 00 9D 24 01				mva #0 strzalKierunek,x
   108 2949 9D 25 01					sta strzalKierunek+1,x
   109 							
   110 294C A9 3B 9D 04 01				mva #15*4-1 strzalX,x
   111 2951 A9 45 9D 05 01				mva #17*4+1 strzalX+1,x
   112 							
   113 2956 A9 38 9D 30 01				mva #14*4 strzalY,x
   114 295B 9D 31 01					sta strzalY+1,x
   115 							
   116 295E 4C 65 28					jmp pf0
   117
   118 				;poruszaj strzalami			
   119 = 2961			movestrzal	equ *
   120 2961 A2 02					ldx #2
   121 2963 BD 00 01		@			lda strzal,x
   122 2966 1D 01 01					ora strzal+1,x
   123 2969 F0 12					beq mst1
   124 296B BC 24 01					ldy strzalKierunek,x
   125 296E B9 82 29					lda strzalTab1,y
   126 2971 8D 7B 29					sta _strzalJump+1
   127 2974 B9 86 29					lda strzalTab1+4,y
   128 2977 8D 7C 29					sta _strzalJump+2
   129 297A 4C FF FF		_strzalJump	jmp $ffff
   130 297D CA			mst1		dex
   131 297E CA						dex
   132 297F 10 E2					bpl @-
   133 							
   134 2981 60						rts
   135
   136 2982 37 08 C9 8A		strzalTab1	dta b(<moveStrzalLP,<moveStrzalGD,<moveStrzalSkos1,<moveStrzalSkos2)
   137 2986 2A 2A 29 29					dta b(>moveStrzalLP,>moveStrzalGD,>moveStrzalSkos1,>moveStrzalSkos2)
   138
   139
   140 				;prawoGora i lewoDol
   141 = 298A			moveStrzalSkos2	equ *
   142 298A BD 00 01					lda strzal,x
   143 298D F0 18					beq @+
   144 298F 18						clc
   145 2990 BD 04 01					lda strzalX,x
   146 2993 69 02					adc #STRZALSPEED
   147 2995 9D 04 01					sta strzalX,x
   148 							;sec
   149 2998 BD 30 01					lda strzalY,x
   150 299B E9 01					sbc #STRZALSPEED-1
   151 299D 9D 30 01					sta strzalY,x
   152 29A0 10 05					bpl @+
   153 29A2 A9 00 9D 00 01				mva #0 strzal,x
   154 							
   155 29A7 BD 01 01		@			lda strzal+1,x
   156 29AA F0 1A					beq @+
   157 29AC 38						sec
   158 29AD BD 05 01					lda strzalX+1,x
   159 29B0 E9 02					sbc #STRZALSPEED
   160 29B2 9D 05 01					sta strzalX+1,x
   161 							;clc
   162 29B5 BD 31 01					lda strzalY+1,x
   163 29B8 69 01					adc #STRZALSPEED-1
   164 29BA 9D 31 01					sta strzalY+1,x
   165 29BD C9 70					cmp #112
   166 29BF 90 05					bcc @+
   167 29C1 A9 00 9D 01 01				mva #0 strzal+1,x
   168 										
   169 29C6 4C 7D 29		@			jmp mst1
   170 							
   171 				;lewoGora i PrawoDol
   172 = 29C9			moveStrzalSkos1	equ *
   173 29C9 BD 00 01					lda strzal,x
   174 29CC F0 18					beq @+
   175 29CE 38						sec
   176 29CF BD 04 01					lda strzalX,x
   177 29D2 E9 02					sbc #STRZALSPEED
   178 29D4 9D 04 01					sta strzalX,x
   179 29D7 BD 30 01					lda strzalY,x
   180 29DA E9 02					sbc #STRZALSPEED
   181 29DC 9D 30 01					sta strzalY,x
   182 29DF 10 05					bpl @+
   183 29E1 A9 00 9D 00 01				mva #0 strzal,x
   184 							
   185 29E6 BD 01 01		@			lda strzal+1,x
   186 29E9 F0 1A					beq @+
   187 29EB 18						clc
   188 29EC BD 05 01					lda strzalX+1,x
   189 29EF 69 02					adc #STRZALSPEED
   190 29F1 9D 05 01					sta strzalX+1,x
   191 29F4 BD 31 01					lda strzalY+1,x
   192 29F7 69 02					adc #STRZALSPEED
   193 29F9 9D 31 01					sta strzalY+1,x
   194 29FC C9 70					cmp #112
   195 29FE 90 05					bcc @+
   196 2A00 A9 00 9D 01 01				mva #0 strzal+1,x
   197 							
   198 2A05 4C 7D 29		@			jmp mst1
   199
   200 				;os pionowa
   201 = 2A08			moveStrzalGD	equ *
   202 2A08 BD 00 01					lda strzal,x
   203 2A0B F0 10					beq @+
   204 2A0D 38						sec
   205 2A0E BD 30 01					lda strzalY,x
   206 2A11 E9 02					sbc #STRZALSPEED
   207 2A13 9D 30 01					sta strzalY,x
   208 2A16 10 05					bpl @+
   209 2A18 A9 00 9D 00 01				mva #0 strzal,x
   210 							
   211 2A1D BD 01 01		@			lda strzal+1,x
   212 2A20 F0 12					beq @+
   213 2A22 18						clc
   214 2A23 BD 31 01					lda strzalY+1,x
   215 2A26 69 02					adc #STRZALSPEED
   216 2A28 9D 31 01					sta strzalY+1,x
   217 2A2B C9 70					cmp #112
   218 2A2D 90 05					bcc @+
   219 2A2F A9 00 9D 01 01				mva #0 strzal+1,x
   220 							
   221 2A34 4C 7D 29		@			jmp mst1
   222 							
   223 				;os pozioma			
   224 = 2A37			moveStrzalLP	equ *
   225 2A37 BD 00 01					lda strzal,x
   226 2A3A F0 10					beq @+
   227 2A3C 38						sec
   228 2A3D BD 04 01					lda strzalX,x
   229 2A40 E9 02					sbc #STRZALSPEED
   230 2A42 9D 04 01					sta strzalX,x
   231 2A45 10 05					bpl @+
   232 2A47 A9 00 9D 00 01				mva #0 strzal,x
   233 							
   234 2A4C BD 01 01		@			lda strzal+1,x
   235 2A4F F0 10					beq @+
   236 2A51 18						clc
   237 2A52 BD 05 01					lda strzalX+1,x
   238 2A55 69 02					adc #STRZALSPEED
   239 2A57 9D 05 01					sta strzalX+1,x
   240 2A5A 10 05					bpl @+
   241 2A5C A9 00 9D 01 01				mva #0 strzal+1,x
   242 						
   243 2A61 4C 7D 29		@			jmp mst1
   244
   245
   246 2A64 00 00 00 00		zmazTab		dta b(0,0,0,0)
   247 2A68 00 00 00 00					dta b(0,0,0,0)
   248 							
   249 				;obliczamy obecną pozycję X,Y pocisku (X1,Y1)
   250 = 2A6C			obliczStrzalXY2	equ *
   251 2A6C A2 03					ldx #3
   252 							
   253 2A6E BD 00 01		@			lda strzal,x
   254 2A71 F0 2C					beq @+
   255 							
   256 2A73 BD 04 01					lda strzalX,x
   257 							;clc
   258 2A76 38						sec
   259 2A77 65 1B					adc movX0
   260 							
   261 2A79 9D 10 01					sta strzalX3,x	;pozycja z poprawka przesuniecia obrazu
   262 2A7C 29 03					and #%11
   263 2A7E 9D 34 01					sta strzalXbit,x
   264 2A81 BD 10 01					lda strzalX3,x
   265 2A84 4A						lsr @
   266 2A85 4A						lsr @
   267 2A86 9D 0C 01					sta strzalX2,x
   268 							
   269 2A89 18						clc
   270 2A8A A5 1C					lda movY0
   271 2A8C 7D 30 01					adc strzalY,x
   272 2A8F 9D 1C 01					sta strzalY3,x	;pozycja z poprawka przesuniecia obrazu
   273 2A92 29 03					and #%11
   274 2A94 9D 20 01					sta strzalYbit,x
   275 2A97 BD 1C 01					lda strzalY3,x
   276 2A9A 4A						lsr @
   277 2A9B 4A						lsr @
   278 2A9C 9D 18 01					sta strzalY2,x
   279 							
   280 2A9F CA			@			dex
   281 2AA0 10 CC					bpl @-1
   282 2AA2 60						rts
   283 							
   284 = 2AA3			locateStrzal1	equ *
   285 2AA3 A2 03					ldx #3
   286 2AA5 BD 00 01		@			lda strzal,x
   287 2AA8 F0 2A					beq @+
   288 							
   289 2AAA BC 18 01					ldy strzalY2,x
   290 							
   291 2AAD 18						clc
   292 2AAE B9 00 18					lda obraz1L,y
   293 2AB1 7D 0C 01					adc strzalX2,x
   294 2AB4 85 6B					sta pom1
   295 2AB6 B9 1D 18					lda obraz1H,y
   296 2AB9 69 00					adc #0
   297 2ABB 85 6C					sta pom1+1
   298 							
   299 2ABD A0 00					ldy #0	
   300 2ABF B1 6B					lda (pom1),y
   301 2AC1 9D 2C 01					sta strzalTlo1,x		;do zmazania 
   302 2AC4 29 7F					and #127
   303 2AC6 C9 41					cmp #firstStrzalChar
   304 2AC8 90 0A					bcc @+
   305 2ACA C9 45					cmp #firstPociskChar
   306 2ACC B0 06					bcs @+
   307 2ACE BD 28 01					lda strzalTlo,x			;ta sama pozycja co ostatnio
   308 2AD1 9D 2C 01					sta strzalTLo1,x
   309 							
   310 2AD4 CA			@			dex
   311 2AD5 10 CE					bpl @-1
   312 2AD7 60						rts
   313 							
   314 = 2AD8			locateStrzal2	equ *
   315 2AD8 A2 03					ldx #3
   316 2ADA BD 00 01		@			lda strzal,x
   317 2ADD F0 2A					beq @+
   318 							
   319 2ADF BC 18 01					ldy strzalY2,x
   320 							
   321 2AE2 18						clc
   322 2AE3 B9 3A 18					lda obraz2L,y
   323 2AE6 7D 0C 01					adc strzalX2,x
   324 2AE9 85 6B					sta pom1
   325 2AEB B9 57 18					lda obraz2H,y
   326 2AEE 69 00					adc #0
   327 2AF0 85 6C					sta pom1+1	
   328 							
   329 2AF2 A0 00					ldy #0	
   330 2AF4 B1 6B					lda (pom1),y
   331 2AF6 9D 2C 01					sta strzalTlo1,x		;do zmazania 
   332 2AF9 29 7F					and #127
   333 2AFB C9 41					cmp #firstStrzalChar
   334 2AFD 90 0A					bcc @+
   335 2AFF C9 45					cmp #firstPociskChar
   336 2B01 B0 06					bcs @+
   337 2B03 BD 28 01					lda strzalTlo,x			;ta sama pozycja co ostatnio
   338 2B06 9D 2C 01					sta strzalTLo1,x
   339 							
   340 2B09 CA			@			dex
   341 2B0A 10 CE					bpl @-1
   342 2B0C 60						rts
   343
   344 							
   345 				;obliczenia ktore powtarzaja sie podczas rysowania pociskow	
   346 				OBLICZSTRZAL	.macro		
   347 				;obliczStrzal	equ *
   348 							lda strzalXbit,x
   349 							tay
   350 							lda strzalTab6,y
   351 							sta strz0b		;ora
   352 							
   353 							ldy strzalY2,x
   354 							
   355 							lda ramka
   356 							bne @+
   357 							
   358 							clc
   359 							lda obraz1L,y
   360 							adc strzalX2,x
   361 							sta strz1
   362 							sta zmazTab,x
   363 							lda obraz1H,y
   364 							adc #0
   365 							sta strz1+1
   366 							sta zmazTab+4,x
   367 							jmp @+1		;skok bezwarunkowy
   368 							
   369 				@			clc
   370 							lda obraz2L,y
   371 							adc strzalX2,x
   372 							sta strz1
   373 							sta zmazTab,x
   374 							lda obraz2H,y
   375 							adc #0
   376 							sta strz1+1	
   377 							sta zmazTab+4,x
   378 							
   379 				@			ldy #0	
   380 							lda (strz1),y
   381 							sta strzalTlo,x		;do zmazania 
   382 							tay
   383 							and #127	
   384 							cmp #3		;czy znak zerowy ?
   385 							bcs @+
   386 						
   387 				mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
   388 							lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
   389 							ldy #0
   390 							sta (strz1),y
   391 							tay
   392 							lda adresZnakL,y
   393 							sta strz1
   394 							
   395 							lda adresZnakH,y
   396 							ora ramka4
   397 							sta strz1+1
   398 							lda strzalYbit,x
   399 							ora #4
   400 							
   401 							jmp @+1	;jmp
   402 							
   403 							
   404 				@			tya
   405 							and #128
   406 							ora strzalTab0,x
   407 							tax
   408 							
   409 							lda adresZnakL,y	;nr znaku pod pociskiem
   410 							sta strz
   411 							lda adresZnakH,y
   412 							ora ramka4
   413 							sta strz+1
   414 							
   415 							ldy #0
   416 							txa
   417 							sta (strz1),y
   418 							lda adresZnakL,x
   419 							sta strz1
   420 							
   421 							lda adresZnakH,x
   422 							ora ramka4
   423 							sta strz1+1			
   424 							
   425 				.endm		
   426 				;narysuj strzaly na ekranie, albo je usun(poza ekranem)			
   427 = 2B0D			printStrzal	equ *
   428 2B0D A2 03					ldx #3
   429 2B0F BD 00 01		@			lda strzal,x
   430 2B12 F0 18					beq @+
   431 2B14 BC 24 01					ldy strzalKierunek,x
   432 2B17 84 7F					sty strz0f
   433 2B19 B9 30 2B					lda strzalTab2,y
   434 2B1C 8D 28 2B					sta _strzalJump1+1
   435 2B1F B9 34 2B					lda strzalTab2+4,y
   436 2B22 8D 29 2B					sta _strzalJump1+2
   437 							
   438 2B25 86 7D					stx strz0d
   439 = 2B27			_strzalJump1	equ *
   440 2B27 4C FF FF					jmp $ffff
   441 2B2A A6 7D		pst1		ldx strz0d
   442 2B2C CA			@			dex
   443 2B2D 10 E0					bpl @-1
   444 							
   445 2B2F 60						rts
   446
   447 2B30 21 43 3C 3C		strzalTab2	dta b(<printStrzalLP,<printStrzalGD,<printStrzalSkos1,<printStrzalSkos1)
   448 2B34 2E 2F 2B 2B					dta b(>printStrzalLP,>printStrzalGD,>printStrzalSkos1,>printStrzalSkos1)
   449
   450 2B38 41 42 43 44		strzalTab0		:4 dta b(firstStrzalChar+#)
   451
   452 				;strzaly lewoGora i prawoDol
   453 = 2B3C			printStrzalSkos1	equ *
   454 2B3C A5 20					lda vblFlaga
   455 2B3E F0 11					beq @+
   456 							
   457 2B40 A0 00					ldy #0
   458 2B42 BD 64 2A					lda zmazTab,x
   459 2B45 85 75					sta strz
   460 2B47 BD 68 2A					lda zmazTab+4,x
   461 2B4A 85 76					sta strz+1
   462 2B4C BD 28 01					lda strzalTlo,x
   463 2B4F 91 75					sta (strz),y
   464 							
   465 2B51			@			OBLICZSTRZAL ;jsr obliczStrzal
Macro: OBLICZSTRZAL [Source: bszczaly.asm]
     2 2B51 BD 34 01					lda strzalXbit,x
     3 2B54 A8						tay
     4 2B55 B9 3B 2F					lda strzalTab6,y
     5 2B58 85 7B					sta strz0b		;ora
     7 2B5A BC 18 01					ldy strzalY2,x
     9 2B5D A5 1F					lda ramka
    10 2B5F D0 19					bne @+
    12 2B61 18						clc
    13 2B62 B9 00 18					lda obraz1L,y
    14 2B65 7D 0C 01					adc strzalX2,x
    15 2B68 85 77					sta strz1
    16 2B6A 9D 64 2A					sta zmazTab,x
    17 2B6D B9 1D 18					lda obraz1H,y
    18 2B70 69 00					adc #0
    19 2B72 85 78					sta strz1+1
    20 2B74 9D 68 2A					sta zmazTab+4,x
    21 2B77 4C 90 2B					jmp @+1		;skok bezwarunkowy
    23 2B7A 18			@			clc
    24 2B7B B9 3A 18					lda obraz2L,y
    25 2B7E 7D 0C 01					adc strzalX2,x
    26 2B81 85 77					sta strz1
    27 2B83 9D 64 2A					sta zmazTab,x
    28 2B86 B9 57 18					lda obraz2H,y
    29 2B89 69 00					adc #0
    30 2B8B 85 78					sta strz1+1	
    31 2B8D 9D 68 2A					sta zmazTab+4,x
    33 2B90 A0 00		@			ldy #0	
    34 2B92 B1 77					lda (strz1),y
    35 2B94 9D 28 01					sta strzalTlo,x		;do zmazania 
    36 2B97 A8						tay
    37 2B98 29 7F					and #127	
    38 2B9A C9 03					cmp #3		;czy znak zerowy ?
    39 2B9C B0 20					bcs @+
    41 2B9E A9 04 85 7C		mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
    42 2BA2 BD 38 2B					lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
    43 2BA5 A0 00					ldy #0
    44 2BA7 91 77					sta (strz1),y
    45 2BA9 A8						tay
    46 2BAA B9 00 15					lda adresZnakL,y
    47 2BAD 85 77					sta strz1
    49 2BAF B9 00 16					lda adresZnakH,y
    50 2BB2 05 D1					ora ramka4
    51 2BB4 85 78					sta strz1+1
    52 2BB6 BD 20 01					lda strzalYbit,x
    53 2BB9 09 04					ora #4
    55 2BBB 4C E7 2B					jmp @+1	;jmp
    58 2BBE 98			@			tya
    59 2BBF 29 80					and #128
    60 2BC1 1D 38 2B					ora strzalTab0,x
    61 2BC4 AA						tax
    63 2BC5 B9 00 15					lda adresZnakL,y	;nr znaku pod pociskiem
    64 2BC8 85 75					sta strz
    65 2BCA B9 00 16					lda adresZnakH,y
    66 2BCD 05 D1					ora ramka4
    67 2BCF 85 76					sta strz+1
    69 2BD1 A0 00					ldy #0
    70 2BD3 8A						txa
    71 2BD4 91 77					sta (strz1),y
    72 2BD6 BD 00 15					lda adresZnakL,x
    73 2BD9 85 77					sta strz1
    75 2BDB BD 00 16					lda adresZnakH,x
    76 2BDE 05 D1					ora ramka4
    77 2BE0 85 78					sta strz1+1			
Source: bszczaly.asm
   466 							
   467 2BE2 A6 7D					ldx strz0d
   468 2BE4 BD 20 01					lda strzalYbit,x
   469 							
   470 2BE7 A8			@			tay				;skok z OBLICZ przy pustym znaku
   471 2BE8 B9 3B 2D					lda strzalTab8,y
   472 2BEB 8D F5 2B					sta _strzalSkos1+1
   473 2BEE B9 43 2D					lda strzalTab8+8,y
   474 2BF1 8D F6 2B					sta _strzalSkos1+2
   475 = 2BF4			_strzalSkos1	equ *
   476 2BF4 4C FF FF					jmp $ffff
   477 							
   478 2BF7			@			
   479 						
   480 = 2BF7			strzalSkos10	equ *
   481 2BF7 A0 07					ldy #7			;0010
   482 2BF9 B1 75					lda (strz),y		;0000
   483 2BFB 91 77					sta (strz1),y	;0000
   484 2BFD 88						dey				;0000
   485 2BFE B1 75					lda (strz),y
   486 2C00 91 77					sta (strz1),y
   487 2C02 88						dey
   488 2C03 B1 75					lda (strz),y
   489 2C05 91 77					sta (strz1),y
   490 2C07 88						dey
   491 2C08 B1 75					lda (strz),y
   492 2C0A 91 77					sta (strz1),y
   493 2C0C 88						dey
   494 2C0D B1 75					lda (strz),y
   495 2C0F 91 77					sta (strz1),y
   496 2C11 88						dey
   497 2C12 B1 75					lda (strz),y
   498 2C14 91 77					sta (strz1),y
   499 2C16 88						dey
   500 2C17 B1 75					lda (strz),y
   501 2C19 45 7B					eor strz0b
   502 2C1B 91 77					sta (strz1),y
   503 2C1D 88						dey
   504 2C1E B1 75					lda (strz),y
   505 2C20 45 7B					eor strz0b
   506 2C22 91 77					sta (strz1),y
   507 							
   508 2C24 4C 2A 2B					jmp pst1
   509 							
   510 = 2C27			strzalSkos11	equ *			
   511 2C27 A0 07		@			ldy #7			;na gorze
   512 2C29 B1 75		@			lda (strz),y		;0100
   513 2C2B 91 77					sta (strz1),y	;0010
   514 2C2D 88						dey				;0000
   515 2C2E B1 75					lda (strz),y		;0000
   516 2C30 91 77					sta (strz1),y
   517 2C32 88						dey
   518 2C33 B1 75					lda (strz),y
   519 2C35 91 77					sta (strz1),y
   520 2C37 88						dey
   521 2C38 B1 75					lda (strz),y
   522 2C3A 91 77					sta (strz1),y
   523 2C3C 88						dey
   524 							
   525 2C3D B1 75					lda (strz),y
   526 2C3F 45 7B					eor strz0b
   527 2C41 91 77					sta (strz1),y
   528 2C43 88						dey
   529 2C44 B1 75					lda (strz),y
   530 2C46 45 7B					eor strz0b
   531 2C48 91 77					sta (strz1),y
   532 2C4A 88						dey
   533 							
   534 2C4B A5 7F					lda strz0f
   535 2C4D C9 03					cmp #3
   536 2C4F F0 14					beq @+
   537 							
   538 2C51 06 7B					asl strz0b
   539 2C53 06 7B					asl strz0b	;skos1  \
   540 2C55 B1 75					lda (strz),y
   541 2C57 45 7B					eor strz0b
   542 2C59 91 77					sta (strz1),y
   543 2C5B 88						dey
   544 2C5C B1 75					lda (strz),y
   545 2C5E 45 7B					eor strz0b
   546 2C60 91 77					sta (strz1),y
   547 							
   548 2C62 4C 2A 2B					jmp pst1
   549 							
   550 2C65 46 7B		@			lsr strz0b
   551 2C67 46 7B					lsr strz0b		;skos2 /
   552 							
   553 2C69 B1 75					lda (strz),y
   554 2C6B 45 7B					eor strz0b
   555 2C6D 91 77					sta (strz1),y
   556 2C6F 88						dey
   557 2C70 B1 75					lda (strz),y
   558 2C72 45 7B					eor strz0b
   559 2C74 91 77					sta (strz1),y
   560 							
   561 2C76 4C 2A 2B					jmp pst1
   562 							
   563 = 2C79			strzalSkos12	equ *
   564 2C79 A0 07					ldy #7
   565 2C7B B1 75					lda (strz),y
   566 2C7D 91 77					sta (strz1),y
   567 2C7F 88						dey
   568 2C80 B1 75					lda (strz),y		;0000
   569 2C82 91 77					sta (strz1),y	;0100
   570 2C84 88						dey				;0010
   571 											;0000
   572 2C85 B1 75					lda (strz),y
   573 2C87 45 7B					eor strz0b
   574 2C89 91 77					sta (strz1),y
   575 2C8B 88						dey
   576 2C8C B1 75					lda (strz),y
   577 2C8E 45 7B					eor strz0b
   578 2C90 91 77					sta (strz1),y
   579 2C92 88						dey
   580 							
   581 2C93 A5 7F					lda strz0f
   582 2C95 C9 03					cmp #3
   583 2C97 F0 1E					beq @+
   584 							
   585 2C99 06 7B					asl strz0b
   586 2C9B 06 7B					asl strz0b	;skos1  \
   587 2C9D B1 75					lda (strz),y
   588 2C9F 45 7B					eor strz0b
   589 2CA1 91 77					sta (strz1),y
   590 2CA3 88						dey
   591 2CA4 B1 75					lda (strz),y
   592 2CA6 45 7B					eor strz0b
   593 2CA8 91 77					sta (strz1),y
   594 2CAA 88						dey
   595 							
   596 2CAB B1 75					lda (strz),y
   597 2CAD 91 77					sta (strz1),y
   598 2CAF 88						dey
   599 2CB0 B1 75					lda (strz),y
   600 2CB2 91 77					sta (strz1),y
   601 2CB4 4C 2A 2B					jmp pst1	
   602 							
   603 2CB7 46 7B		@			lsr strz0b
   604 2CB9 46 7B					lsr strz0b		;skos2 /
   605 							
   606 2CBB B1 75					lda (strz),y
   607 2CBD 45 7B					eor strz0b
   608 2CBF 91 77					sta (strz1),y
   609 2CC1 88						dey
   610 2CC2 B1 75					lda (strz),y
   611 2CC4 45 7B					eor strz0b
   612 2CC6 91 77					sta (strz1),y
   613 2CC8 88						dey
   614 							
   615 2CC9 B1 75					lda (strz),y
   616 2CCB 91 77					sta (strz1),y
   617 2CCD 88						dey
   618 2CCE B1 75					lda (strz),y
   619 2CD0 91 77					sta (strz1),y
   620 2CD2 4C 2A 2B					jmp pst1	
   621
   622 = 2CD5			strzalSkos13	equ *	
   623 2CD5 A0 07					ldy #7
   624 2CD7 B1 75					lda (strz),y		;na dole
   625 2CD9 45 7B					eor strz0b
   626 2CDB 91 77					sta (strz1),y		;0000
   627 2CDD 88						dey				;0000
   628 2CDE B1 75					lda (strz),y		;0100		
   629 2CE0 45 7B					eor strz0b		;0010
   630 2CE2 91 77					sta (strz1),y
   631 2CE4 88						dey
   632 							
   633 2CE5 A5 7F					lda strz0f
   634 2CE7 C9 03					cmp #3
   635 2CE9 F0 28					beq @+
   636 							
   637 2CEB 06 7B					asl strz0b
   638 2CED 06 7B					asl strz0b	;skos1  \
   639 2CEF B1 75					lda (strz),y		
   640 2CF1 45 7B					eor strz0b
   641 2CF3 91 77					sta (strz1),y
   642 2CF5 88						dey
   643 2CF6 B1 75					lda (strz),y		
   644 2CF8 45 7B					eor strz0b
   645 2CFA 91 77					sta (strz1),y
   646 2CFC 88						dey
   647 							
   648 2CFD B1 75					lda (strz),y
   649 2CFF 91 77					sta (strz1),y
   650 2D01 88						dey
   651 2D02 B1 75					lda (strz),y
   652 2D04 91 77					sta (strz1),y
   653 2D06 88						dey
   654 2D07 B1 75					lda (strz),y
   655 2D09 91 77					sta (strz1),y
   656 2D0B 88						dey
   657 2D0C B1 75					lda (strz),y
   658 2D0E 91 77					sta (strz1),y
   659 							
   660 2D10 4C 2A 2B					jmp pst1
   661 							
   662 2D13 46 7B		@			lsr strz0b
   663 2D15 46 7B					lsr strz0b		;skos2 /
   664 							
   665 2D17 B1 75					lda (strz),y		
   666 2D19 45 7B					eor strz0b
   667 2D1B 91 77					sta (strz1),y
   668 2D1D 88						dey
   669 2D1E B1 75					lda (strz),y		
   670 2D20 45 7B					eor strz0b
   671 2D22 91 77					sta (strz1),y
   672 2D24 88						dey
   673 							
   674 2D25 B1 75					lda (strz),y
   675 2D27 91 77					sta (strz1),y
   676 2D29 88						dey
   677 2D2A B1 75					lda (strz),y
   678 2D2C 91 77					sta (strz1),y
   679 2D2E 88						dey
   680 2D2F B1 75					lda (strz),y
   681 2D31 91 77					sta (strz1),y
   682 2D33 88						dey
   683 2D34 B1 75					lda (strz),y
   684 2D36 91 77					sta (strz1),y
   685 							
   686 2D38 4C 2A 2B					jmp pst1
   687 							
   688 2D3B F7 27 79 D5		strzalTab8	dta b(<strzalSkos10,<strzalSkos11,<strzalSkos12,<strzalSkos13)
   689 2D3F 4B 6B A1 D9					dta b(<strzalSkos10b,<strzalSkos11b,<strzalSkos12b,<strzalSkos13b)	;pusty znak
   690 2D43 2B 2C 2C 2C					dta b(>strzalSkos10,>strzalSkos11,>strzalSkos12,>strzalSkos13)			
   691 2D47 2D 2D 2D 2D					dta b(>strzalSkos10b,>strzalSkos11b,>strzalSkos12b,>strzalSkos13b)	;pusty znak
   692
   693 = 2D4B			strzalSkos10b	equ *
   694 2D4B A0 07					ldy #7			;0010
   695 2D4D A9 00					lda #0			;0000
   696 2D4F 91 77					sta (strz1),y	;0000
   697 2D51 88						dey				;0000
   698 2D52 91 77					sta (strz1),y
   699 2D54 88						dey
   700 2D55 91 77					sta (strz1),y
   701 2D57 88						dey
   702 2D58 91 77					sta (strz1),y
   703 2D5A 88						dey
   704 2D5B 91 77					sta (strz1),y
   705 2D5D 88						dey
   706 2D5E 91 77					sta (strz1),y
   707 2D60 88						dey
   708 2D61 A5 7B					lda strz0b
   709 2D63 91 77					sta (strz1),y
   710 2D65 88						dey
   711 2D66 91 77					sta (strz1),y
   712 							
   713 2D68 4C 2A 2B					jmp pst1
   714 							
   715 = 2D6B			strzalSkos11b	equ *			
   716 2D6B A0 07		@			ldy #7			;na gorze
   717 2D6D A9 00		@			lda #0			;0100
   718 2D6F 91 77					sta (strz1),y	;0010
   719 2D71 88						dey				;0000				
   720 2D72 91 77					sta (strz1),y	;0000
   721 2D74 88						dey
   722 2D75 91 77					sta (strz1),y
   723 2D77 88						dey
   724 2D78 91 77					sta (strz1),y
   725 2D7A 88						dey
   726 							
   727 2D7B A5 7B					lda strz0b
   728 2D7D 91 77					sta (strz1),y
   729 2D7F 88						dey
   730 2D80 91 77					sta (strz1),y
   731 2D82 88						dey
   732 							
   733 2D83 A5 7F					lda strz0f
   734 2D85 C9 03					cmp #3
   735 2D87 F0 0C					beq @+
   736 							
   737 2D89 A5 7B					lda strz0b	;skos1  \
   738 2D8B 0A						asl
   739 2D8C 0A						asl
   740
   741 2D8D 91 77					sta (strz1),y
   742 2D8F 88						dey
   743 2D90 91 77					sta (strz1),y
   744 							
   745 2D92 4C 2A 2B					jmp pst1
   746 							
   747 2D95 A5 7B		@			lda strz0b		;skos2 /
   748 2D97 4A						lsr
   749 2D98 4A						lsr
   750
   751 2D99 91 77					sta (strz1),y
   752 2D9B 88						dey
   753 2D9C 91 77					sta (strz1),y
   754 							
   755 2D9E 4C 2A 2B					jmp pst1
   756 							
   757 = 2DA1			strzalSkos12b	equ *
   758 2DA1 A0 07					ldy #7
   759 2DA3 A9 00					lda #0
   760 2DA5 91 77					sta (strz1),y
   761 2DA7 88						dey				;0000	
   762 2DA8 91 77					sta (strz1),y	;0100
   763 2DAA A0 01					ldy #1			;0010
   764 2DAC 91 77					sta (strz1),y	;0000
   765 2DAE 88						dey
   766 2DAF 91 77					sta (strz1),y
   767 							
   768 2DB1 A0 05					ldy #5
   769 2DB3 A5 7B					lda strz0b
   770 2DB5 91 77					sta (strz1),y
   771 2DB7 88						dey
   772 2DB8 A5 7B					lda strz0b
   773 2DBA 91 77					sta (strz1),y
   774 2DBC 88						dey			;y=3
   775 							
   776 2DBD C4 7F					cpy strz0f
   777 2DBF F0 0C					beq @+
   778 							
   779 2DC1 A5 7B					lda strz0b	;skos1  \
   780 2DC3 0A						asl
   781 2DC4 0A						asl
   782 2DC5 91 77					sta (strz1),y
   783 2DC7 88						dey
   784 2DC8 91 77					sta (strz1),y
   785
   786 2DCA 4C 2A 2B					jmp pst1
   787 							
   788 2DCD A5 7B		@			lda strz0b		;skos2 /
   789 2DCF 4A						lsr
   790 2DD0 4A						lsr
   791 							
   792 2DD1 91 77					sta (strz1),y
   793 2DD3 88						dey
   794 2DD4 91 77					sta (strz1),y
   795
   796 2DD6 4C 2A 2B					jmp pst1	
   797
   798 = 2DD9			strzalSkos13b	equ *	
   799 2DD9 A0 07					ldy #7	
   800 2DDB A5 7B					lda strz0b		;na dole
   801 2DDD 91 77					sta (strz1),y	;0000
   802 2DDF 88						dey				;0000
   803 											;0100				
   804 2DE0 91 77					sta (strz1),y	;0010
   805 2DE2 88						dey
   806 							
   807 2DE3 A5 7F					lda strz0f
   808 2DE5 C9 03					cmp #3
   809 2DE7 F0 1A					beq @+
   810 							
   811 2DE9 A5 7B					lda strz0b
   812 2DEB 0A						asl
   813 2DEC 0A						asl			;skos1  \	
   814 2DED 91 77					sta (strz1),y
   815 2DEF 88						dey	
   816 2DF0 91 77					sta (strz1),y
   817 2DF2 88						dey
   818 							
   819 2DF3 A9 00					lda #0
   820 2DF5 91 77					sta (strz1),y
   821 2DF7 88						dey
   822 2DF8 91 77					sta (strz1),y
   823 2DFA 88						dey
   824 2DFB 91 77					sta (strz1),y
   825 2DFD 88						dey
   826 2DFE 91 77					sta (strz1),y
   827 							
   828 2E00 4C 2A 2B					jmp pst1
   829 							
   830 2E03 A5 7B		@			lda strz0b		;skos2 /
   831 2E05 4A						lsr
   832 2E06 4A						lsr
   833 								
   834 2E07 91 77					sta (strz1),y
   835 2E09 88						dey	
   836 2E0A 91 77					sta (strz1),y
   837 2E0C 88						dey
   838 							
   839 2E0D A9 00					lda #0
   840 2E0F 91 77					sta (strz1),y
   841 2E11 88						dey
   842 2E12 91 77					sta (strz1),y
   843 2E14 88						dey
   844 2E15 91 77					sta (strz1),y
   845 2E17 88						dey
   846 2E18 91 77					sta (strz1),y
   847 							
   848 2E1A 4C 2A 2B					jmp pst1
   849 							
   850 							
   851 2E1D 40 50 14 05		strzalTab3		dta b(%01000000,%01010000,%00010100,%00000101)
   852
   853 = 2E21			printStrzalLP	equ *
   854 				;rejestr X (nr pocisku) w strz0d
   855 2E21 A5 20					lda vblFlaga
   856 2E23 F0 16					beq @+1
   857 2E25 BD 28 01					lda strzalTlo,x
   858 2E28 A4 1F					ldy ramka
   859 2E2A D0 09					bne @+			;odwrotne obrazy
   860 2E2C BC 08 01					ldy strzalX1,x
   861 2E2F 99 28 06					sta obraz1+14*48,y
   862 2E32 4C 3B 2E					jmp @+1
   863 2E35 BC 08 01		@			ldy strzalX1,x
   864 2E38 99 20 0D					sta obraz2+14*48,y
   865 							
   866 2E3B BD 10 01		@			lda strzalX3,x
   867 							
   868 2E3E 29 03					and #%11
   869 2E40 A8						tay
   870 							
   871 2E41 B9 1D 2E					lda strzalTab3,y
   872 2E44 85 7B					sta strz0b		;Ora
   873 									
   874 2E46 BD 0C 01					lda strzalX2,x
   875 2E49 A8						tay
   876 2E4A 9D 08 01					sta strzalX1,x		;do zmazania
   877 2E4D BD 18 01					lda strzalY2,x
   878 2E50 9D 14 01					sta strzalY1,x		;do zmazania
   879 							
   880 							
   881 2E53 A5 1F					lda ramka
   882 2E55 D0 46					bne @+
   883 						
   884 2E57 B9 28 06					lda obraz1+14*48,y
   885 2E5A 9D 28 01					sta strzalTlo,x		;do zmazania 
   886 							
   887 2E5D 29 7F					and #127
   888 2E5F C9 03					cmp #3 
   889 2E61 B0 14					bcs puste1		;jesli nr znaku >3		
   890 							
   891 2E63 BD 38 2B					lda strzalTab0,x
   892 2E66 99 28 06					sta obraz1+14*48,y
   893 2E69 A8						tay
   894 2E6A B9 00 15					lda adresZnakL,y 	;adres znaku pocisku
   895 2E6D 85 77					sta strz1
   896 2E6F B9 00 16					lda adresZnakH,y
   897 2E72 85 78					sta strz1+1
   898 2E74 4C BC 2E					jmp slp0		;jmp
   899 							
   900 2E77 B9 28 06		puste1		lda obraz1+14*48,y
   901 2E7A 29 80					and #128
   902 2E7C 1D 38 2B					ora strzalTab0,x
   903
   904 2E7F 99 28 06					sta obraz1+14*48,y
   905 2E82 A8						tay
   906 2E83 B9 00 15					lda adresZnakL,y 	;adres znaku pocisku
   907 2E86 85 77					sta strz1
   908 2E88 B9 00 16					lda adresZnakH,y
   909 2E8B 85 78					sta strz1+1
   910 							
   911 2E8D BC 28 01					ldy strzalTlo,x
   912 							
   913 2E90 B9 00 15					lda adresZnakL,y 	;adres znaku pod pociskiem
   914 2E93 85 75					sta strz
   915 2E95 B9 00 16					lda adresZnakH,y
   916 2E98 85 76					sta strz+1	
   917 							
   918 2E9A 4C 07 2F					jmp slp1		;jmp
   919 								
   920 								
   921 2E9D B9 20 0D		@			lda obraz2+14*48,y
   922 2EA0 9D 28 01					sta strzalTlo,x		;do zmazania 
   923 							
   924 2EA3 29 7F					and #127
   925 2EA5 C9 03					cmp #3
   926 2EA7 B0 37					bcs puste10		;jesli nr znaku >3	
   927 							
   928 2EA9 BD 38 2B					lda strzalTab0,x
   929 2EAC 99 20 0D					sta obraz2+14*48,y
   930 2EAF A8						tay
   931 2EB0 B9 00 15					lda adresZnakL,y 	;adres znaku pocisku
   932 2EB3 85 77					sta strz1
   933 2EB5 B9 00 16					lda adresZnakH,y
   934 2EB8 09 04					ora #4
   935 2EBA 85 78					sta strz1+1
   936
   937 2EBC A0 07		slp0		ldy #7
   938 2EBE A9 00					lda #0
   939 2EC0 91 77					sta (strz1),y
   940 2EC2 88						dey
   941 2EC3 91 77					sta (strz1),y
   942 2EC5 88						dey
   943 2EC6 91 77					sta (strz1),y
   944 2EC8 88						dey
   945 2EC9 91 77					sta (strz1),y
   946 2ECB 88						dey
   947 2ECC 91 77					sta (strz1),y
   948 2ECE 88						dey
   949 2ECF 91 77					sta (strz1),y
   950 2ED1 88						dey
   951 2ED2 91 77					sta (strz1),y
   952 2ED4 88						dey
   953 2ED5 91 77					sta (strz1),y
   954 							
   955 2ED7 A4 1D					ldy movYs
   956 2ED9 A5 7B					lda strz0b
   957 2EDB 91 77					sta (strz1),y
   958 							
   959 2EDD 4C 2A 2B					jmp pst1
   960 							
   961 2EE0 B9 20 0D		puste10		lda obraz2+14*48,y
   962 2EE3 29 80					and #128
   963 2EE5 1D 38 2B					ora strzalTab0,x
   964
   965 2EE8 99 20 0D					sta obraz2+14*48,y
   966 2EEB A8						tay
   967 2EEC B9 00 15					lda adresZnakL,y 	;adres znaku pocisku
   968 2EEF 85 77					sta strz1
   969 2EF1 B9 00 16					lda adresZnakH,y
   970 2EF4 09 04					ora #4
   971 2EF6 85 78					sta strz1+1
   972 							
   973 2EF8 BC 28 01					ldy strzalTlo,x
   974 							
   975 2EFB B9 00 15					lda adresZnakL,y 	;adres znaku pod pociskiem
   976 2EFE 85 75					sta strz
   977 2F00 B9 00 16					lda adresZnakH,y
   978 2F03 09 04					ora #4
   979 2F05 85 76					sta strz+1	
   980 							
   981 = 2F07			slp1		equ *			
   982 2F07 A0 07					ldy #7
   983 2F09 B1 75					lda (strz),y
   984 2F0B 91 77					sta (strz1),y
   985 2F0D 88						dey
   986 2F0E B1 75					lda (strz),y
   987 2F10 91 77					sta (strz1),y
   988 2F12 88						dey
   989 2F13 B1 75					lda (strz),y
   990 2F15 91 77					sta (strz1),y
   991 2F17 88						dey
   992 2F18 B1 75					lda (strz),y
   993 2F1A 91 77					sta (strz1),y
   994 2F1C 88						dey
   995 2F1D B1 75					lda (strz),y
   996 2F1F 91 77					sta (strz1),y
   997 2F21 88						dey
   998 2F22 B1 75					lda (strz),y
   999 2F24 91 77					sta (strz1),y
  1000 2F26 88						dey
  1001 2F27 B1 75					lda (strz),y
  1002 2F29 91 77					sta (strz1),y
  1003 2F2B 88						dey
  1004 2F2C B1 75					lda (strz),y
  1005 2F2E 91 77					sta (strz1),y
  1006 							
  1007 2F30 A4 1D					ldy movYs
  1008 2F32 B1 77					lda (strz1),y
  1009 2F34 45 7B					eor strz0b
  1010 2F36 91 77					sta (strz1),y
  1011 							
  1012 2F38 4C 2A 2B					jmp pst1
  1013 							
  1014
  1015 										
  1016 2F3B 40 10 04 01		strzalTab6	dta b(%01000000,%00010000,%00000100,%00000001)
  1017 2F3F 3F CF F3 FC					dta b(%00111111,%11001111,%11110011,%11111100)
  1018 								
  1019 = 2F43			printStrzalGD	equ *
  1020 2F43 A5 20					lda vblFlaga
  1021 2F45 F0 11					beq @+
  1022 							
  1023 2F47 A0 00					ldy #0
  1024 2F49 BD 64 2A					lda zmazTab,x
  1025 2F4C 85 75					sta strz
  1026 2F4E BD 68 2A					lda zmazTab+4,x
  1027 2F51 85 76					sta strz+1
  1028 2F53 BD 28 01					lda strzalTlo,x
  1029 2F56 91 75					sta (strz),y
  1030 							
  1031 2F58			@			OBLICZSTRZAL	
Macro: OBLICZSTRZAL [Source: bszczaly.asm]
     2 2F58 BD 34 01					lda strzalXbit,x
     3 2F5B A8						tay
     4 2F5C B9 3B 2F					lda strzalTab6,y
     5 2F5F 85 7B					sta strz0b		;ora
     7 2F61 BC 18 01					ldy strzalY2,x
     9 2F64 A5 1F					lda ramka
    10 2F66 D0 19					bne @+
    12 2F68 18						clc
    13 2F69 B9 00 18					lda obraz1L,y
    14 2F6C 7D 0C 01					adc strzalX2,x
    15 2F6F 85 77					sta strz1
    16 2F71 9D 64 2A					sta zmazTab,x
    17 2F74 B9 1D 18					lda obraz1H,y
    18 2F77 69 00					adc #0
    19 2F79 85 78					sta strz1+1
    20 2F7B 9D 68 2A					sta zmazTab+4,x
    21 2F7E 4C 97 2F					jmp @+1		;skok bezwarunkowy
    23 2F81 18			@			clc
    24 2F82 B9 3A 18					lda obraz2L,y
    25 2F85 7D 0C 01					adc strzalX2,x
    26 2F88 85 77					sta strz1
    27 2F8A 9D 64 2A					sta zmazTab,x
    28 2F8D B9 57 18					lda obraz2H,y
    29 2F90 69 00					adc #0
    30 2F92 85 78					sta strz1+1	
    31 2F94 9D 68 2A					sta zmazTab+4,x
    33 2F97 A0 00		@			ldy #0	
    34 2F99 B1 77					lda (strz1),y
    35 2F9B 9D 28 01					sta strzalTlo,x		;do zmazania 
    36 2F9E A8						tay
    37 2F9F 29 7F					and #127	
    38 2FA1 C9 03					cmp #3		;czy znak zerowy ?
    39 2FA3 B0 20					bcs @+
    41 2FA5 A9 04 85 7C		mobs1		mva #4 strz0c	;flaga pustego znaku pod strzalem
    42 2FA9 BD 38 2B					lda strzalTab0,x	;traktuj gwiazdy jak puste znaki
    43 2FAC A0 00					ldy #0
    44 2FAE 91 77					sta (strz1),y
    45 2FB0 A8						tay
    46 2FB1 B9 00 15					lda adresZnakL,y
    47 2FB4 85 77					sta strz1
    49 2FB6 B9 00 16					lda adresZnakH,y
    50 2FB9 05 D1					ora ramka4
    51 2FBB 85 78					sta strz1+1
    52 2FBD BD 20 01					lda strzalYbit,x
    53 2FC0 09 04					ora #4
    55 2FC2 4C EE 2F					jmp @+1	;jmp
    58 2FC5 98			@			tya
    59 2FC6 29 80					and #128
    60 2FC8 1D 38 2B					ora strzalTab0,x
    61 2FCB AA						tax
    63 2FCC B9 00 15					lda adresZnakL,y	;nr znaku pod pociskiem
    64 2FCF 85 75					sta strz
    65 2FD1 B9 00 16					lda adresZnakH,y
    66 2FD4 05 D1					ora ramka4
    67 2FD6 85 76					sta strz+1
    69 2FD8 A0 00					ldy #0
    70 2FDA 8A						txa
    71 2FDB 91 77					sta (strz1),y
    72 2FDD BD 00 15					lda adresZnakL,x
    73 2FE0 85 77					sta strz1
    75 2FE2 BD 00 16					lda adresZnakH,x
    76 2FE5 05 D1					ora ramka4
    77 2FE7 85 78					sta strz1+1			
Source: bszczaly.asm
  1032 							
  1033 2FE9 A6 7D					ldx strz0d
  1034 2FEB BD 20 01					lda strzalYbit,x
  1035 							
  1036 2FEE A8			@			tay					;skok z OBLICZ przy pustym znaku
  1037 2FEF B9 CA 30					lda strzalTab7,y
  1038 2FF2 8D FC 2F					sta _strzalGD+1
  1039 2FF5 B9 D2 30					lda strzalTab7+8,y
  1040 2FF8 8D FD 2F					sta _strzalGD+2
  1041 2FFB 4C FF FF		_strzalGD	jmp $ffff
  1042 							
  1043 					
  1044 = 2FFE			strzalGD0	equ *
  1045 2FFE A0 07					ldy #7
  1046 3000 B1 75					lda (strz),y
  1047 3002 91 77					sta (strz1),y
  1048 3004 88						dey
  1049 3005 B1 75					lda (strz),y
  1050 3007 91 77					sta (strz1),y
  1051 3009 88						dey
  1052 300A B1 75					lda (strz),y
  1053 300C 91 77					sta (strz1),y
  1054 300E 88						dey
  1055 300F B1 75					lda (strz),y
  1056 3011 91 77					sta (strz1),y
  1057 3013 88						dey
  1058 3014 B1 75					lda (strz),y
  1059 3016 91 77					sta (strz1),y
  1060 3018 88						dey
  1061 3019 B1 75					lda (strz),y
  1062 301B 91 77					sta (strz1),y
  1063 301D 88						dey
  1064
  1065 301E B1 75					lda (strz),y
  1066 3020 45 7B					eor strz0b
  1067 3022 91 77					sta (strz1),y
  1068 3024 88						dey
  1069 3025 B1 75					lda (strz),y
  1070 3027 45 7B					eor strz0b
  1071 3029 91 77					sta (strz1),y
  1072 302B 4C 2A 2B					jmp pst1
  1073
  1074 = 302E			strzalGD1	equ *			
  1075 302E A0 07					ldy #7			;na gorze
  1076 3030 B1 75					lda (strz),y
  1077 3032 91 77					sta (strz1),y
  1078 3034 88						dey
  1079 3035 B1 75					lda (strz),y
  1080 3037 91 77					sta (strz1),y
  1081 3039 88						dey
  1082 303A B1 75					lda (strz),y
  1083 303C 91 77					sta (strz1),y
  1084 303E 88						dey
  1085 303F B1 75					lda (strz),y
  1086 3041 91 77					sta (strz1),y
  1087 3043 88						dey
  1088 							
  1089 3044 B1 75					lda (strz),y
  1090 3046 45 7B					eor strz0b
  1091 3048 91 77					sta (strz1),y
  1092 304A 88						dey
  1093 304B B1 75					lda (strz),y
  1094 304D 45 7B					eor strz0b
  1095 304F 91 77					sta (strz1),y
  1096 3051 88						dey
  1097 3052 B1 75					lda (strz),y
  1098 3054 45 7B					eor strz0b
  1099 3056 91 77					sta (strz1),y
  1100 3058 88						dey
  1101 3059 B1 75					lda (strz),y
  1102 305B 45 7B					eor strz0b
  1103 305D 91 77					sta (strz1),y
  1104 							
  1105 305F 4C 2A 2B					jmp pst1
  1106 							
  1107 = 3062			strzalGD2	equ *
  1108 3062 A0 07					ldy #7
  1109 3064 B1 75					lda (strz),y
  1110 3066 91 77					sta (strz1),y
  1111 3068 88						dey
  1112 3069 B1 75					lda (strz),y
  1113 306B 91 77					sta (strz1),y
  1114 306D 88						dey
  1115 							
  1116 306E B1 75					lda (strz),y
  1117 3070 45 7B					eor strz0b
  1118 3072 91 77					sta (strz1),y
  1119 3074 88						dey
  1120 3075 B1 75					lda (strz),y
  1121 3077 45 7B					eor strz0b
  1122 3079 91 77					sta (strz1),y
  1123 307B 88						dey
  1124 307C B1 75					lda (strz),y
  1125 307E 45 7B					eor strz0b
  1126 3080 91 77					sta (strz1),y
  1127 3082 88						dey
  1128 3083 B1 75					lda (strz),y
  1129 3085 45 7B					eor strz0b
  1130 3087 91 77					sta (strz1),y
  1131 3089 88						dey
  1132 							
  1133 308A B1 75					lda (strz),y
  1134 308C 91 77					sta (strz1),y
  1135 308E 88						dey
  1136 308F B1 75					lda (strz),y
  1137 3091 91 77					sta (strz1),y
  1138 3093 4C 2A 2B					jmp pst1
  1139 							
  1140 = 3096			strzalGD3	equ *	
  1141 3096 A0 07					ldy #7
  1142 3098 B1 75					lda (strz),y		;na dole
  1143 309A 45 7B					eor strz0b
  1144 309C 91 77					sta (strz1),y	
  1145 309E 88						dey
  1146 309F B1 75					lda (strz),y		
  1147 30A1 45 7B					eor strz0b
  1148 30A3 91 77					sta (strz1),y	
  1149 30A5 88						dey
  1150 30A6 B1 75					lda (strz),y		;na dole
  1151 30A8 45 7B					eor strz0b
  1152 30AA 91 77					sta (strz1),y	
  1153 30AC 88						dey
  1154 30AD B1 75					lda (strz),y		;na dole
  1155 30AF 45 7B					eor strz0b
  1156 30B1 91 77					sta (strz1),y	
  1157 30B3 88						dey
  1158 							
  1159 30B4 B1 75					lda (strz),y
  1160 30B6 91 77					sta (strz1),y
  1161 30B8 88						dey
  1162 30B9 B1 75					lda (strz),y
  1163 30BB 91 77					sta (strz1),y
  1164 30BD 88						dey
  1165 30BE B1 75					lda (strz),y
  1166 30C0 91 77					sta (strz1),y
  1167 30C2 88						dey
  1168 30C3 B1 75					lda (strz),y
  1169 30C5 91 77					sta (strz1),y
  1170 							
  1171 30C7 4C 2A 2B					jmp pst1
  1172 							
  1173 30CA FE 2E 62 96		strzalTab7	dta b(<strzalGD0,<strzalGD1,<strzalGD2,<strzalGD3)
  1174 30CE DA FA 1A 3C					dta b(<strzalGD0b,<strzalGD1b,<strzalGD2b,<strzalGD3b)
  1175 30D2 2F 30 30 30					dta b(>strzalGD0,>strzalGD1,>strzalGD2,>strzalGD3)
  1176 30D6 30 30 31 31					dta b(>strzalGD0b,>strzalGD1b,>strzalGD2b,>strzalGD3b)
  1177 							
  1178 = 30DA			strzalGD0b	equ *
  1179 30DA A0 07					ldy #7
  1180 30DC A9 00					lda #0
  1181 30DE 91 77					sta (strz1),y
  1182 30E0 88						dey
  1183 30E1 91 77					sta (strz1),y
  1184 30E3 88						dey
  1185 30E4 91 77					sta (strz1),y
  1186 30E6 88						dey
  1187 30E7 91 77					sta (strz1),y
  1188 30E9 88						dey
  1189 30EA 91 77					sta (strz1),y
  1190 30EC 88						dey
  1191 30ED 91 77					sta (strz1),y
  1192 30EF 88						dey
  1193
  1194 30F0 A5 7B					lda strz0b
  1195 30F2 91 77					sta (strz1),y
  1196 30F4 88						dey
  1197 30F5 91 77					sta (strz1),y
  1198 30F7 4C 2A 2B					jmp pst1
  1199
  1200 = 30FA			strzalGD1b	equ *			
  1201 30FA A0 07					ldy #7			;na gorze
  1202 30FC A9 00					lda #0
  1203 30FE 91 77					sta (strz1),y
  1204 3100 88						dey
  1205 3101 91 77					sta (strz1),y
  1206 3103 88						dey
  1207 3104 91 77					sta (strz1),y
  1208 3106 88						dey
  1209 3107 91 77					sta (strz1),y
  1210 3109 88						dey
  1211 310A A5 7B					lda strz0b
  1212 310C 91 77					sta (strz1),y
  1213 310E 88						dey
  1214 310F 91 77					sta (strz1),y
  1215 3111 88						dey
  1216 3112 91 77					sta (strz1),y
  1217 3114 88						dey
  1218 3115 91 77					sta (strz1),y
  1219 							
  1220 3117 4C 2A 2B					jmp pst1
  1221 							
  1222 = 311A			strzalGD2b	equ *
  1223 311A A0 07					ldy #7
  1224 311C A9 00					lda #0
  1225 311E 91 77					sta (strz1),y
  1226 3120 88						dey
  1227 3121 91 77					sta (strz1),y
  1228 3123 A0 01					ldy #1
  1229 3125 91 77					sta (strz1),y
  1230 3127 88						dey
  1231 3128 91 77					sta (strz1),y
  1232 							
  1233 312A A0 05					ldy #5
  1234 312C A5 7B					lda strz0b
  1235 312E 91 77					sta (strz1),y
  1236 3130 88						dey
  1237 3131 91 77					sta (strz1),y
  1238 3133 88						dey
  1239 3134 91 77					sta (strz1),y
  1240 3136 88						dey
  1241 3137 91 77					sta (strz1),y
  1242 							
  1243 3139 4C 2A 2B					jmp pst1
  1244 							
  1245 = 313C			strzalGD3b	equ *	
  1246 313C A0 07					ldy #7		
  1247 313E A5 7B					lda strz0b		;na dole
  1248 3140 91 77					sta (strz1),y	
  1249 3142 88						dey
  1250 3143 91 77					sta (strz1),y	
  1251 3145 88						dey
  1252 3146 91 77					sta (strz1),y	
  1253 3148 88						dey
  1254 3149 91 77					sta (strz1),y	
  1255 314B 88						dey
  1256 							
  1257 314C A9 00					lda #0
  1258 314E 91 77					sta (strz1),y
  1259 3150 88						dey
  1260 3151 91 77					sta (strz1),y
  1261 3153 88						dey
  1262 3154 91 77					sta (strz1),y
  1263 3156 88						dey
  1264 3157 91 77					sta (strz1),y
  1265 							
  1266 3159 4C 2A 2B					jmp pst1
  1267 							
   319 315C						icl 'duszki3.asm'
Source: duszki3.asm
     1 				;trzecia wersja duszków
     2 = 004A			firstDuchChar	equ 74
     3
     4 				;zgodnosc2
     5 315C			enemyNegatyw	org *+6	;dta b(0,0,0,0,0,0)
     6 3162			enemyEkran	org *+6	;dta b(0,0,0,0,0,0)		;1=duszek widoczny na ekranie
     7 3168			enemyLastFaza	org *+6	;dta b(0,0,0,0,0,0)
     8 316E			enemyWybuch	org *+6	;dta b(0,0,0,0,0,0)
     9 				.IF .DEF PSP_CODE
    10 3174			psp			org *+1
    11 				.ENDIF
    12
    13
    14 				;tablice
    15 = 3175			duszkiZnakiL	equ *
    16 3175-3D20> 50 98 E0 28 + 			:6 dta b(<((firstDuchChar+9*#)*8+znaki1))
    17 = 317B			duszkiZnakiH	equ *
    18 317B BA BA BA BB BB BB				:6 dta b(>((firstDuchChar+9*#)*8+znaki1))
    19 = 3181			duszkiChar		equ *
    20 3181 4A 53 5C 65 6E 77				:6 dta b(firstDuchChar+(#*9))
    21
    22
    23 				;0page
    24 = 006B			_nznak		equ pom1
    25 = 006D			_kszt		equ pom2
    26 = 006F			_mask		equ pom3
    27 = 0037			nchar		equ pom0
    28 = 0038			zapX		equ duchx
    29 = 0038			duchX		equ pom0a	
    30
    31
    32 = 3187			duszkiPrint	equ *	
    33 3187 38						sec
    34 3188 BD BD 17					lda enemyX,x
    35 318B E5 17					sbc posX
    36 318D A8						tay
    37 318E B9 00 13					lda tabX,y
    38 3191 9D C3 17					sta enemyX0,x
    39 3194 18						clc
    40 3195 69 02					adc #2
    41 3197 C9 23					cmp #33+2
    42 3199 90 0E					bcc @+
    43 319B BD C9 17					lda enemyY,x		;obliczmy też Y0 dla duszka poza ekranem
    44 319E E5 18					sbc posY
    45 31A0 9D CF 17					sta enemyY0,x
    46 31A3 A9 01					lda #1
    47 31A5 9D 62 31					sta enemyEkran,x
    48 31A8 60						rts		;poza ekranem
    49 							
    50 31A9 69 06		@			adc #6
    51 31AB 85 38					sta duchX
    52 							
    53 31AD 38						sec
    54 31AE BD C9 17					lda enemyY,x
    55 31B1 E5 18					sbc posY
    56 31B3 9D CF 17					sta enemyY0,x
    57 31B6 18						clc
    58 31B7 69 02					adc #2
    59 31B9 C9 1F					cmp #29+2
    60 31BB 90 06					bcc @+
    61 31BD A9 01					lda #1
    62 31BF 9D 62 31					sta enemyEkran,x
    63 31C2 60						rts		;poza ekranem	
    64 							
    65 31C3 A8			@			tay
    66
    67 							
    68 31C4 A5 1F					lda ramka
    69 31C6 D0 11					bne @+					;adres pamieci obrazu pod duszkiem
    70 31C8 18						clc
    71 31C9 B9 06 17					lda obraz1La+6,y
    72 31CC 65 38					adc duchX
    73 31CE 85 69					sta pom
    74 31D0 B9 2B 17					lda obraz1Ha+6,y
    75 31D3 69 00					adc #0
    76 31D5 85 6A					sta pom+1
    77 31D7 D0 0F					bne @+1		;skok bezwarunkowy
    78 31D9 18			@			clc
    79 31DA B9 50 17					lda obraz2La+6,y
    80 31DD 65 38					adc duchX
    81 31DF 85 69					sta pom
    82 31E1 B9 75 17					lda obraz2Ha+6,y
    83 31E4 69 00					adc #0
    84 31E6 85 6A					sta pom+1
    85 							
    86 = 31E8			@			equ *
    87 31E8 86 38					stx zapX	;zapamietaj X
    88 31EA BD ED 17					lda enemyShapeH,x		;adres ksztaltu
    89 31ED 8D 45 32					sta _shapeAD_L+2
    90 31F0 8D 4C 32					sta _shapeAD_H+2
    91 							
    92 				.IF .NOT .DEF FastSprites
    93 31F3 8D 54 32					sta _maskAD_L+2
    94 31F6 8D 5B 32					sta _maskAD_H+2
    95 				.ENDIF
    96 					
    97 				.IF .DEF PSP_CODE		
    98 31F9 AD 74 31					lda psp
    99 31FC F0 0E					beq no_psp
   100 31FE BD E7 17					lda enemyBank,x
   101 3201 CD 01 D3					cmp PORTB
   102 3204 F0 11					beq @+
   103 3206 8D 01 D3					sta PORTB
   104 3209 4C 17 32					jmp @+
   105 320C AD 01 D3		no_psp		lda PORTB
   106 320F 85 3B					sta pom0d
   107 3211 BD E7 17 8D 01 D3				mva enemyBank,x PORTB
   108 = 3217			@			equ *			
   109 				.ELSE		
   110 							lda PORTB
   111 							sta pom0d
   112 							mva enemyBank,x PORTB		;przelaczamy bank pamieci
   113 				.ENDIF		
   114 3217 BD DB 17					lda enemyDY,x
   115 321A 29 C0					and #%11000000
   116 321C 0A						asl
   117 321D 2A 2A					:2 rol
   118 321F 9D F9 17					sta enemyDY0,x
   119 3222 0A						asl
   120 3223 85 3A					sta pom0c	;DY*2
   121
   122 3225 BD D5 17					lda enemyDX,x
   123 3228 29 C0					and #%11000000
   124 322A 0A						asl
   125 322B 2A						rol
   126 322C 2A						rol
   127 322D 9D F3 17					sta enemyDX0,x	;DX
   128 3230 0A						asl
   129 3231 85 39					sta pom0b		;DX*2
   130 3233 0A 0A 0A					:3 asl
   131 3236 1D E1 17					ora enemyFaza,x
   132 3239 A8						tay
   133 							
   134 323A BD 81 31					lda duszkiChar,x			
   135 323D 1D 5C 31					ora enemyNegatyw,x	
   136 3240 85 37					sta nchar
   137 							
   138 3242 38						sec
   139 = 3243			_shapeAD_L	equ *
   140 3243 B9 00 40					lda enemy1shapetab,y			;adres ksztaltu faza*4 + DX
   141 3246 E5 3A					sbc pom0c				;-(DY*2)
   142 3248 85 6D					sta _kszt
   143 = 324A			_shapeAD_H	equ *
   144 324A B9 40 40					lda enemy1shapetab+64,y
   145 324D E9 00					sbc #0
   146 324F 85 6E					sta _kszt+1		
   147
   148 				.IF .NOT .DEF fastSprites		
   149 3251 38						sec
   150 = 3252			_maskAD_L	equ *
   151 3252 B9 80 40					lda enemy1masktab,y
   152 3255 E5 3A					sbc pom0c
   153 3257 85 6F					sta _mask
   154 = 3259			_maskAD_H	equ *
   155 3259 B9 C0 40					lda enemy1masktab+64,y
   156 325C E9 00					sbc #0
   157 325E 85 70					sta _mask+1
   158 				.ENDIF
   159 							
   160 3260 BD F9 17					lda enemyDY0,x
   161 3263 D0 07					bne @+
   162 3265 05 39					ora pom0b
   163 3267 F0 0D					beq printDX4
   164 3269 4C 8C 33					jmp printDX6
   165 326C A5 39		@			lda pom0b	;DX
   166 326E F0 03					beq @+
   167 3270 4C 6E 37					jmp printDY9
   168 3273 4C 38 35		@			jmp printDY6
   169 						
   170 				;DX=0,DY=0		
   171 = 3276			printDX4		equ *
   172
   173 				;adresy nowych znakow			
   174 3276 BD 7B 31					lda duszkiZnakiH,x
   175 3279 05 D1					ora ramka4
   176 327B 8D 52 33					sta nznakX40+2
   177 327E A8						tay
   178 327F BD 75 31					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   179 3282 8D 51 33					sta nznakX40+1
   180 3285 18						clc
   181 3286 69 08					adc #8
   182 							
   183 3288 8D 5D 33					sta nznakX41+1
   184 328B 8C 5E 33					sty nznakX41+2
   185 328E 69 08					adc #8
   186 							
   187 3290 8D 69 33					sta nznakX42+1
   188 3293 8C 6A 33					sty nznakX42+2
   189 3296 69 08					adc #8
   190 							
   191 3298 8D 75 33					sta nznakX43+1
   192 329B 8C 76 33					sty nznakX43+2
   193 							
   194 							
   195 				;adresy starych znakow
   196 329E A0 00					ldy #0			;1znak
   197 32A0 B1 69					lda (pom),y
   198 32A2 AA						tax
   199 32A3 29 80					and #128			
   200 32A5 05 37					ora nchar		;nr znaku duszka
   201 32A7 91 69					sta (pom),y
   202 32A9 BD 00 15					lda adresZnakL,x
   203 32AC 8D 48 33					sta sznakX40+1
   204 32AF BD 00 16					lda adresZnakH,x
   205 32B2 05 D1					ora ramka4
   206 32B4 8D 49 33					sta sznakX40+2
   207 							
   208 32B7 E6 37					inc nchar
   209 32B9 A0 30					ldy #48			;1znak
   210 32BB B1 69					lda (pom),y
   211 32BD AA						tax
   212 32BE 29 80					and #128
   213 32C0 05 37					ora nchar		;nr znaku duszka
   214 32C2 91 69					sta (pom),y
   215 32C4 BD 00 15					lda adresZnakL,x
   216 32C7 8D 54 33					sta sznakX41+1
   217 32CA BD 00 16					lda adresZnakH,x
   218 32CD 05 D1					ora ramka4
   219 32CF 8D 55 33					sta sznakX41+2
   220 							
   221 32D2 E6 37					inc nchar
   222 32D4 A0 01					ldy #1			;1znak
   223 32D6 B1 69					lda (pom),y
   224 32D8 AA						tax
   225 32D9 29 80					and #128
   226 32DB 05 37					ora nchar		;nr znaku duszka
   227 32DD 91 69					sta (pom),y
   228 32DF BD 00 15					lda adresZnakL,x
   229 32E2 8D 60 33					sta sznakX42+1
   230 32E5 BD 00 16					lda adresZnakH,x
   231 32E8 05 D1					ora ramka4
   232 32EA 8D 61 33					sta sznakX42+2
   233 							
   234 32ED E6 37					inc nchar
   235 32EF A0 31					ldy #49			;1znak
   236 32F1 B1 69					lda (pom),y
   237 32F3 AA						tax
   238 32F4 29 80					and #128
   239 32F6 05 37					ora nchar		;nr znaku duszka
   240 32F8 91 69					sta (pom),y
   241 32FA BD 00 15					lda adresZnakL,x
   242 32FD 8D 6C 33					sta sznakX43+1
   243 3300 BD 00 16					lda adresZnakH,x
   244 3303 05 D1					ora ramka4
   245 3305 8D 6D 33					sta sznakX43+2
   246
   247 				;adresy ksztaltow	dla danych znakow
   248 3308 A5 6D					lda _kszt		;adresy ksztaltow
   249 330A 8D 4E 33					sta ksztX40+1
   250 330D A4 6E					ldy _kszt+1
   251 330F 8C 4F 33					sty ksztX40+2
   252 				.IF .NOT .DEF fastSprites
   253 3312 A6 70					ldx _mask+1
   254 3314 8D 4B 33					sta maskX40+1
   255 3317 8E 4C 33					stx maskX40+2
   256 				.ENDIF
   257 331A 18						clc
   258 331B 69 08					adc #8
   259 							
   260 331D 8D 5A 33					sta ksztX41+1
   261 3320 8C 5B 33					sty ksztX41+2
   262 				.IF .NOT .DEF fastSprites
   263 3323 8D 57 33					sta maskX41+1
   264 3326 8E 58 33					stx maskX41+2
   265 				.ENDIF
   266 3329 69 08					adc #8
   267 							
   268 332B 8D 66 33					sta ksztX42+1
   269 332E 8C 67 33					sty ksztX42+2
   270 				.IF .NOT .DEF fastSprites
   271 3331 8D 63 33					sta maskX42+1
   272 3334 8E 64 33					stx maskX42+2
   273 				.ENDIF
   274 3337 69 08					adc #8
   275 							
   276 3339 8D 72 33					sta ksztX43+1
   277 333C 8C 73 33					sty ksztX43+2
   278 				.IF .NOT .DEF fastSprites
   279 333F 8D 6F 33					sta maskX43+1
   280 3342 8E 70 33					stx maskX43+2
   281 				.ENDIF
   282 							
   283 				;rysuje duszki przy przesunięciu DX=0 i DY=0 , 4znaki
   284 3345 A0 07					ldy #7
   285 = 3347			@			equ *
   286 							.rept 4, #
   287 				SZNAKX4:1	EQU *
   288 							LDA $FFFF,Y
   289 				.IF .NOT .DEF FASTSPRITES
   290 				MASKX4:1	AND $FFFF,Y
   291 				KSZTX4:1	ORA $FFFF,Y
   292 				.ELSE
   293 				KSZTX4:1	EQU *
   294 							EOR	$FFFF,Y
   295 				.ENDIF
   296 				NZNAKX4:1	EQU *
   297 							STA $FFFF,Y
   298 							.ENDR
   298 							.endr
Source: REPT
   287 = 3347			SZNAKX40	EQU *
   287 3347 B9 FF FF					LDA $FFFF,Y
   287 				.IF .NOT .DEF FASTSPRITES
   287 334A 39 FF FF		MASKX40	AND $FFFF,Y
   287 334D 19 FF FF		KSZTX40	ORA $FFFF,Y
   287 				.ELSE
   287 				KSZTX40	EQU *
   287 							EOR	$FFFF,Y
   287 				.ENDIF
   287 = 3350			NZNAKX40	EQU *
   287 3350 99 FF FF					STA $FFFF,Y
   287 = 3353			SZNAKX41	EQU *
   287 3353 B9 FF FF					LDA $FFFF,Y
   287 				.IF .NOT .DEF FASTSPRITES
   287 3356 39 FF FF		MASKX41	AND $FFFF,Y
   287 3359 19 FF FF		KSZTX41	ORA $FFFF,Y
   287 				.ELSE
   287 				KSZTX41	EQU *
   287 							EOR	$FFFF,Y
   287 				.ENDIF
   287 = 335C			NZNAKX41	EQU *
   287 335C 99 FF FF					STA $FFFF,Y
   287 = 335F			SZNAKX42	EQU *
   287 335F B9 FF FF					LDA $FFFF,Y
   287 				.IF .NOT .DEF FASTSPRITES
   287 3362 39 FF FF		MASKX42	AND $FFFF,Y
   287 3365 19 FF FF		KSZTX42	ORA $FFFF,Y
   287 				.ELSE
   287 				KSZTX42	EQU *
   287 							EOR	$FFFF,Y
   287 				.ENDIF
   287 = 3368			NZNAKX42	EQU *
   287 3368 99 FF FF					STA $FFFF,Y
   287 = 336B			SZNAKX43	EQU *
   287 336B B9 FF FF					LDA $FFFF,Y
   287 				.IF .NOT .DEF FASTSPRITES
   287 336E 39 FF FF		MASKX43	AND $FFFF,Y
   287 3371 19 FF FF		KSZTX43	ORA $FFFF,Y
   287 				.ELSE
   287 				KSZTX43	EQU *
   287 							EOR	$FFFF,Y
   287 				.ENDIF
   287 = 3374			NZNAKX43	EQU *
   287 3374 99 FF FF					STA $FFFF,Y
Source: duszki3.asm
   299 3377 88						dey
   300 3378 10 CD					bpl @-
   301
   302 				.IF .DEF PSP_CODE			
   303 337A AD 74 31					lda psp
   304 337D D0 05					bne @+
   305 				.ENDIF			
   306 337F A5 3B					lda pom0d
   307 3381 8D 01 D3					sta PORTB
   308 3384 A6 38		@			ldx zapX
   309 3386 A9 00					lda #0
   310 3388 9D 62 31					sta enemyEkran,x
   311 338B 60						rts	
   312 							
   313 				;DX>0,DY=0		
   314 = 338C			printDX6		equ *
   315 				;adresy nowych znakow	
   316 338C BD 7B 31					lda duszkiZnakiH,x
   317 338F 05 D1					ora ramka4
   318 3391 8D E6 34					sta nznakX60+2
   319 3394 A8						tay
   320 3395 BD 75 31					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   321 3398 8D E5 34					sta nznakX60+1
   322 339B 18						clc
   323 339C 69 08					adc #8
   324 							
   325 339E 8D F1 34					sta nznakX61+1
   326 33A1 8C F2 34					sty nznakX61+2
   327 33A4 69 08					adc #8
   328 							
   329 33A6 8D FD 34					sta nznakX62+1
   330 33A9 8C FE 34					sty nznakX62+2
   331 33AC 69 08					adc #8
   332 							
   333 33AE 8D 09 35					sta nznakX63+1
   334 33B1 8C 0A 35					sty nznakX63+2
   335 33B4 69 08					adc #8
   336 33B6 90 02					bcc *+4
   337 33B8 C8						iny
   338 33B9 18						clc
   339 							
   340 33BA 8D 15 35					sta nznakX64+1
   341 33BD 8C 16 35					sty nznakX64+2
   342 33C0 69 08					adc #8
   343 							
   344 33C2 8D 21 35					sta nznakX65+1
   345 33C5 8C 22 35					sty nznakX65+2
   346
   347 				;adresy starych znakow
   348 33C8 A0 00					ldy #0			;1znak
   349 33CA B1 69					lda (pom),y
   350 33CC AA						tax					
   351 33CD 29 80					and #128
   352 33CF 05 37					ora nchar		;nr znaku duszka
   353 33D1 91 69					sta (pom),y
   354 33D3 BD 00 15					lda adresZnakL,x
   355 33D6 8D DC 34					sta sznakX60+1
   356 33D9 BD 00 16					lda adresZnakH,x
   357 33DC 05 D1					ora ramka4
   358 33DE 8D DD 34					sta sznakX60+2
   359
   360 33E1 E6 37					inc nchar
   361 33E3 A0 30					ldy #48			;1znak
   362 33E5 B1 69					lda (pom),y
   363 33E7 AA						tax		
   364 33E8 29 80					and #128
   365 33EA 05 37					ora nchar		;nr znaku duszka
   366 33EC 91 69					sta (pom),y
   367 33EE BD 00 15					lda adresZnakL,x
   368 33F1 8D E8 34					sta sznakX61+1
   369 33F4 BD 00 16					lda adresZnakH,x
   370 33F7 05 D1					ora ramka4
   371 33F9 8D E9 34					sta sznakX61+2
   372 							
   373 33FC E6 37					inc nchar
   374 33FE A0 01					ldy #1			;1znak
   375 3400 B1 69					lda (pom),y
   376 3402 AA						tax		
   377 3403 29 80					and #128
   378 3405 05 37					ora nchar		;nr znaku duszka
   379 3407 91 69					sta (pom),y
   380 3409 BD 00 15					lda adresZnakL,x
   381 340C 8D F4 34					sta sznakX62+1
   382 340F BD 00 16					lda adresZnakH,x
   383 3412 05 D1					ora ramka4
   384 3414 8D F5 34					sta sznakX62+2
   385 							
   386 3417 E6 37					inc nchar
   387 3419 A0 31					ldy #49			;1znak
   388 341B B1 69					lda (pom),y
   389 341D AA						tax		
   390 341E 29 80					and #128
   391 3420 05 37					ora nchar		;nr znaku duszka
   392 3422 91 69					sta (pom),y
   393 3424 BD 00 15					lda adresZnakL,x
   394 3427 8D 00 35					sta sznakX63+1
   395 342A BD 00 16					lda adresZnakH,x
   396 342D 05 D1					ora ramka4
   397 342F 8D 01 35					sta sznakX63+2
   398 							
   399 3432 E6 37					inc nchar
   400 3434 A0 02					ldy #2			;1znak
   401 3436 B1 69					lda (pom),y
   402 3438 AA						tax		
   403 3439 29 80					and #128
   404 343B 05 37					ora nchar		;nr znaku duszka
   405 343D 91 69					sta (pom),y
   406 343F BD 00 15					lda adresZnakL,x
   407 3442 8D 0C 35					sta sznakX64+1
   408 3445 BD 00 16					lda adresZnakH,x
   409 3448 05 D1					ora ramka4
   410 344A 8D 0D 35					sta sznakX64+2
   411 							
   412 344D E6 37					inc nchar
   413 344F A0 32					ldy #50			;1znak
   414 3451 B1 69					lda (pom),y
   415 3453 AA						tax			
   416 3454 29 80					and #128
   417 3456 05 37					ora nchar		;nr znaku duszka
   418 3458 91 69					sta (pom),y
   419 345A BD 00 15					lda adresZnakL,x
   420 345D 8D 18 35					sta sznakX65+1
   421 3460 BD 00 16					lda adresZnakH,x
   422 3463 05 D1					ora ramka4
   423 3465 8D 19 35					sta sznakX65+2
   424
   425 				;adresy ksztaltow	dla danych znakow
   426 3468 A5 6D					lda _kszt		;adresy ksztaltow
   427 346A 8D E2 34					sta ksztX60+1
   428 346D A4 6E					ldy _kszt+1
   429 346F 8C E3 34					sty ksztX60+2
   430 				.IF .NOT .DEF fastSprites
   431 3472 A6 70					ldx _mask+1
   432 3474 8D DF 34					sta maskX60+1
   433 3477 8E E0 34					stx maskX60+2
   434 				.ENDIF
   435 347A 18						clc
   436 347B 69 08					adc #8
   437 347D 90 03					bcc @+
   438 				.IF .NOT .DEF fastSprites
   439 347F E8						inx
   440 				.ENDIF
   441 3480 C8						iny
   442 3481 18						clc
   443 							
   444 3482 8D EE 34		@			sta ksztX61+1
   445 3485 8C EF 34					sty ksztX61+2
   446 				.IF .NOT .DEF fastSprites
   447 3488 8D EB 34					sta maskX61+1
   448 348B 8E EC 34					stx maskX61+2
   449 				.ENDIF
   450 348E 69 08					adc #8
   451 3490 90 03					bcc @+
   452 				.IF .NOT .DEF fastSprites
   453 3492 E8						inx
   454 				.ENDIF
   455 3493 C8						iny
   456 3494 18						clc
   457 							
   458 3495 8D FA 34		@			sta ksztX62+1
   459 3498 8C FB 34					sty ksztX62+2
   460 				.IF .NOT .DEF fastSprites
   461 349B 8D F7 34					sta maskX62+1
   462 349E 8E F8 34					stx maskX62+2
   463 				.ENDIF
   464 34A1 69 08					adc #8
   465 34A3 90 03					bcc @+
   466 				.IF .NOT .DEF fastSprites
   467 34A5 E8						inx
   468 				.ENDIF
   469 34A6 C8						iny
   470 34A7 18						clc
   471 							
   472 34A8 8D 06 35		@			sta ksztX63+1
   473 34AB 8C 07 35					sty ksztX63+2
   474 				.IF .NOT .DEF fastSprites
   475 34AE 8D 03 35					sta maskX63+1
   476 34B1 8E 04 35					stx maskX63+2
   477 				.ENDIF
   478 34B4 69 08					adc #8
   479 34B6 90 03					bcc @+
   480 				.IF .NOT .DEF fastSprites
   481 34B8 E8						inx
   482 				.ENDIF
   483 34B9 C8						iny
   484 34BA 18						clc
   485 							
   486 34BB 8D 12 35		@			sta ksztX64+1
   487 34BE 8C 13 35					sty ksztX64+2
   488 				.IF .NOT .DEF fastSprites
   489 34C1 8D 0F 35					sta maskX64+1
   490 34C4 8E 10 35					stx maskX64+2
   491 				.ENDIF
   492 34C7 69 08					adc #8
   493 34C9 90 02					bcc @+
   494 				.IF .NOT .DEF fastSprites
   495 34CB E8						inx
   496 				.ENDIF
   497 34CC C8						iny
   498 							
   499 34CD 8D 1E 35		@			sta ksztX65+1
   500 34D0 8C 1F 35					sty ksztX65+2
   501 				.IF .NOT .DEF fastSprites
   502 34D3 8D 1B 35					sta maskX65+1
   503 34D6 8E 1C 35					stx maskX65+2
   504 				.ENDIF
   505 							
   506 				;rysuje duszki przy przesunięciu DX>0 i DY=0
   507 34D9 A0 07					ldy #7
   508 = 34DB			@			equ *
   509 							.rept 6, #
   510 				SZNAKX6:1	EQU *
   511 							LDA $FFFF,Y
   512 				.IF .NOT .DEF FASTSPRITES
   513 				MASKX6:1	AND $FFFF,Y
   514 				KSZTX6:1	ORA $FFFF,Y
   515 				.ELSE
   516 				KSZTX6:1	EQU *
   517 							EOR	$FFFF,Y
   518 				.ENDIF
   519 				NZNAKX6:1	EQU *
   520 							STA $FFFF,Y
   521 							.ENDR
   521 							.endr
Source: REPT
   510 = 34DB			SZNAKX60	EQU *
   510 34DB B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 34DE 39 FF FF		MASKX60	AND $FFFF,Y
   510 34E1 19 FF FF		KSZTX60	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX60	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 34E4			NZNAKX60	EQU *
   510 34E4 99 FF FF					STA $FFFF,Y
   510 = 34E7			SZNAKX61	EQU *
   510 34E7 B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 34EA 39 FF FF		MASKX61	AND $FFFF,Y
   510 34ED 19 FF FF		KSZTX61	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX61	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 34F0			NZNAKX61	EQU *
   510 34F0 99 FF FF					STA $FFFF,Y
   510 = 34F3			SZNAKX62	EQU *
   510 34F3 B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 34F6 39 FF FF		MASKX62	AND $FFFF,Y
   510 34F9 19 FF FF		KSZTX62	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX62	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 34FC			NZNAKX62	EQU *
   510 34FC 99 FF FF					STA $FFFF,Y
   510 = 34FF			SZNAKX63	EQU *
   510 34FF B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 3502 39 FF FF		MASKX63	AND $FFFF,Y
   510 3505 19 FF FF		KSZTX63	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX63	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 3508			NZNAKX63	EQU *
   510 3508 99 FF FF					STA $FFFF,Y
   510 = 350B			SZNAKX64	EQU *
   510 350B B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 350E 39 FF FF		MASKX64	AND $FFFF,Y
   510 3511 19 FF FF		KSZTX64	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX64	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 3514			NZNAKX64	EQU *
   510 3514 99 FF FF					STA $FFFF,Y
   510 = 3517			SZNAKX65	EQU *
   510 3517 B9 FF FF					LDA $FFFF,Y
   510 				.IF .NOT .DEF FASTSPRITES
   510 351A 39 FF FF		MASKX65	AND $FFFF,Y
   510 351D 19 FF FF		KSZTX65	ORA $FFFF,Y
   510 				.ELSE
   510 				KSZTX65	EQU *
   510 							EOR	$FFFF,Y
   510 				.ENDIF
   510 = 3520			NZNAKX65	EQU *
   510 3520 99 FF FF					STA $FFFF,Y
Source: duszki3.asm
   522 3523 88						dey
   523 3524 10 B5					bpl @-
   524 							
   525 				.IF .DEF PSP_CODE			
   526 3526 AD 74 31					lda psp
   527 3529 D0 05					bne @+
   528 				.ENDIF				
   529 352B A5 3B					lda pom0d
   530 352D 8D 01 D3					sta PORTB
   531 3530 A6 38		@			ldx zapX
   532 3532 A9 00					lda #0
   533 3534 9D 62 31					sta enemyEkran,x
   534 3537 60						rts
   535 							
   536 							
   537 = 3538			printDY6	equ *
   538 				;adresy nowych znakow
   539 3538 BD 7B 31					lda duszkiZnakiH,x
   540 353B 05 D1					ora ramka4
   541 353D 8D E7 36					sta nznakY60+2
   542 3540 8D 22 37					sta nznakY60b+2
   543 3543 A8						tay
   544 3544 BD 75 31					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   545 3547 8D E6 36					sta nznakY60+1
   546 354A 8D 21 37					sta nznakY60b+1
   547 354D 18						clc
   548 354E 69 08					adc #8
   549 3550 90 02					bcc @+
   550 3552 C8						iny
   551 3553 18						clc
   552 							
   553 3554 8D F2 36		@			sta nznakY61+1
   554 3557 8D 2D 37					sta nznakY61b+1
   555 355A 8C F3 36					sty nznakY61+2
   556 355D 8C 2E 37					sty nznakY61b+2
   557 3560 69 08					adc #8
   558 							
   559 3562 8D F8 36					sta nznakY62+1
   560 3565 8D 39 37					sta nznakY62b+1
   561 3568 8C F9 36					sty nznakY62+2
   562 356B 8C 3A 37					sty nznakY62b+2
   563 356E 69 08					adc #8
   564 							
   565 3570 8D 04 37					sta nznakY63+1
   566 3573 8D 3F 37					sta nznakY63b+1
   567 3576 8C 05 37					sty nznakY63+2
   568 3579 8C 40 37					sty nznakY63b+2
   569 357C 69 08					adc #8
   570 357E 90 02					bcc *+4
   571 3580 C8						iny
   572 3581 18						clc
   573 							
   574 3582 8D 10 37					sta nznakY64+1
   575 3585 8D 4B 37					sta nznakY64b+1
   576 3588 8C 11 37					sty nznakY64+2
   577 358B 8C 4C 37					sty nznakY64b+2
   578 358E 69 08					adc #8
   579 							
   580 3590 8D 16 37					sta nznakY65+1
   581 3593 8D 57 37					sta nznakY65b+1
   582 3596 8C 17 37					sty nznakY65+2
   583 3599 8C 58 37					sty nznakY65b+2
   584
   585 				;adresy starych znaków
   586
   587 359C A4 3A					ldy pom0c
   588 359E 88						dey
   589 359F 8C 1A 37					sty petlaY6+1
   590 						
   591 35A2 A0 00					ldy #0			;1znak
   592 35A4 B1 69					lda (pom),y
   593 35A6 AA						tax
   594 35A7 29 80					and #128
   595 35A9 05 37					ora nchar		;nr znaku duszka
   596 35AB 91 69					sta (pom),y
   597 35AD BD 00 15					lda adresZnakL,x
   598 35B0 8D DD 36					sta sznakY60+1
   599 35B3 8D 1E 37					sta sznakY60b+1
   600 35B6 BD 00 16					lda adresZnakH,x
   601 35B9 05 D1					ora ramka4
   602 35BB 8D DE 36					sta sznakY60+2
   603 35BE 8D 1F 37					sta sznakY60b+2
   604 								
   605 35C1 E6 37					inc nchar
   606 35C3 A0 30					ldy #48			;1znak
   607 35C5 B1 69					lda (pom),y
   608 35C7 AA						tax
   609 35C8 29 80					and #128
   610 35CA 05 37					ora nchar		;nr znaku duszka
   611 35CC 91 69					sta (pom),y
   612 35CE BD 00 15					lda adresZnakL,x
   613 35D1 8D E9 36					sta sznakY61+1
   614 35D4 8D 24 37					sta sznakY61b+1
   615 35D7 BD 00 16					lda adresZnakH,x
   616 35DA 05 D1					ora ramka4
   617 35DC 8D EA 36					sta sznakY61+2
   618 35DF 8D 25 37					sta sznakY61b+2
   619 							
   620 35E2 E6 37					inc nchar
   621 35E4 A0 60					ldy #96			;1znak
   622 35E6 B1 69					lda (pom),y
   623 35E8 AA						tax
   624 35E9 29 80					and #128
   625 35EB 05 37					ora nchar		;nr znaku duszka
   626 35ED 91 69					sta (pom),y
   627 35EF BD 00 15					lda adresZnakL,x
   628 35F2 8D F5 36					sta sznakY62+1
   629 35F5 8D 30 37					sta sznakY62b+1
   630 35F8 BD 00 16					lda adresZnakH,x
   631 35FB 05 D1					ora ramka4
   632 35FD 8D F6 36					sta sznakY62+2
   633 3600 8D 31 37					sta sznakY62b+2
   634 							
   635 3603 E6 37					inc nchar
   636 3605 A0 01					ldy #1			;1znak
   637 3607 B1 69					lda (pom),y
   638 3609 AA						tax
   639 360A 29 80					and #128
   640 360C 05 37					ora nchar		;nr znaku duszka
   641 360E 91 69					sta (pom),y
   642 3610 BD 00 15					lda adresZnakL,x
   643 3613 8D FB 36					sta sznakY63+1
   644 3616 8D 3C 37					sta sznakY63b+1
   645 3619 BD 00 16					lda adresZnakH,x
   646 361C 05 D1					ora ramka4
   647 361E 8D FC 36					sta sznakY63+2
   648 3621 8D 3D 37					sta sznakY63b+2
   649 							
   650 3624 E6 37					inc nchar
   651 3626 A0 31					ldy #49			;1znak
   652 3628 B1 69					lda (pom),y
   653 362A AA						tax
   654 362B 29 80					and #128
   655 362D 05 37					ora nchar		;nr znaku duszka
   656 362F 91 69					sta (pom),y
   657 3631 BD 00 15					lda adresZnakL,x
   658 3634 8D 07 37					sta sznakY64+1
   659 3637 8D 42 37					sta sznakY64b+1
   660 363A BD 00 16					lda adresZnakH,x
   661 363D 05 D1					ora ramka4
   662 363F 8D 08 37					sta sznakY64+2
   663 3642 8D 43 37					sta sznakY64b+2
   664 							
   665 3645 E6 37					inc nchar
   666 3647 A0 61					ldy #97			;1znak
   667 3649 B1 69					lda (pom),y
   668 364B AA						tax
   669 364C 29 80					and #128
   670 364E 05 37					ora nchar		;nr znaku duszka
   671 3650 91 69					sta (pom),y
   672 3652 BD 00 15					lda adresZnakL,x
   673 3655 8D 13 37					sta sznakY65+1
   674 3658 8D 4E 37					sta sznakY65b+1
   675 365B BD 00 16					lda adresZnakH,x
   676 365E 05 D1					ora ramka4
   677 3660 8D 14 37					sta sznakY65+2
   678 3663 8D 4F 37					sta sznakY65b+2
   679
   680 				;adresy ksztaltow	dla danych znakow
   681 3666 A5 6D					lda _kszt		;adresy ksztaltow
   682 3668 8D E3 36					sta ksztY60+1
   683 366B A4 6E					ldy _kszt+1
   684 366D 8C E4 36					sty ksztY60+2
   685 				.IF .NOT .DEF fastSprites
   686 3670 A6 70					ldx _mask+1
   687 3672 8D E0 36					sta maskY60+1
   688 3675 8E E1 36					stx maskY60+2
   689 				.ENDIF
   690 3678 18						clc
   691 3679 69 08					adc #8
   692 367B 90 03					bcc @+
   693 367D C8						iny
   694 				.IF .NOT .DEF fastSprites
   695 367E E8						inx
   696 				.ENDIF
   697 							
   698 367F 18						clc
   699 3680 8D EF 36		@			sta ksztY61+1
   700 3683 8D 2A 37					sta ksztY61b+1
   701 3686 8C F0 36					sty ksztY61+2
   702 3689 8C 2B 37					sty ksztY61b+2
   703 				.IF .NOT .DEF fastSprites
   704 368C 8D EC 36					sta maskY61+1
   705 368F 8D 27 37					sta maskY61b+1
   706 3692 8E ED 36					stx maskY61+2
   707 3695 8E 28 37					stx maskY61b+2
   708 				.ENDIF
   709 3698 69 08					adc #8 	
   710 							
   711 369A 8D 36 37					sta ksztY62b+1
   712 369D 8C 37 37					sty ksztY62b+2
   713 				.IF .NOT .DEF fastSprites
   714 36A0 8D 33 37					sta maskY62b+1
   715 36A3 8E 34 37					stx maskY62b+2
   716 				.ENDIF
   717 							
   718 36A6 8D 01 37					sta ksztY63+1
   719 36A9 8C 02 37					sty ksztY63+2
   720 				.IF .NOT .DEF fastSprites
   721 36AC 8D FE 36					sta maskY63+1
   722 36AF 8E FF 36					stx maskY63+2
   723 				.ENDIF
   724 36B2 69 08					adc #8
   725 							
   726 36B4 8D 0D 37					sta ksztY64+1
   727 36B7 8D 48 37					sta ksztY64b+1
   728 36BA 8C 0E 37					sty ksztY64+2
   729 36BD 8C 49 37					sty ksztY64b+2
   730 				.IF .NOT .DEF fastSprites
   731 36C0 8D 0A 37					sta maskY64+1
   732 36C3 8D 45 37					sta maskY64b+1
   733 36C6 8E 0B 37					stx maskY64+2
   734 36C9 8E 46 37					stx maskY64b+2
   735 				.ENDIF
   736 36CC 69 08					adc #8
   737 							
   738 36CE 8D 54 37					sta ksztY65b+1
   739 36D1 8C 55 37					sty ksztY65b+2
   740 				.IF .NOT .DEF fastSprites
   741 36D4 8D 51 37					sta maskY65b+1
   742 36D7 8E 52 37					stx maskY65b+2
   743 				.ENDIF
   744 							
   745 				;rysuje duszki przy DX=0 i DY>0 , 6 znaków
   746 36DA A0 07					ldy #7
   747 = 36DC			@			equ *
   748
   749 = 36DC			sznakY60	equ *
   750 36DC B9 FF FF					lda $ffff,y
   751 				.IF .NOT .DEF fastSprites
   752 36DF 39 FF FF		maskY60		and $ffff,y
   753 36E2 19 FF FF		ksztY60		ora $ffff,y
   754 				.ELSE
   755 				ksztY60		equ *
   756 							eor $ffff,y
   757 				.ENDIF
   758 = 36E5			nznakY60	equ *
   759 36E5 99 FF FF					sta $ffff,y
   760 							
   761 = 36E8			sznakY61	equ *
   762 36E8 B9 FF FF					lda $ffff,y
   763 				.IF .NOT .DEF fastSprites
   764 36EB 39 FF FF		maskY61		and $ffff,y
   765 36EE 19 FF FF		ksztY61		ora $ffff,y
   766 				.ELSE
   767 				ksztY61		equ *
   768 							eor $ffff,y
   769 				.ENDIF
   770 = 36F1			nznakY61	equ *
   771 36F1 99 FF FF					sta $ffff,y
   772 							
   773 = 36F4			sznakY62	equ *
   774 36F4 B9 FF FF					lda $ffff,y
   775 = 36F7			nznakY62	equ *
   776 36F7 99 FF FF					sta $ffff,y		
   777
   778 = 36FA			sznakY63	equ *
   779 36FA B9 FF FF					lda $ffff,y
   780 				.IF .NOT .DEF fastSprites
   781 36FD 39 FF FF		maskY63		and $ffff,y
   782 3700 19 FF FF		ksztY63		ora $ffff,y
   783 				.ELSE
   784 				ksztY63		equ *
   785 							eor $ffff,y
   786 				.ENDIF
   787 = 3703			nznakY63	equ *
   788 3703 99 FF FF					sta $ffff,y
   789 							
   790 = 3706			sznakY64	equ *
   791 3706 B9 FF FF					lda $ffff,y
   792 				.IF .NOT .DEF fastSprites
   793 3709 39 FF FF		maskY64		and $ffff,y
   794 370C 19 FF FF		ksztY64		ora $ffff,y
   795 				.ELSE
   796 				ksztY64		equ *
   797 							eor $ffff,y
   798 				.ENDIF
   799 = 370F			nznakY64	equ *
   800 370F 99 FF FF					sta $ffff,y
   801 							
   802 = 3712			sznakY65	equ *
   803 3712 B9 FF FF					lda $ffff,y
   804 = 3715			nznakY65	equ *
   805 3715 99 FF FF					sta $ffff,y				
   806 							
   807 3718 88						dey
   808 = 3719			petlaY6		equ *
   809 3719 C0 FF					cpy #$ff
   810 371B D0 BF					bne @-
   811 							
   812 = 371D			@			equ *
   813 = 371D			sznakY60b	equ *
   814 371D B9 FF FF					lda $ffff,y
   815 = 3720			nznakY60b	equ *
   816 3720 99 FF FF					sta $ffff,y
   817 							
   818 = 3723			sznakY61b	equ *
   819 3723 B9 FF FF					lda $ffff,y
   820 				.IF .NOT .DEF fastSprites
   821 3726 39 FF FF		maskY61b	and $ffff,y
   822 3729 19 FF FF		ksztY61b	ora $ffff,y
   823 				.ELSE
   824 				ksztY61b	equ *
   825 							eor $ffff,y
   826 				.ENDIF
   827 = 372C			nznakY61b	equ *
   828 372C 99 FF FF					sta $ffff,y	
   829 							
   830 = 372F			sznakY62b	equ *
   831 372F B9 FF FF					lda $ffff,y
   832 				.IF .NOT .DEF fastSprites
   833 3732 39 FF FF		maskY62b	and $ffff,y
   834 3735 19 FF FF		ksztY62b	ora $ffff,y
   835 				.ELSE
   836 				ksztY62b	equ *
   837 							eor $ffff,y
   838 				.ENDIF
   839 = 3738			nznakY62b	equ *
   840 3738 99 FF FF					sta $ffff,y			
   841 							
   842 = 373B			sznakY63b	equ *
   843 373B B9 FF FF					lda $ffff,y
   844 = 373E			nznakY63b	equ *
   845 373E 99 FF FF					sta $ffff,y
   846 							
   847 = 3741			sznakY64b	equ *
   848 3741 B9 FF FF					lda $ffff,y
   849 				.IF .NOT .DEF fastSprites
   850 3744 39 FF FF		maskY64b	and $ffff,y
   851 3747 19 FF FF		ksztY64b	ora $ffff,y
   852 				.ELSE
   853 				ksztY64b	equ *
   854 							eor $ffff,y
   855 				.ENDIF
   856 = 374A			nznakY64b	equ *
   857 374A 99 FF FF					sta $ffff,y	
   858 							
   859 = 374D			sznakY65b	equ *
   860 374D B9 FF FF					lda $ffff,y
   861 				.IF .NOT .DEF fastSprites
   862 3750 39 FF FF		maskY65b	and $ffff,y
   863 3753 19 FF FF		ksztY65b	ora $ffff,y
   864 				.ELSE
   865 				ksztY65b	equ *
   866 							eor $ffff,y
   867 				.ENDIF
   868 = 3756			nznakY65b	equ *
   869 3756 99 FF FF					sta $ffff,y	
   870 							
   871 3759 88						dey
   872 375A 10 C1					bpl @-
   873
   874 				.IF .DEF PSP_CODE			
   875 375C AD 74 31					lda psp
   876 375F D0 05					bne @+
   877 				.ENDIF				
   878 3761 A5 3B					lda pom0d
   879 3763 8D 01 D3					sta PORTB
   880 3766 A6 38		@			ldx zapX
   881 3768 A9 00					lda #0
   882 376A 9D 62 31					sta enemyEkran,x
   883 376D 60						rts
   884 							
   885 = 376E			printDY9	equ *
   886 				;adresy nowych znakow
   887 376E BD 7B 31					lda duszkiZnakiH,x
   888 3771 05 D1					ora ramka4
   889 3773 8D F2 39					sta nznakY90+2
   890 3776 8D 4B 3A					sta nznakY90b+2
   891 3779 A8						tay
   892 377A BD 75 31					lda duszkiZnakiL,x		;wskaznik do adresu pierwszego znaku duszka
   893 377D 8D F1 39					sta nznakY90+1
   894 3780 8D 4A 3A					sta nznakY90b+1
   895 3783 18						clc
   896 3784 69 08					adc #8
   897 							
   898 3786 8D FD 39					sta nznakY91+1
   899 3789 8D 56 3A					sta nznakY91b+1
   900 378C 8C FE 39					sty nznakY91+2
   901 378F 8C 57 3A					sty nznakY91b+2
   902 3792 69 08					adc #8
   903 							
   904 3794 8D 03 3A					sta nznakY92+1
   905 3797 8D 62 3A					sta nznakY92b+1
   906 379A 8C 04 3A					sty nznakY92+2
   907 379D 8C 63 3A					sty nznakY92b+2
   908 37A0 69 08					adc #8
   909 							
   910 37A2 8D 0F 3A					sta nznakY93+1
   911 37A5 8D 68 3A					sta nznakY93b+1
   912 37A8 8C 10 3A					sty nznakY93+2
   913 37AB 8C 69 3A					sty nznakY93b+2
   914 37AE 69 08					adc #8
   915 37B0 90 02					bcc *+4
   916 37B2 C8						iny
   917 37B3 18						clc
   918 							
   919 37B4 8D 1B 3A					sta nznakY94+1
   920 37B7 8D 74 3A					sta nznakY94b+1
   921 37BA 8C 1C 3A					sty nznakY94+2
   922 37BD 8C 75 3A					sty nznakY94b+2
   923 37C0 69 08					adc #8
   924 							
   925 37C2 8D 21 3A					sta nznakY95+1
   926 37C5 8D 80 3A					sta nznakY95b+1
   927 37C8 8C 22 3A					sty nznakY95+2
   928 37CB 8C 81 3A					sty nznakY95b+2
   929 37CE 69 08					adc #8
   930 							
   931 37D0 8D 2D 3A					sta nznakY96+1
   932 37D3 8D 86 3A					sta nznakY96b+1
   933 37D6 8C 2E 3A					sty nznakY96+2
   934 37D9 8C 87 3A					sty nznakY96b+2
   935 37DC 69 08					adc #8
   936 							
   937 37DE 8D 39 3A					sta nznakY97+1
   938 37E1 8D 92 3A					sta nznakY97b+1
   939 37E4 8C 3A 3A					sty nznakY97+2
   940 37E7 8C 93 3A					sty nznakY97b+2
   941 37EA 69 08					adc #8
   942 							
   943 37EC 8D 3F 3A					sta nznakY98+1
   944 37EF 8D 9E 3A					sta nznakY98b+1
   945 37F2 8C 40 3A					sty nznakY98+2
   946 37F5 8C 9F 3A					sty nznakY98b+2
   947
   948 				;adresy starych znakow
   949 37F8 A4 3A					ldy pom0c
   950 37FA 88						dey
   951 37FB 8C 43 3A					sty petlaY9+1
   952
   953 37FE A0 00					ldy #0			;1znak
   954 3800 B1 69					lda (pom),y
   955 3802 AA						tax
   956 3803 29 80					and #128
   957 3805 05 37					ora nchar		;nr znaku duszka
   958 3807 91 69					sta (pom),y
   959 3809 BD 00 15					lda adresZnakL,x
   960 380C 8D E8 39					sta sznakY90+1
   961 380F 8D 47 3A					sta sznakY90b+1
   962 3812 BD 00 16					lda adresZnakH,x
   963 3815 05 D1					ora ramka4
   964 3817 8D E9 39					sta sznakY90+2
   965 381A 8D 48 3A					sta sznakY90b+2
   966 							
   967 381D E6 37					inc nchar
   968 381F A0 30					ldy #48			;1znak
   969 3821 B1 69					lda (pom),y
   970 3823 AA						tax
   971 3824 29 80					and #128
   972 3826 05 37					ora nchar		;nr znaku duszka
   973 3828 91 69					sta (pom),y
   974 382A BD 00 15					lda adresZnakL,x
   975 382D 8D F4 39					sta sznakY91+1
   976 3830 8D 4D 3A					sta sznakY91b+1
   977 3833 BD 00 16					lda adresZnakH,x
   978 3836 05 D1					ora ramka4
   979 3838 8D F5 39					sta sznakY91+2
   980 383B 8D 4E 3A					sta sznakY91b+2
   981 							
   982 383E E6 37					inc nchar
   983 3840 A0 60					ldy #96			;1znak
   984 3842 B1 69					lda (pom),y
   985 3844 AA						tax
   986 3845 29 80					and #128
   987 3847 05 37					ora nchar		;nr znaku duszka
   988 3849 91 69					sta (pom),y
   989 384B BD 00 15					lda adresZnakL,x
   990 384E 8D 00 3A					sta sznakY92+1
   991 3851 8D 59 3A					sta sznakY92b+1
   992 3854 BD 00 16					lda adresZnakH,x
   993 3857 05 D1					ora ramka4
   994 3859 8D 01 3A					sta sznakY92+2
   995 385C 8D 5A 3A					sta sznakY92b+2
   996 							
   997 385F E6 37					inc nchar
   998 3861 A0 01					ldy #1			;1znak
   999 3863 B1 69					lda (pom),y
  1000 3865 AA						tax
  1001 3866 29 80					and #128
  1002 3868 05 37					ora nchar		;nr znaku duszka
  1003 386A 91 69					sta (pom),y
  1004 386C BD 00 15					lda adresZnakL,x
  1005 386F 8D 06 3A					sta sznakY93+1
  1006 3872 8D 65 3A					sta sznakY93b+1
  1007 3875 BD 00 16					lda adresZnakH,x
  1008 3878 05 D1					ora ramka4
  1009 387A 8D 07 3A					sta sznakY93+2
  1010 387D 8D 66 3A					sta sznakY93b+2
  1011 							
  1012 3880 E6 37					inc nchar
  1013 3882 A0 31					ldy #49			;1znak
  1014 3884 B1 69					lda (pom),y
  1015 3886 AA						tax
  1016 3887 29 80					and #128
  1017 3889 05 37					ora nchar		;nr znaku duszka
  1018 388B 91 69					sta (pom),y
  1019 388D BD 00 15					lda adresZnakL,x
  1020 3890 8D 12 3A					sta sznakY94+1
  1021 3893 8D 6B 3A					sta sznakY94b+1
  1022 3896 BD 00 16					lda adresZnakH,x
  1023 3899 05 D1					ora ramka4
  1024 389B 8D 13 3A					sta sznakY94+2
  1025 389E 8D 6C 3A					sta sznakY94b+2
  1026 							
  1027 38A1 E6 37					inc nchar
  1028 38A3 A0 61					ldy #97			;1znak
  1029 38A5 B1 69					lda (pom),y
  1030 38A7 AA						tax
  1031 38A8 29 80					and #128
  1032 38AA 05 37					ora nchar		;nr znaku duszka
  1033 38AC 91 69					sta (pom),y
  1034 38AE BD 00 15					lda adresZnakL,x
  1035 38B1 8D 1E 3A					sta sznakY95+1
  1036 38B4 8D 77 3A					sta sznakY95b+1
  1037 38B7 BD 00 16					lda adresZnakH,x
  1038 38BA 05 D1					ora ramka4
  1039 38BC 8D 1F 3A					sta sznakY95+2
  1040 38BF 8D 78 3A					sta sznakY95b+2
  1041 							
  1042 38C2 E6 37					inc nchar
  1043 38C4 A0 02					ldy #2			;1znak
  1044 38C6 B1 69					lda (pom),y
  1045 38C8 AA						tax
  1046 38C9 29 80					and #128
  1047 38CB 05 37					ora nchar		;nr znaku duszka
  1048 38CD 91 69					sta (pom),y
  1049 38CF BD 00 15					lda adresZnakL,x
  1050 38D2 8D 24 3A					sta sznakY96+1
  1051 38D5 8D 83 3A					sta sznakY96b+1
  1052 38D8 BD 00 16					lda adresZnakH,x
  1053 38DB 05 D1					ora ramka4
  1054 38DD 8D 25 3A					sta sznakY96+2
  1055 38E0 8D 84 3A					sta sznakY96b+2
  1056 							
  1057 38E3 E6 37					inc nchar
  1058 38E5 A0 32					ldy #50			;1znak
  1059 38E7 B1 69					lda (pom),y
  1060 38E9 AA						tax
  1061 38EA 29 80					and #128
  1062 38EC 05 37					ora nchar		;nr znaku duszka
  1063 38EE 91 69					sta (pom),y
  1064 38F0 BD 00 15					lda adresZnakL,x
  1065 38F3 8D 30 3A					sta sznakY97+1
  1066 38F6 8D 89 3A					sta sznakY97b+1
  1067 38F9 BD 00 16					lda adresZnakH,x
  1068 38FC 05 D1					ora ramka4
  1069 38FE 8D 31 3A					sta sznakY97+2
  1070 3901 8D 8A 3A					sta sznakY97b+2
  1071 							
  1072 3904 E6 37					inc nchar
  1073 3906 A0 62					ldy #98			;1znak
  1074 3908 B1 69					lda (pom),y
  1075 390A AA						tax
  1076 390B 29 80					and #128
  1077 390D 05 37					ora nchar		;nr znaku duszka
  1078 390F 91 69					sta (pom),y
  1079 3911 BD 00 15					lda adresZnakL,x
  1080 3914 8D 3C 3A					sta sznakY98+1
  1081 3917 8D 95 3A					sta sznakY98b+1
  1082 391A BD 00 16					lda adresZnakH,x
  1083 391D 05 D1					ora ramka4
  1084 391F 8D 3D 3A					sta sznakY98+2
  1085 3922 8D 96 3A					sta sznakY98b+2
  1086 							
  1087 				;adresy ksztaltow	dla danych znakow
  1088 3925 A5 6D					lda _kszt		;adresy ksztaltow
  1089 3927 8D EE 39					sta ksztY90+1
  1090 392A A4 6E					ldy _kszt+1
  1091 392C 8C EF 39					sty ksztY90+2
  1092 				.IF .NOT .DEF fastSprites
  1093 392F A6 70					ldx _mask+1
  1094 3931 8D EB 39					sta maskY90+1
  1095 3934 8E EC 39					stx maskY90+2
  1096 				.ENDIF
  1097 3937 18						clc
  1098 3938 69 08					adc #8
  1099 393A 90 03					bcc @+
  1100 393C C8						iny
  1101 				.IF .NOT .DEF fastSprites
  1102 393D E8						inx
  1103 				.ENDIF
  1104 393E 18						clc
  1105 							
  1106 393F 8D FA 39		@			sta ksztY91+1
  1107 3942 8D 53 3A					sta ksztY91b+1
  1108 3945 8C FB 39					sty ksztY91+2
  1109 3948 8C 54 3A					sty ksztY91b+2
  1110 				.IF .NOT .DEF fastSprites
  1111 394B 8D F7 39					sta maskY91+1
  1112 394E 8D 50 3A					sta maskY91b+1
  1113 3951 8E F8 39					stx maskY91+2
  1114 3954 8E 51 3A					stx maskY91b+2
  1115 				.ENDIF
  1116 3957 69 08					adc #8
  1117 3959 90 03					bcc @+
  1118 395B C8						iny
  1119 				.IF .NOT .DEF fastSprites
  1120 395C E8						inx
  1121 				.ENDIF
  1122 395D 18						clc
  1123 							
  1124 395E 8D 5F 3A		@			sta ksztY92b+1
  1125 3961 8C 60 3A					sty ksztY92b+2
  1126 				.IF .NOT .DEF fastSprites
  1127 3964 8D 5C 3A					sta maskY92b+1
  1128 3967 8E 5D 3A					stx maskY92b+2
  1129 				.ENDIF
  1130 						
  1131 396A 8D 0C 3A					sta ksztY93+1
  1132 396D 8C 0D 3A					sty ksztY93+2
  1133 				.IF .NOT .DEF fastSprites
  1134 3970 8D 09 3A					sta maskY93+1
  1135 3973 8E 0A 3A					stx maskY93+2
  1136 				.ENDIF
  1137 3976 69 08					adc #8
  1138 3978 90 03					bcc @+
  1139 397A C8						iny
  1140 				.IF .NOT .DEF fastSprites
  1141 397B E8						inx
  1142 				.ENDIF
  1143 397C 18						clc
  1144 							
  1145 397D 8D 18 3A		@			sta ksztY94+1
  1146 3980 8D 71 3A					sta ksztY94b+1
  1147 3983 8C 19 3A					sty ksztY94+2
  1148 3986 8C 72 3A					sty ksztY94b+2
  1149 				.IF .NOT .DEF fastSprites
  1150 3989 8D 15 3A					sta maskY94+1
  1151 398C 8D 6E 3A					sta maskY94b+1
  1152 398F 8E 16 3A					stx maskY94+2
  1153 3992 8E 6F 3A					stx maskY94b+2
  1154 				.ENDIF
  1155 3995 69 08					adc #8
  1156 3997 90 03					bcc @+
  1157 3999 C8						iny
  1158 				.IF .NOT .DEF fastSprites
  1159 399A E8						inx
  1160 				.ENDIF
  1161 399B 18						clc
  1162 							
  1163 399C 8D 7D 3A		@			sta ksztY95b+1
  1164 399F 8C 7E 3A					sty ksztY95b+2
  1165 				.IF .NOT .DEF fastSprites
  1166 39A2 8D 7A 3A					sta maskY95b+1
  1167 39A5 8E 7B 3A					stx maskY95b+2
  1168 				.ENDIF
  1169 					
  1170 39A8 8D 2A 3A					sta ksztY96+1
  1171 39AB 8C 2B 3A					sty ksztY96+2
  1172 				.IF .NOT .DEF fastSprites
  1173 39AE 8D 27 3A					sta maskY96+1
  1174 39B1 8E 28 3A					stx maskY96+2
  1175 				.ENDIF
  1176 39B4 69 08					adc #8
  1177 39B6 90 03					bcc @+
  1178 39B8 C8						iny
  1179 				.IF .NOT .DEF fastSprites
  1180 39B9 E8						inx
  1181 				.ENDIF
  1182 39BA 18						clc
  1183 							
  1184 39BB 8D 36 3A		@			sta ksztY97+1
  1185 39BE 8D 8F 3A					sta ksztY97b+1
  1186 39C1 8C 37 3A					sty ksztY97+2
  1187 39C4 8C 90 3A					sty ksztY97b+2
  1188 				.IF .NOT .DEF fastSprites
  1189 39C7 8D 33 3A					sta maskY97+1
  1190 39CA 8D 8C 3A					sta maskY97b+1
  1191 39CD 8E 34 3A					stx maskY97+2
  1192 39D0 8E 8D 3A					stx maskY97b+2
  1193 				.ENDIF
  1194 39D3 69 08					adc #8
  1195 39D5 90 02					bcc @+
  1196 39D7 C8						iny
  1197 				.IF .NOT .DEF fastSprites
  1198 39D8 E8						inx
  1199 				.ENDIF
  1200 							
  1201 39D9 8D 9B 3A		@			sta ksztY98b+1
  1202 39DC 8C 9C 3A					sty ksztY98b+2
  1203 				.IF .NOT .DEF fastSprites
  1204 39DF 8D 98 3A					sta maskY98b+1
  1205 39E2 8E 99 3A					stx maskY98b+2
  1206 				.ENDIF
  1207
  1208 							
  1209 				;rysuje duszki przy DX>0 i DY>0 , 9 znaków
  1210 39E5 A0 07					ldy #7
  1211 = 39E7			@			equ *
  1212
  1213 = 39E7			sznakY90	equ *
  1214 39E7 B9 FF FF					lda $ffff,y
  1215 				.IF .NOT .DEF fastSprites
  1216 39EA 39 FF FF		maskY90		and $ffff,y
  1217 39ED 19 FF FF		ksztY90		ora $ffff,y
  1218 				.ELSE
  1219 				ksztY90		equ *
  1220 							eor $ffff,y
  1221 				.ENDIF
  1222 = 39F0			nznakY90	equ *
  1223 39F0 99 FF FF					sta $ffff,y
  1224 							
  1225 = 39F3			sznakY91	equ *
  1226 39F3 B9 FF FF					lda $ffff,y
  1227 				.IF .NOT .DEF fastSprites
  1228 39F6 39 FF FF		maskY91		and $ffff,y
  1229 39F9 19 FF FF		ksztY91		ora $ffff,y
  1230 				.ELSE
  1231 				ksztY91		equ *
  1232 							eor $ffff,y
  1233 				.ENDIF
  1234 = 39FC			nznakY91	equ *
  1235 39FC 99 FF FF					sta $ffff,y
  1236 							
  1237 = 39FF			sznakY92	equ *
  1238 39FF B9 FF FF					lda $ffff,y
  1239 = 3A02			nznakY92	equ *
  1240 3A02 99 FF FF					sta $ffff,y		
  1241
  1242 = 3A05			sznakY93	equ *
  1243 3A05 B9 FF FF					lda $ffff,y
  1244 				.IF .NOT .DEF fastSprites
  1245 3A08 39 FF FF		maskY93		and $ffff,y
  1246 3A0B 19 FF FF		ksztY93		ora $ffff,y
  1247 				.ELSE
  1248 				ksztY93		equ *
  1249 							eor $ffff,y
  1250 				.ENDIF
  1251 = 3A0E			nznakY93	equ *
  1252 3A0E 99 FF FF					sta $ffff,y
  1253 							
  1254 = 3A11			sznakY94	equ *
  1255 3A11 B9 FF FF					lda $ffff,y
  1256 				.IF .NOT .DEF fastSprites
  1257 3A14 39 FF FF		maskY94		and $ffff,y
  1258 3A17 19 FF FF		ksztY94		ora $ffff,y
  1259 				.ELSE
  1260 				ksztY94		equ *
  1261 							eor $ffff,y
  1262 				.ENDIF
  1263 = 3A1A			nznakY94	equ *
  1264 3A1A 99 FF FF					sta $ffff,y
  1265 							
  1266 = 3A1D			sznakY95	equ *
  1267 3A1D B9 FF FF					lda $ffff,y
  1268 = 3A20			nznakY95	equ *
  1269 3A20 99 FF FF					sta $ffff,y				
  1270 							
  1271 = 3A23			sznakY96	equ *
  1272 3A23 B9 FF FF					lda $ffff,y
  1273 				.IF .NOT .DEF fastSprites
  1274 3A26 39 FF FF		maskY96		and $ffff,y
  1275 3A29 19 FF FF		ksztY96		ora $ffff,y
  1276 				.ELSE
  1277 				ksztY96		equ *
  1278 							eor $ffff,y
  1279 				.ENDIF
  1280 = 3A2C			nznakY96	equ *
  1281 3A2C 99 FF FF					sta $ffff,y
  1282 							
  1283 = 3A2F			sznakY97	equ *
  1284 3A2F B9 FF FF					lda $ffff,y
  1285 				.IF .NOT .DEF fastSprites
  1286 3A32 39 FF FF		maskY97		and $ffff,y
  1287 3A35 19 FF FF		ksztY97		ora $ffff,y
  1288 				.ELSE
  1289 				ksztY97		equ *
  1290 							eor $ffff,y
  1291 				.ENDIF
  1292 = 3A38			nznakY97	equ *
  1293 3A38 99 FF FF					sta $ffff,y
  1294 							
  1295 = 3A3B			sznakY98	equ *
  1296 3A3B B9 FF FF					lda $ffff,y
  1297 = 3A3E			nznakY98	equ *
  1298 3A3E 99 FF FF					sta $ffff,y	
  1299 							
  1300 3A41 88						dey
  1301 = 3A42			petlaY9		equ *
  1302 3A42 C0 FF					cpy #$ff
  1303 3A44 D0 A1					bne @-
  1304 							
  1305 = 3A46			@			equ *
  1306 = 3A46			sznakY90b	equ *
  1307 3A46 B9 FF FF					lda $ffff,y
  1308 = 3A49			nznakY90b	equ *
  1309 3A49 99 FF FF					sta $ffff,y
  1310 							
  1311 = 3A4C			sznakY91b	equ *
  1312 3A4C B9 FF FF					lda $ffff,y
  1313 				.IF .NOT .DEF fastSprites
  1314 3A4F 39 FF FF		maskY91b	and $ffff,y
  1315 3A52 19 FF FF		ksztY91b	ora $ffff,y
  1316 				.ELSE
  1317 				ksztY91b	equ *
  1318 							eor $ffff,y
  1319 				.ENDIF
  1320 = 3A55			nznakY91b	equ *
  1321 3A55 99 FF FF					sta $ffff,y	
  1322 							
  1323 = 3A58			sznakY92b	equ *
  1324 3A58 B9 FF FF					lda $ffff,y
  1325 				.IF .NOT .DEF fastSprites
  1326 3A5B 39 FF FF		maskY92b	and $ffff,y
  1327 3A5E 19 FF FF		ksztY92b	ora $ffff,y
  1328 				.ELSE
  1329 				ksztY92b	equ *
  1330 							eor $ffff,y
  1331 				.ENDIF
  1332 = 3A61			nznakY92b	equ *
  1333 3A61 99 FF FF					sta $ffff,y			
  1334 							
  1335 = 3A64			sznakY93b	equ *
  1336 3A64 B9 FF FF					lda $ffff,y
  1337 = 3A67			nznakY93b	equ *
  1338 3A67 99 FF FF					sta $ffff,y
  1339 							
  1340 = 3A6A			sznakY94b	equ *
  1341 3A6A B9 FF FF					lda $ffff,y
  1342 				.IF .NOT .DEF fastSprites
  1343 3A6D 39 FF FF		maskY94b	and $ffff,y
  1344 3A70 19 FF FF		ksztY94b	ora $ffff,y
  1345 				.ELSE
  1346 				ksztY94b	equ *
  1347 							eor $ffff,y
  1348 				.ENDIF
  1349 = 3A73			nznakY94b	equ *
  1350 3A73 99 FF FF					sta $ffff,y	
  1351 							
  1352 = 3A76			sznakY95b	equ *
  1353 3A76 B9 FF FF					lda $ffff,y
  1354 				.IF .NOT .DEF fastSprites
  1355 3A79 39 FF FF		maskY95b	and $ffff,y
  1356 3A7C 19 FF FF		ksztY95b	ora $ffff,y
  1357 				.ELSE
  1358 				ksztY95b	equ *
  1359 							eor $ffff,y
  1360 				.ENDIF
  1361 = 3A7F			nznakY95b	equ *
  1362 3A7F 99 FF FF					sta $ffff,y		
  1363 							
  1364 = 3A82			sznakY96b	equ *
  1365 3A82 B9 FF FF					lda $ffff,y
  1366 = 3A85			nznakY96b	equ *
  1367 3A85 99 FF FF					sta $ffff,y
  1368 							
  1369 = 3A88			sznakY97b	equ *
  1370 3A88 B9 FF FF					lda $ffff,y
  1371 				.IF .NOT .DEF fastSprites
  1372 3A8B 39 FF FF		maskY97b	and $ffff,y
  1373 3A8E 19 FF FF		ksztY97b	ora $ffff,y
  1374 				.ELSE
  1375 				ksztY97b	equ *
  1376 							eor $ffff,y
  1377 				.ENDIF
  1378 = 3A91			nznakY97b	equ *
  1379 3A91 99 FF FF					sta $ffff,y	
  1380 							
  1381 = 3A94			sznakY98b	equ *
  1382 3A94 B9 FF FF					lda $ffff,y
  1383 				.IF .NOT .DEF fastSprites
  1384 3A97 39 FF FF		maskY98b	and $ffff,y
  1385 3A9A 19 FF FF		ksztY98b	ora $ffff,y
  1386 				.ELSE
  1387 				ksztY98b	equ *
  1388 							eor $ffff,y
  1389 				.ENDIF
  1390 = 3A9D			nznakY98b	equ *
  1391 3A9D 99 FF FF					sta $ffff,y	
  1392 							
  1393 3AA0 88						dey
  1394 3AA1 10 A3					bpl @-
  1395
  1396 				.IF .DEF PSP_CODE			
  1397 3AA3 AD 74 31					lda psp
  1398 3AA6 D0 05					bne @+
  1399 				.ENDIF				
  1400 3AA8 A5 3B					lda pom0d
  1401 3AAA 8D 01 D3					sta PORTB
  1402 3AAD A6 38		@			ldx zapX
  1403 3AAF A9 00					lda #0
  1404 3AB1 9D 62 31					sta enemyEkran,x
  1405 3AB4 60						rts	
  1406 							
  1407 							
  1408 							
   320 3AB5						icl 'bliczby.asm'
Source: bliczby.asm
     1 						
     2 3AB5 00 20 00		hscore	dta b(0,$20,0)
     3 3AB8 00 00 00		score 	dta b(0,0,0)
     4 3ABB 00			flaghscore	dta b(0)
     5 3ABC 00			scoreZmiana	dta b(0)
     6
     7 				;jesli gracz zarobil jakies punkty to sa dodawane do score i wyswietlane
     8 = 3ABD			sumaPunkty	equ	*
     9 3ABD AD 77 8A				lda plusScore
    10 3AC0 0D 78 8A				ora plusScore+1
    11 3AC3 D0 01				bne @+
    12 3AC5 60					rts
    13 3AC6 F8			@		sed
    14 3AC7 18					clc
    15 3AC8 AD 77 8A				lda plusScore
    16 3ACB 6D B8 3A				adc score
    17 3ACE 8D B8 3A				sta score
    18 3AD1 AD B9 3A				lda score+1
    19 3AD4 48					pha
    20 3AD5 29 F0				and #$f0
    21 3AD7 85 37				sta pom0
    22 3AD9 68					pla
    23 3ADA 6D 78 8A				adc plusScore+1
    24 3ADD 8D B9 3A				sta score+1
    25 3AE0 AD BA 3A				lda score+2
    26 3AE3 69 00				adc #0
    27 3AE5 8D BA 3A				sta score+2
    28 3AE8 D8					cld
    29 						
    30 3AE9 AD B9 3A				lda score+1
    31 3AEC 29 F0				and #$f0
    32 3AEE C9 20				cmp #$20
    33 3AF0 F0 04				beq @+
    34 3AF2 C9 70				cmp #$70
    35 3AF4 D0 0F				bne @+1
    36 3AF6 C5 37		@		cmp pom0
    37 3AF8 F0 0B				beq @+		;obecne=poprzedniemu
    38 						
    39 3AFA EE 80 8A				inc lives
    40 3AFD 20 A8 97				jsr printLives
    41 						
    42 3B00 A9 1A 8D 38 24			mva #13*2 SFX_EXTRA		;extra life
    43 						
    44 3B05 A9 00 8D 77 8A	@		mva #0 plusScore
    45 3B0A 8D 78 8A				sta plusScore+1
    46 3B0D 8D BC 3A				sta scoreZmiana
    47 3B10 60					rts
    48 						
    49 3B11 00			liczbyflaga	dta b(0)
    50 				;punkty
    51 = 3B12			piszScore1	equ *
    52 3B12 EE BC 3A				inc scoreZmiana
    53 						
    54 3B15 A0 00				ldy #0
    55 3B17 AD BA 3A				lda score+2
    56 3B1A F0 24				beq @+2		;score+2=0
    57 						
    58 3B1C C8					iny		;są już z przodu cyfry (wyswietlaj wszystkie 0)
    59 3B1D 29 0F				and #%1111		;tysiace
    60 3B1F 0A 0A 0A				:3 asl
    61 3B22 8D 35 3B				sta _poz5+1
    62 						
    63 3B25 AD BA 3A				lda score+2
    64 3B28 29 F0				and #%11110000
    65 3B2A 4A					lsr
    66 3B2B D0 02				bne @+
    67 3B2D A9 50				lda #10*8	;puste
    68 3B2F 8D 38 3B		@		sta _poz6+1		
    69 						
    70 3B32 A2 06				ldx #6
    71 = 3B34			@		equ *
    72 3B34 BD 00 8E		_poz5	lda cyfra1,x
    73 3B37 1D 00 8F		_poz6	ora cyfra2,x
    74 3B3A 9D 2A 1C				sta sprites+$400+startWyniki+26,x
    75 3B3D CA					dex
    76 3B3E 10 F4				bpl @-	
    77 						
    78 3B40 AD B9 3A		@		lda score+1
    79 3B43 D0 04				bne @+
    80 3B45 C0 00				cpy #0
    81 3B47 F0 28				beq @+3		;rysuj wszystkie cyfry
    82 						
    83 3B49 29 0F		@		and #%1111		;setki
    84 3B4B 0A 0A 0A				:3 asl
    85 3B4E 8D 66 3B				sta _poz3+1
    86 					
    87 3B51 AD B9 3A				lda score+1
    88 3B54 29 F0				and #%11110000
    89 3B56 4A					lsr
    90 3B57 D0 06				bne @+		;nie zero
    91 3B59 C0 00				cpy #0	
    92 3B5B D0 02				bne @+
    93 3B5D A9 50				lda #10*8		;pusty znak
    94 3B5F 8D 69 3B		@		sta _poz4+1	
    95 3B62 C8					iny
    96 						
    97 3B63 A2 06				ldx #6
    98 = 3B65			@		equ *
    99 3B65 BD 00 8E		_poz3	lda cyfra1,x
   100 3B68 1D 00 8F		_poz4	ora cyfra2,x
   101 3B6B 9D 2A 1D				sta sprites+$500+startWyniki+26,x
   102 3B6E CA					dex
   103 3B6F 10 F4				bpl @-	
   104 						
   105 3B71 AD B8 3A		@		lda score
   106 3B74 D0 06				bne @+
   107 3B76 C0 00				cpy #0
   108 3B78 D0 02				bne @+
   109 3B7A A9 0A				lda #10
   110 						
   111 3B7C 29 0F		@		and #%1111
   112 3B7E 0A 0A 0A				:3 asl
   113 3B81 8D 98 3B				sta _poz1+1
   114 						
   115 3B84 AD B8 3A				lda score
   116 3B87 29 F0				and #%11110000
   117 3B89 4A					lsr
   118 						
   119 						
   120 3B8A D0 06				bne @+		;nie zero
   121 3B8C C0 00				cpy #0	
   122 3B8E D0 02				bne @+
   123 3B90 A9 50				lda #10*8		;pusty znak
   124 3B92 8D 9B 3B		@		sta _poz2+1	
   125 						
   126 3B95 A2 06				ldx #6
   127 = 3B97			@		equ *
   128 3B97 BD 00 8E		_poz1	lda cyfra1,x
   129 3B9A 1D 00 8F		_poz2	ora cyfra2,x
   130 3B9D 9D 2A 1E				sta sprites+$600+startWyniki+26,x
   131 3BA0 CA					dex
   132 3BA1 10 F4				bpl @-
   133 						
   134 3BA3 60					rts
   135
   136 				;czysc setki i tysiace
   137 = 3BA4			czyscScore	equ *
   138 3BA4 A9 00				lda #0
   139 3BA6 A2 06				ldx #6
   140 3BA8 9D 2A 1C		@		sta sprites+$400+startWyniki+26,x 
   141 3BAB 9D 2A 1D				sta sprites+$500+startWyniki+26,x
   142 3BAE CA					dex
   143 3BAF 10 F7				bpl @-
   144 						
   145 3BB1 60					rts
   146 						
   147 = 3BB2			czyHscore	equ *
   148 3BB2 AD BB 3A				lda flagHscore
   149 3BB5 D0 24				bne czyH0		;score zliczamy razem z hscore
   150
   151 3BB7 AD BA 3A				lda score+2
   152 3BBA CD B7 3A				cmp hscore+2
   153 3BBD B0 01				bcs *+3
   154 3BBF 60					rts	;score<hscore
   155 						
   156 3BC0 D0 14				bne czyH1		;score>hscore
   157
   158 				;score=hscore
   159 3BC2 AD B9 3A				lda score+1
   160 3BC5 CD B6 3A				cmp hscore+1
   161 3BC8 B0 01				bcs *+3
   162 3BCA 60					rts	;score<hscore
   163 						
   164 3BCB D0 09				bne czyH1	;score>hscore
   165 						
   166 3BCD AD B8 3A				lda score
   167 3BD0 CD B5 3A				cmp hscore
   168 3BD3 B0 01				bcs *+3
   169 3BD5 60					rts
   170 						
   171 3BD6 A9 01 8D BB 3A	czyH1	mva #1 flagHscore
   172 						
   173 = 3BDB			czyH0	equ *
   174 						.rept 7, #
   175 						LDA SPRITES+$600+STARTWYNIKI+26+:1
   176 						STA SPRITES+$600+STARTWYNIKI+9+:1
   177 						LDA SPRITES+$500+STARTWYNIKI+26+:1
   178 						STA SPRITES+$500+STARTWYNIKI+9+:1
   179 						LDA SPRITES+$400+STARTWYNIKI+26+:1
   180 						STA SPRITES+$400+STARTWYNIKI+9+:1
   181 						.ENDR
   181 						.endr
Source: REPT
   175 3BDB AD 2A 1E				LDA SPRITES+$600+STARTWYNIKI+26+0
   175 3BDE 8D 19 1E				STA SPRITES+$600+STARTWYNIKI+9+0
   175 3BE1 AD 2A 1D				LDA SPRITES+$500+STARTWYNIKI+26+0
   175 3BE4 8D 19 1D				STA SPRITES+$500+STARTWYNIKI+9+0
   175 3BE7 AD 2A 1C				LDA SPRITES+$400+STARTWYNIKI+26+0
   175 3BEA 8D 19 1C				STA SPRITES+$400+STARTWYNIKI+9+0
   175 3BED AD 2B 1E				LDA SPRITES+$600+STARTWYNIKI+26+1
   175 3BF0 8D 1A 1E				STA SPRITES+$600+STARTWYNIKI+9+1
   175 3BF3 AD 2B 1D				LDA SPRITES+$500+STARTWYNIKI+26+1
   175 3BF6 8D 1A 1D				STA SPRITES+$500+STARTWYNIKI+9+1
   175 3BF9 AD 2B 1C				LDA SPRITES+$400+STARTWYNIKI+26+1
   175 3BFC 8D 1A 1C				STA SPRITES+$400+STARTWYNIKI+9+1
   175 3BFF AD 2C 1E				LDA SPRITES+$600+STARTWYNIKI+26+2
   175 3C02 8D 1B 1E				STA SPRITES+$600+STARTWYNIKI+9+2
   175 3C05 AD 2C 1D				LDA SPRITES+$500+STARTWYNIKI+26+2
   175 3C08 8D 1B 1D				STA SPRITES+$500+STARTWYNIKI+9+2
   175 3C0B AD 2C 1C				LDA SPRITES+$400+STARTWYNIKI+26+2
   175 3C0E 8D 1B 1C				STA SPRITES+$400+STARTWYNIKI+9+2
   175 3C11 AD 2D 1E				LDA SPRITES+$600+STARTWYNIKI+26+3
   175 3C14 8D 1C 1E				STA SPRITES+$600+STARTWYNIKI+9+3
   175 3C17 AD 2D 1D				LDA SPRITES+$500+STARTWYNIKI+26+3
   175 3C1A 8D 1C 1D				STA SPRITES+$500+STARTWYNIKI+9+3
   175 3C1D AD 2D 1C				LDA SPRITES+$400+STARTWYNIKI+26+3
   175 3C20 8D 1C 1C				STA SPRITES+$400+STARTWYNIKI+9+3
   175 3C23 AD 2E 1E				LDA SPRITES+$600+STARTWYNIKI+26+4
   175 3C26 8D 1D 1E				STA SPRITES+$600+STARTWYNIKI+9+4
   175 3C29 AD 2E 1D				LDA SPRITES+$500+STARTWYNIKI+26+4
   175 3C2C 8D 1D 1D				STA SPRITES+$500+STARTWYNIKI+9+4
   175 3C2F AD 2E 1C				LDA SPRITES+$400+STARTWYNIKI+26+4
   175 3C32 8D 1D 1C				STA SPRITES+$400+STARTWYNIKI+9+4
   175 3C35 AD 2F 1E				LDA SPRITES+$600+STARTWYNIKI+26+5
   175 3C38 8D 1E 1E				STA SPRITES+$600+STARTWYNIKI+9+5
   175 3C3B AD 2F 1D				LDA SPRITES+$500+STARTWYNIKI+26+5
   175 3C3E 8D 1E 1D				STA SPRITES+$500+STARTWYNIKI+9+5
   175 3C41 AD 2F 1C				LDA SPRITES+$400+STARTWYNIKI+26+5
   175 3C44 8D 1E 1C				STA SPRITES+$400+STARTWYNIKI+9+5
   175 3C47 AD 30 1E				LDA SPRITES+$600+STARTWYNIKI+26+6
   175 3C4A 8D 1F 1E				STA SPRITES+$600+STARTWYNIKI+9+6
   175 3C4D AD 30 1D				LDA SPRITES+$500+STARTWYNIKI+26+6
   175 3C50 8D 1F 1D				STA SPRITES+$500+STARTWYNIKI+9+6
   175 3C53 AD 30 1C				LDA SPRITES+$400+STARTWYNIKI+26+6
   175 3C56 8D 1F 1C				STA SPRITES+$400+STARTWYNIKI+9+6
Source: bliczby.asm
   182 3C59 60					rts
   183 					
   184 				;Wyswietla numer poziomu
   185 = 3C5A			piszPoziom	equ *
   186 3C5A A0 00				ldy #0
   187 3C5C AD 75 8A				lda poziom
   188 3C5F C9 64				cmp #100			;jesli poziom jest >= 100 to wyświetl 99
   189 3C61 90 02				bcc @+
   190 3C63 A9 63				lda #99
   191 						
   192 3C65 C9 0A		@		cmp #10
   193 3C67 90 05				bcc @+
   194 3C69 C8					iny
   195 3C6A E9 0A				sbc #10
   196 3C6C B0 F7				bcs @-
   197 						
   198 3C6E 0A 0A 0A		@		:3 asl
   199 3C71 8D 84 3C				sta _lev1+1
   200 							
   201 3C74 C0 00				cpy #0
   202 3C76 D0 02				bne @+
   203 3C78 A0 0A				ldy #10
   204 						
   205 3C7A 98			@		tya
   206 3C7B 0A 0A 0A				:3 asl
   207 3C7E 8D 87 3C				sta _lev2+1
   208 						
   209 3C81 A2 06				ldx #6
   210 = 3C83			@		equ *
   211 3C83 BD 00 8E		_lev1	lda cyfra1,x
   212 3C86 1D 00 8F		_lev2	ora cyfra2,x
   213 3C89 9D E6 1E				sta sprites+$600+startWyniki+217-3,x
   214 3C8C CA					dex
   215 3C8D 10 F4				bpl @-
   216
   217 3C8F 60					rts
   218 						
   219 = 3C90			piszHscore1	equ *		
   220 3C90 A0 00				ldy #0
   221 3C92 AD B7 3A				lda hscore+2
   222 3C95 F0 24				beq @+2		;score+2=0
   223 						
   224 3C97 C8					iny		;są już z przodu cyfry (wyswietlaj wszystkie 0)
   225 3C98 29 0F				and #%1111		;tysiace
   226 3C9A 0A 0A 0A				:3 asl
   227 3C9D 8D B0 3C				sta _pozh5+1
   228 					
   229 3CA0 AD B7 3A				lda hscore+2
   230 3CA3 25 F0				and %11110000
   231 3CA5 4A					lsr
   232 3CA6 D0 02				bne @+
   233 3CA8 A9 50				lda #10*8
   234 3CAA 8D B3 3C		@		sta _pozh6+1
   235 						
   236 3CAD A2 06				ldx #6
   237 = 3CAF			@		equ *
   238 3CAF BD 00 8E		_pozh5	lda cyfra1,x
   239 3CB2 1D 00 8F		_pozh6	ora cyfra2,x
   240 3CB5 9D 19 1C				sta sprites+$400+startWyniki+9,x
   241 3CB8 CA					dex
   242 3CB9 10 F4				bpl @-	
   243 						
   244 3CBB AD B6 3A		@		lda hscore+1
   245 3CBE D0 04				bne @+
   246 3CC0 C0 00				cpy #0
   247 3CC2 F0 28				beq @+3		;rysuj wszystkie cyfry
   248 						
   249 3CC4 29 0F		@		and #%1111		;setki
   250 3CC6 0A 0A 0A				:3 asl
   251 3CC9 8D E1 3C				sta _pozh3+1
   252
   253 3CCC AD B6 3A				lda hscore+1
   254 3CCF 29 F0				and #%11110000
   255 3CD1 4A					lsr
   256 3CD2 D0 06				bne @+
   257 3CD4 C0 00				cpy #0
   258 3CD6 D0 02				bne @+
   259 3CD8 A9 50				lda #10*8
   260 3CDA 8D E4 3C		@		sta _pozh4+1
   261 3CDD C8					iny
   262 						
   263 3CDE A2 06				ldx #6
   264 = 3CE0			@		equ *
   265 3CE0 BD 00 8E		_pozh3	lda cyfra1,x
   266 3CE3 1D 00 8F		_pozh4	ora cyfra2,x
   267 3CE6 9D 19 1D				sta sprites+$500+startWyniki+9,x
   268 3CE9 CA					dex
   269 3CEA 10 F4				bpl @-	
   270 						
   271 3CEC AD B5 3A		@		lda hscore
   272 3CEF D0 06				bne @+
   273 3CF1 C0 00				cpy #0
   274 3CF3 D0 02				bne @+
   275 3CF5 A9 0A				lda #10
   276 						
   277 3CF7 29 0F		@		and #%1111
   278 3CF9 0A 0A 0A				:3 asl
   279 3CFC 8D 13 3D				sta _pozh1+1
   280
   281 3CFF AD B5 3A				lda hscore
   282 3D02 29 F0				and #%11110000
   283 3D04 4A					lsr
   284 3D05 D0 06				bne @+
   285 3D07 C0 00				cpy #0
   286 3D09 D0 02				bne @+
   287 3D0B A9 50				lda #10*8
   288 3D0D 8D 16 3D		@		sta _pozh2+1
   289 						
   290
   291 3D10 A2 06				ldx #6
   292 = 3D12			@		equ *
   293 3D12 BD 00 8E		_pozh1	lda cyfra1,x
   294 3D15 1D 00 8F		_pozh2	ora cyfra2,x
   295 3D18 9D 19 1E				sta sprites+$600+startWyniki+9,x
   296 3D1B CA					dex
   297 3D1C 10 F4				bpl @-
   298 						
   299 3D1E 60					rts
   300
   301 						
   302 						
   303
   304 						
   321 							
   322 							;Po $4000
   323 3D1F						icl 'bmove.asm'
Source: bmove.asm
     1 = 0064			llinii	equ 100		;liczba linii
     2 = 0080			szerEkranu equ 128  ;szerokosc ekranu w bajtach
     3 = 0020			maxBombyEkran	equ 32
     4
     5 3D1F 00			licznikBazyEkran	dta b(0)		;liczba baz rysowanych na ekranie
     6 3D20 00			licznikBombyEkran	dta b(0)
     7 3D21			BazyEkran			org *+12				;:12 dta b(0)	;numery baz widocznych na ekranie
     8 3D2D			BombyEkran			org *+maxBombyEkran	;:maxBombyEkran dta b(0)
     9 3D4D			bombX0				org *+maxBombyEkran 	;:maxBombyEkran dta b(0)
    10 3D6D			bombY0				org *+maxBombyEkran 	;:maxBombyEkran dta b(0)
    11
    12 = 0012			ileGwiazd 	equ 18
    13
    14 3D8D-5A91> 1F 14 12 01 + znakXa	dta b(31),b(20),b(18),b(1),b(12),b(10),b(7),b(21),b(23),b(3),b(14),b(25),b(15,0,13,28,4,27)
    15 3D9F 0A 14 05 19 1B 0C + znakYa	dta b(10),b(20),b(5),b(25),b(27),b(12),b(7),b(14),b(24),b(19),b(22),b(2),b(10,13,17,18,3,7)
    16
    17 3DB1 03 0C 30 C0		gwiazdyPixel	dta b(%11,%1100,%110000,%11000000)
    18 3DB5 00			gwiazdyLicznik	dta b(0)
    19
    20 3DB6 1C			znakUp1		dta b(28)
    21 3DB7 00 01 02 03 04 05 + 			:29 dta b(#)
    22 3DD4 00						dta b(0)
    23 							
    24 = 3DB8			znakDown1	equ znakUp1+2
    25
    26 3DD5 20			znakMinus1	dta b(32)
    27 3DD6 00 01 02 03 04 05 + 			:33 dta b(#)
    28 3DF7 00						dta b(0)
    29 							
    30 = 3DD7			znakPlus1 	equ znakMinus1+2
    31 							
    32 				;rysuje obiekty na ekranie (bazy,meteory,bomby)
    33 = 3DF8			printEkran	equ *
    34 3DF8 A9 00 8D 1F 3D			mva #0 licznikBazyEkran		;zerujemy licznik widocznych baz
    35 3DFD 8D 20 3D				sta licznikBombyEkran
    36 3E00 A4 18				ldy posY
    37 3E02 BE 00 FB				ldx tabBazy1,y	;poczatek
    38 3E05 30 23				bmi pre1a	;brak baz na ekranie
    39 3E07 B9 00 FA				lda tabBazy2,y
    40 3E0A 8D 1B 3E				sta pre0a+1		;end
    41 3E0D BD FF 89		pre0	lda bazyRodzaj-1,x	
    42 3E10 30 08				bmi pre0a		;negatyw to nie ma bazy
    43 3E12 D0 03				bne @+
    44 3E14 4C C7 3F				jmp printBazaA1
    45 3E17 4C 1B 42		@		jmp printBazaB1
    46 3E1A E0 FF		pre0a	cpx #$ff
    47 3E1C F0 0C				beq pre1a		;jesli juz narysowany to koniec
    48 3E1E E8					inx
    49 3E1F E4 2A				cpx bazyIle
    50 3E21 90 EA				bcc pre0
    51 3E23 F0 E8				beq pre0
    52 3E25 A2 01				ldx #1			;gdy X>bazyIle
    53 3E27 4C 0D 3E				jmp pre0		;jmp
    54 						
    55 						
    56 3E2A A4 18		pre1a	ldy posY	
    57 3E2C BE 00 F9				ldx tabBomb1,y
    58 3E2F E0 FF				cpx #255
    59 3E31 D0 03				bne pre2a		;nie ma zadnej bomby na ekranie
    60 3E33 4C E8 3E		pre2b	jmp pre3
    61 3E36 B9 00 F8		pre2a	lda tabBomb2,y
    62 3E39 8D 47 3E				sta pre2+1
    63 3E3C A5 D2 8D 4C 3E			mva bombIle pre2_+1
    64 3E41 BD FF 19		pre1	lda bombRodzaj-1,x
    65 3E44 10 10				bpl @+
    66 3E46 E0 FF		pre2	cpx #$ff
    67 3E48 F0 E9				beq pre2b	;narysowano juz wszystkie
    68 3E4A E8					inx
    69 3E4B E0 FF		pre2_	cpx #$ff
    70 3E4D 90 F2				bcc pre1
    71 3E4F F0 F0				beq pre1
    72 3E51 A2 01				ldx #1
    73 3E53 4C 41 3E				jmp pre1	
    74 						
    75 3E56 38			@		sec
    76 3E57 BD 7F 8C				lda bombX-1,x
    77 3E5A E5 17				sbc posX
    78 3E5C A8					tay
    79 3E5D B9 00 13				lda tabX,y
    80 3E60 18					clc
    81 3E61 69 01				adc #1
    82 3E63 C9 22				cmp #34
    83 3E65 B0 DF				bcs pre2
    84 						
    85 3E67 AC 20 3D				ldy licznikBombyEkran
    86 3E6A 99 4D 3D				sta bombX0,y		;pozycja x+1 na ekranie
    87 						
    88 3E6D 69 07				adc #7
    89 3E6F 85 37				sta pom0
    90 						
    91 3E71 38					sec
    92 3E72 BD FF 8C				lda bombY-1,x
    93 3E75 E5 18				sbc posY
    94 3E77 18					clc
    95 3E78 69 01				adc #1
    96 3E7A C9 1E				cmp #lenDlist+1
    97 3E7C B0 6A				bcs pre3
    98 						
    99 3E7E 99 6D 3D				sta bombY0,y		;pozycja y+1 na ekranie
   100 3E81 85 6B				sta pom1
   101 							
   102 3E83 8A					txa
   103 3E84 99 2D 3D				sta bombyEkran,y	;nr+1
   104 3E87 EE 20 3D				inc licznikBombyEkran
   105 						
   106 3E8A A4 6B				ldy pom1
   107 						
   108 3E8C A5 1F				lda ramka
   109 3E8E D0 12				bne @+
   110 						
   111 3E90 18					clc
   112 3E91 B9 07 17				lda obraz1La+7,y
   113 3E94 65 37				adc pom0
   114 3E96 85 69				sta pom
   115 3E98 B9 2C 17				lda obraz1Ha+7,y
   116 3E9B 69 00				adc #0
   117 3E9D 85 6A				sta pom+1
   118 3E9F 4C B1 3E				jmp @+1	;skok bezwarunkowy
   119 3EA2 18			@		clc
   120 3EA3 B9 51 17				lda obraz2La+7,y
   121 3EA6 65 37				adc pom0
   122 3EA8 85 69				sta pom
   123 3EAA B9 76 17				lda obraz2Ha+7,y
   124 3EAD 69 00				adc #0
   125 3EAF 85 6A				sta pom+1
   126
   127 3EB1 BD FF 19		@		lda bombRodzaj-1,x
   128 3EB4 D0 19				bne @+
   129 						
   130 						
   131 3EB6 A0 00				ldy #0
   132 3EB8 A9 1F				lda #firstBombaChar
   133 3EBA 91 69				sta (pom),y
   134 						
   135 3EBC C8					iny
   136 3EBD A9 21				lda #firstBombaChar+2
   137 3EBF 91 69				sta (pom),y
   138 						
   139 3EC1 A0 30				ldy #48
   140 3EC3 A9 20				lda #firstBombaChar+1
   141 3EC5 91 69				sta (pom),y
   142 						
   143 3EC7 C8					iny
   144 3EC8 A9 22				lda #firstBombaChar+3
   145 3ECA 91 69				sta (pom),y
   146 3ECC 4C 46 3E				jmp pre2
   147 						
   148 3ECF A0 00		@		ldy #0
   149 3ED1 A9 A3				lda #firstMeteorChar+128		
   150 3ED3 91 69				sta (pom),y
   151 						
   152 3ED5 C8					iny
   153 3ED6 A9 A5				lda #firstMeteorChar+128+2
   154 3ED8 91 69				sta (pom),y
   155 						
   156 3EDA A0 30				ldy #48
   157 3EDC A9 A4				lda #firstMeteorChar+128+1
   158 3EDE 91 69				sta (pom),y
   159 						
   160 3EE0 C8					iny
   161 3EE1 A9 A6				lda #firstMeteorChar+128+3
   162 3EE3 91 69				sta (pom),y
   163 3EE5 4C 46 3E				jmp pre2
   164 						
   165 						
   166 3EE8 A5 24		pre3	lda startMapy
   167 3EEA D0 01				bne *+3
   168 3EEC 60					rts
   169
   170 3EED C9 91				cmp #145
   171 3EEF F0 08				beq @+
   172 						
   173 3EF1 C9 3C				cmp #60
   174 3EF3 F0 04				beq @+
   175 						
   176 3EF5 C9 0C				cmp #12
   177 3EF7 D0 0E				bne @+2
   178 						
   179 3EF9 A2 68		@		ldx #104		;12znakow
   180 3EFB BD 66 3F		@		lda player1chars-1,x
   181 3EFE 9D 97 BB				sta znaki1-1+115*8,x
   182 3F01 9D 97 BF				sta znaki2-1+115*8,x
   183 3F04 CA					dex
   184 3F05 D0 F4				bne @-
   185 						
   186 3F07 C6 24		@		dec startMapy
   187 						
   188 3F09 A5 24				lda startMapy
   189 3F0B C9 0A				cmp #10
   190 3F0D D0 08				bne @+
   191 						
   192 3F0F 20 6F 98				jsr graj_sampla
   193 3F12 A9 01 8D 3B 24			mva #1 licznikStrzal
   194 						
   195 3F17 A5 24		@		lda startMapy
   196 3F19 C9 0B				cmp #11
   197 3F1B B0 01				bcs *+3
   198 3F1D 60					rts
   199 						
   200 3F1E A5 1F				lda ramka
   201 3F20 D0 1B				bne @+2
   202 						
   203 3F22 A2 09				ldx #9
   204 3F24 BD 58 3F		@		lda playerNapis1,x
   205 3F27 09 80				ora #128
   206 3F29 9D 03 06				sta obraz1+11+13*48,x
   207 3F2C CA					dex
   208 3F2D 10 F5				bpl @-
   209 						
   210 3F2F A2 04				ldx #4
   211 3F31 BD 62 3F		@		lda playerNapis1+10,x
   212 3F34 09 80				ora #128
   213 3F36 9D 65 06				sta obraz1+13+15*48,x
   214 3F39 CA					dex
   215 3F3A 10 F5				bpl @-
   216 						
   217 3F3C 60					rts
   218 						
   219 3F3D A2 09		@		ldx #9
   220 3F3F BD 58 3F		@		lda playerNapis1,x
   221 3F42 09 80				ora #128
   222 3F44 9D FB 0C				sta obraz2+11+13*48,x
   223 3F47 CA					dex
   224 3F48 10 F5				bpl @-
   225 						
   226 3F4A A2 04				ldx #4
   227 3F4C BD 62 3F		@		lda playerNapis1+10,x
   228 3F4F 09 80				ora #128
   229 3F51 9D 5D 0D				sta obraz2+13+15*48,x
   230 3F54 CA					dex
   231 3F55 10 F5				bpl @-
   232 						
   233 3F57 60					rts
   234 						
   235 3F58 77 78 79 7A 7B 7C + playerNapis1	dta b(119,120,121,122,123,124,0,125,126,123,124,123,121,115,122)
   236
   237 								
   238 3F67 50			player1chars	dta b(%01010000)		;115 D
   239 3F68 74							dta b(%01110100)
   240 3F69 44							dta b(%01000100)
   241 3F6A 44							dta b(%01000100)
   242 3F6B 44							dta b(%01000100)
   243 3F6C 44							dta b(%01000100)
   244 3F6D 5C							dta b(%01011100)
   245 3F6E F0							dta b(%11110000)	
   246 								
   247 3F6F 14							dta b(%00010100)		;116 G
   248 3F70 7C							dta b(%01111100)
   249 3F71 40							dta b(%01000000)
   250 3F72 40							dta b(%01000000)
   251 3F73 44							dta b(%01000100)
   252 3F74 44							dta b(%01000100)
   253 3F75 54							dta b(%01010100)
   254 3F76 FC							dta b(%11111100)
   255
   256 3F77 44							dta b(%01000100)		;117 M
   257 3F78 54							dta b(%01010100)
   258 3F79 74							dta b(%01110100)
   259 3F7A 44							dta b(%01000100)
   260 3F7B 44							dta b(%01000100)
   261 3F7C 44							dta b(%01000100)
   262 3F7D 44							dta b(%01000100)
   263 3F7E CC							dta b(%11001100)
   264 								
   265 3F7F 44							dta b(%01000100)		;118 V
   266 3F80 44							dta b(%01000100)
   267 3F81 44							dta b(%01000100)
   268 3F82 44							dta b(%01000100)
   269 3F83 44							dta b(%01000100)
   270 3F84 44							dta b(%01000100)
   271 3F85 DC							dta b(%11011100)
   272 3F86 30							dta b(%00110000)
   273 								
   274 3F87 54							dta b(%01010100)		;119 P
   275 3F88 74							dta b(%01110100)
   276 3F89 44							dta b(%01000100)
   277 3F8A 54							dta b(%01010100)
   278 3F8B 7C							dta b(%01111100)
   279 3F8C 40							dta b(%01000000)
   280 3F8D 40							dta b(%01000000)
   281 3F8E C0							dta b(%11000000)
   282 								
   283 3F8F 40							dta b(%01000000)		;120 L
   284 3F90 40							dta b(%01000000)
   285 3F91 40							dta b(%01000000)
   286 3F92 40							dta b(%01000000)
   287 3F93 40							dta b(%01000000)
   288 3F94 40							dta b(%01000000)
   289 3F95 54							dta b(%01010100)
   290 3F96 FC							dta b(%11111100)
   291 								
   292 3F97 10							dta b(%00010000)		;121 A
   293 3F98 74							dta b(%01110100)
   294 3F99 44							dta b(%01000100)
   295 3F9A 54							dta b(%01010100)
   296 3F9B 74							dta b(%01110100)
   297 3F9C 44							dta b(%01000100)
   298 3F9D 44							dta b(%01000100)
   299 3F9E CC							dta b(%11001100)
   300 								
   301 3F9F 44							dta b(%01000100)		;122 Y
   302 3FA0 44							dta b(%01000100)
   303 3FA1 44							dta b(%01000100)
   304 3FA2 DC							dta b(%11011100)
   305 3FA3 10							dta b(%00010000)
   306 3FA4 10							dta b(%00010000)
   307 3FA5 10							dta b(%00010000)
   308 3FA6 30							dta b(%00110000)
   309 								
   310 3FA7 54							dta b(%01010100)		;123 E
   311 3FA8 7C							dta b(%01111100)
   312 3FA9 40							dta b(%01000000)
   313 3FAA 50							dta b(%01010000)
   314 3FAB 70							dta b(%01110000)
   315 3FAC 40							dta b(%01000000)
   316 3FAD 54							dta b(%01010100)
   317 3FAE FC							dta b(%11111100)
   318 								
   319 3FAF 50							dta b(%01010000)		;124 R
   320 3FB0 74							dta b(%01110100)
   321 3FB1 44							dta b(%01000100)
   322 3FB2 50							dta b(%01010000)
   323 3FB3 74							dta b(%01110100)
   324 3FB4 44							dta b(%01000100)
   325 3FB5 44							dta b(%01000100)
   326 3FB6 CC							dta b(%11001100)
   327 								
   328 3FB7 14							dta b(%00010100)		;125 O
   329 3FB8 74							dta b(%01110100)
   330 3FB9 44							dta b(%01000100)
   331 3FBA 44							dta b(%01000100)
   332 3FBB 44							dta b(%01000100)
   333 3FBC 44							dta b(%01000100)
   334 3FBD 5C							dta b(%01011100)
   335 3FBE F0							dta b(%11110000)
   336 								
   337 3FBF 50							dta b(%01010000)		;126 N
   338 3FC0 74							dta b(%01110100)
   339 3FC1 44							dta b(%01000100)
   340 3FC2 44							dta b(%01000100)
   341 3FC3 44							dta b(%01000100)
   342 3FC4 44							dta b(%01000100)
   343 3FC5 44							dta b(%01000100)
   344 3FC6 CC							dta b(%11001100)
   345 								
   346 								
   347
   348 = 3FC7			printBazaA1	equ *
   349 3FC7 38					sec
   350 3FC8 BD 2F 8A				lda bazyX-1,x
   351 3FCB E5 17				sbc posX
   352 3FCD A8					tay
   353 3FCE B9 00 13				lda tabX,y
   354 3FD1 9D 3F 8A				sta bazyX0-1,x
   355 3FD4 18					clc
   356 3FD5 69 08				adc #8
   357 						
   358 3FD7 C9 29				cmp #41
   359 3FD9 90 03				bcc @+
   360 3FDB 4C 1A 3E				jmp pre0a
   361
   362 3FDE 85 37		@		sta pom0
   363 						
   364 3FE0 38					sec
   365 3FE1 BD 4F 8A				lda bazyY-1,x
   366 3FE4 E5 18				sbc posY
   367 3FE6 9D 5F 8A				sta bazyY0-1,x
   368 3FE9 18					clc
   369 3FEA 69 07				adc #7	
   370 						
   371 3FEC 85 38		@		sta pom0a
   372 						
   373 						
   374 3FEE A5 D3				lda czyRakiety		;czy na mapie sa rakiety?
   375 3FF0 F0 5A				beq @+
   376 3FF2 A5 24				lda startMapy
   377 3FF4 05 23				ora trafienie
   378 3FF6 D0 54				bne @+
   379 3FF8 BD 1F 8A				lda bazyRakieta-1,x
   380 3FFB 10 4F				bpl @+
   381 3FFD					DODAJRAKIETAA
Macro: DODAJRAKIETAA [Source: rakiety.asm]
     1 3FFD AD A8 53					lda licznikJadroA
     2 4000 C9 05					cmp #5
     3 4002 90 48					bcc dra1
     4 4004 C9 10					cmp #16
     5 4006 B0 44					bcs dra1
     2 4008 A0 07					ldy #7
     3 400A B9 92 6E		szrak0		lda rakietyStan,y
     4 400D F0 03					beq szrak1
     5 400F 88						dey
     6 4010 10 F8					bpl szrak0
     7 4012 98			szrak1		tya
     8 4013 9D 1F 8A					sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
    10 4016 8A						txa
    11 4017 99 92 6E					sta rakietyStan,y
    12 401A BD 2F 8A					lda bazyX-1,x
    13 401D 18						clc
    14 401E 69 04					adc #4
    15 4020 99 A2 6E					sta rakietyX,y
    17 4023 BD 5F 8A					lda bazyY0-1,x		;nad czy pod statkiem ?
    18 4026 18						clc
    19 4027 69 08					adc #8
    20 4029 C9 12					cmp #10+8
    21 402B 90 11					bcc dra2
    23 402D A9 00 99 9A 6E				mva #0 rakietyTyp,y		;w gore
    24 4032 BD 4F 8A					lda bazyY-1,x
    25 4035 18						clc
    26 4036 69 02					adc #2
    27 4038 99 B2 6E					sta rakietyY,y
    28 403B 4C 4C 40					jmp dra1
    30 403E A9 01 99 9A 6E	dra2		mva #1 rakietyTyp,y		;w dol
    31 4043 BD 4F 8A					lda bazyY-1,x
    32 4046 18						clc
    33 4047 69 04					adc #4
    34 4049 99 B2 6E					sta rakietyY,y
    36 = 404C			dra1		equ *
Source: bmove.asm
   382 404C 8A			@		txa
   383 404D AC 1F 3D				ldy licznikBazyEkran
   384 4050 99 21 3D				sta BazyEkran,y
   385 4053 EE 1F 3D				inc licznikBazyEkran
   386 						
   387 4056 A4 38		@		ldy pom0a
   388 4058 A5 1F				lda ramka
   389 405A D0 18				bne @+
   390 						
   391 405C 18					clc
   392 405D B9 01 17				lda obraz1La+1,y
   393 4060 65 37				adc pom0
   394 4062 85 69				sta pom
   395 4064 85 6B				sta pom1
   396 4066 B9 26 17				lda obraz1Ha+1,y
   397 4069 69 00				adc #0
   398 406B 85 6A				sta pom+1
   399 406D 69 01				adc #1
   400 406F 85 6C				sta pom1+1
   401 4071 4C 89 40				jmp @+1	;skok bezwarunkowy
   402 4074 18			@		clc
   403 4075 B9 4B 17				lda obraz2La+1,y
   404 4078 65 37				adc pom0
   405 407A 85 69				sta pom
   406 407C 85 6B				sta pom1
   407 407E B9 70 17				lda obraz2Ha+1,y
   408 4081 69 00				adc #0
   409 4083 85 6A				sta pom+1
   410 4085 69 01				adc #1
   411 4087 85 6C				sta pom1+1
   412
   413 4089 BD 0F 8A		@		lda bazystan-1,x
   414 408C 85 39				sta pom0b
   415 						
   416 408E C0 1D				cpy #29
   417 4090 90 21				bcc @+
   418 						
   419 4092 B9 A9 40				lda tab_prbaz1-29,y
   420 4095 85 6D				sta pom2
   421 4097 B9 B0 40				lda tab_prbaz1+7-29,y
   422 409A 85 6E				sta pom2+1
   423 409C A0 00				ldy #0
   424 409E B1 6D				lda (pom2),y
   425 40A0 8D AB 40				sta _zapCom+1		;zapamietaj poprzednia komende
   426 40A3 A9 60				lda #96				;kod komendy RTS
   427 40A5 91 6D				sta (pom2),y
   428 40A7 20 D4 40				jsr _rysBazA		;rysuj baze od poczatku
   429 40AA A9 00		_zapCom	lda #0
   430 40AC A0 00				ldy #0
   431 40AE 91 6D				sta (pom2),y
   432 40B0 4C 1A 3E				jmp pre0a
   433 						
   434 40B3 C0 07		@		cpy #7
   435 40B5 B0 1D				bcs @+
   436 						
   437 40B7 B9 C6 40				lda tab_prbaz1,y
   438 40BA 8D C4 40				sta prb1_skok+1
   439 40BD B9 CD 40				lda tab_prbaz1+7,y
   440 40C0 8D C5 40				sta prb1_skok+2
   441 = 40C3			prb1_skok	equ *
   442 40C3 4C FF FF				jmp $ffff
   443
   444 40C6 F8 DE AE 76 3E 0E + tab_prbaz1	dta b(<lin7a,<lin6a,<lin5a,<lin4a,<lin3a,<lin2a,<lin1a)		
   445 40CD 41 41 41 41 41 41 + 			dta b(>lin7a,>lin6a,>lin5a,>lin4a,>lin3a,>lin2a,>lin1a)
   446
   447 = 40D4			_rysBazA	equ *			
   448 40D4 BD FF 8A		@		lda bazyCannon0a-1,x
   449 40D7 F0 04				beq @+
   450 40D9 A0 02				ldy #2
   451 40DB 91 69				sta (pom),y
   452 40DD A0 03		@		ldy #3
   453 40DF BD 0F 8B				lda bazyCannon0b-1,x
   454 40E2 91 69				sta (pom),y
   455 40E4 A0 05				ldy #5
   456 40E6 BD 3F 8B				lda bazyCannon1a-1,x
   457 40E9 91 69				sta (pom),y
   458 						
   459 40EB BD 4F 8B				lda bazyCannon1b-1,x
   460 40EE F0 04				beq lin1a
   461 40F0 A0 06				ldy #6
   462 40F2 91 69				sta (pom),y
   463 						
   464 40F4 A0 32		lin1a	ldy #50
   465 40F6 BD 1F 8B				lda bazyCannon0c-1,x
   466 40F9 91 69				sta (pom),y
   467 40FB C8					iny
   468 40FC BD 2F 8B				lda bazyCannon0d-1,x
   469 40FF 91 69				sta (pom),y
   470 4101 A0 35				ldy #53
   471 4103 BD 5F 8B				lda bazyCannon1c-1,x
   472 4106 91 69				sta (pom),y
   473 4108 C8					iny
   474 4109 BD 6F 8B				lda bazyCannon1d-1,x
   475 410C 91 69				sta (pom),y
   476 						
   477 410E A0 61		lin2a	ldy #97
   478 4110 A9 0C				lda #b+9
   479 4112 91 69				sta (pom),y
   480
   481 4114 A5 39				lda pom0b		;jesli zbite dzialko 0
   482 4116 29 01				and #%1
   483 4118 F0 06				beq @+
   484 						
   485 411A A0 62				ldy #98
   486 411C A9 0B				lda #b+8
   487 411E 91 69				sta (pom),y
   488 4120 A0 63		@		ldy #99
   489 4122 A9 0D				lda #b+10
   490 4124 91 69				sta (pom),y
   491 4126 A0 65				ldy #101
   492 4128 A9 0E				lda #b+11
   493 412A 91 69				sta (pom),y
   494
   495 412C A5 39				lda pom0b		;jesli zbite dzialko 1
   496 412E 29 02				and #%10
   497 4130 F0 06				beq @+
   498 						
   499 4132 A0 66				ldy #102
   500 4134 A9 09				lda #b+6
   501 4136 91 69				sta (pom),y
   502 						
   503 4138 A0 67		@		ldy #103
   504 413A A9 0A				lda #b+7
   505 413C 91 69				sta (pom),y
   506 						
   507 413E BD 3F 8C		lin3a	lda bazyCannon5a-1,x
   508 4141 F0 04				beq @+
   509 4143 A0 90				ldy #144
   510 4145 91 69				sta (pom),y
   511 4147 A0 91		@		ldy #145
   512 4149 BD 4F 8C				lda bazyCannon5b-1,x
   513 414C 91 69				sta (pom),y
   514 414E C8					iny
   515 414F A9 07				lda #b+4
   516 4151 91 69				sta (pom),y
   517 4153 C8					iny
   518 4154 A9 03				lda #b
   519 4156 91 69				sta (pom),y
   520 4158 C8					iny
   521 = 4159			_bazaAJadro0	equ *
   522 4159 A9 93				lda #b+16+128
   523 415B 91 69				sta (pom),y
   524 415D C8					iny
   525 415E A9 05				lda #b+2
   526 4160 91 69				sta (pom),y
   527 4162 C8					iny
   528 4163 A9 07				lda #b+4
   529 4165 91 69				sta (pom),y
   530 4167 C8					iny
   531 4168 BD 7F 8B				lda bazyCannon2a-1,x
   532 416B 91 69				sta (pom),y
   533 						
   534 416D BD 8F 8B				lda bazyCannon2b-1,x
   535 4170 F0 04				beq lin4a
   536 4172 A0 98				ldy #152
   537 4174 91 69				sta (pom),y
   538 						
   539 4176 BD 5F 8C		lin4a	lda bazyCannon5c-1,x
   540 4179 F0 04				beq @+
   541 417B A0 C0				ldy #192
   542 417D 91 69				sta (pom),y
   543 417F A0 C1		@		ldy #193
   544 4181 BD 6F 8C				lda bazyCannon5d-1,x
   545 4184 91 69				sta (pom),y
   546 4186 C8					iny
   547 4187 A9 08				lda #b+5
   548 4189 91 69				sta (pom),y
   549 418B C8					iny
   550 418C A9 04				lda #b+1
   551 418E 91 69				sta (pom),y
   552 4190 C8					iny
   553 = 4191			_bazaAJadro1	equ *
   554 4191 A9 94				lda #b+17+128
   555 4193 91 69				sta (pom),y
   556 4195 C8					iny
   557 4196 A9 06				lda #b+3
   558 4198 91 69				sta (pom),y
   559 419A C8					iny
   560 419B A9 08				lda #b+5
   561 419D 91 69				sta (pom),y
   562 419F C8					iny
   563 41A0 BD 9F 8B				lda bazyCannon2c-1,x
   564 41A3 91 69				sta (pom),y
   565 						
   566 41A5 BD AF 8B				lda bazyCannon2d-1,x
   567 41A8 F0 04				beq lin5a
   568 41AA A0 C8				ldy #200
   569 41AC 91 69				sta (pom),y
   570 						
   571 41AE A0 F1		lin5a	ldy #241
   572 41B0 A9 09				lda #b+6
   573 41B2 91 69				sta (pom),y
   574
   575 41B4 A5 39				lda pom0b		;jesli zbite dzialko 4
   576 41B6 29 10				and #%10000
   577 41B8 F0 06				beq @+
   578 						
   579 41BA A0 F2				ldy #242
   580 41BC A9 0A				lda #b+7
   581 41BE 91 69				sta (pom),y
   582 41C0 A0 F3		@		ldy #243
   583 41C2 A9 0E				lda #b+11
   584 41C4 91 69				sta (pom),y
   585 41C6 A0 F5				ldy #245
   586 41C8 A9 0D				lda #b+10
   587 41CA 91 69				sta (pom),y
   588
   589 41CC A5 39				lda pom0b	;jesli zbite dzialko 3
   590 41CE 29 08				and #%1000
   591 41D0 F0 06				beq @+
   592 						
   593 41D2 A0 F6				ldy #246
   594 41D4 A9 0C				lda #b+9
   595 41D6 91 69				sta (pom),y
   596 41D8 A0 F7		@		ldy #247
   597 41DA A9 0B				lda #b+8
   598 41DC 91 69				sta (pom),y
   599 						
   600 41DE A0 22		lin6a	ldy #34
   601 41E0 BD FF 8B				lda bazyCannon4a-1,x
   602 41E3 91 6B				sta (pom1),y
   603 41E5 C8					iny
   604 41E6 BD 0F 8C				lda bazyCannon4b-1,x
   605 41E9 91 6B				sta (pom1),y
   606 41EB A0 25				ldy #37
   607 41ED BD BF 8B				lda bazyCannon3a-1,x
   608 41F0 91 6B				sta (pom1),y
   609 41F2 C8					iny
   610 41F3 BD CF 8B				lda bazyCannon3b-1,x
   611 41F6 91 6B				sta (pom1),y
   612 						
   613 41F8 BD 1F 8C		lin7a	lda bazyCannon4c-1,x
   614 41FB F0 04				beq @+
   615 41FD A0 52				ldy #82
   616 41FF 91 6B				sta (pom1),y
   617 4201 A0 53		@		ldy #83
   618 4203 BD 2F 8C				lda bazyCannon4d-1,x
   619 4206 91 6B				sta (pom1),y
   620 4208 A0 55				ldy #85
   621 420A BD DF 8B				lda bazyCannon3c-1,x
   622 420D 91 6B				sta (pom1),y
   623 						
   624 420F BD EF 8B				lda bazyCannon3d-1,x
   625 4212 F0 04				beq @+
   626 4214 A0 56				ldy #86
   627 4216 91 6B				sta (pom1),y
   628 						
   629 4218 4C 1A 3E		@		jmp pre0a
   630
   631 = 421B			printBazaB1	equ *
   632 421B 38					sec
   633 421C BD 2F 8A				lda bazyX-1,x
   634 421F E5 17				sbc posX
   635 4221 A8					tay
   636 4222 B9 00 13				lda tabX,y
   637 4225 9D 3F 8A				sta bazyX0-1,x
   638 4228 18					clc
   639 4229 69 07				adc #7
   640 						
   641 422B C9 28				cmp #40
   642 422D 90 03				bcc @+
   643 422F 4C 1A 3E				jmp pre0a
   644 						
   645 4232 69 01		@		adc #1
   646 4234 85 37				sta pom0
   647 						
   648 4236 38					sec
   649 4237 BD 4F 8A				lda bazyY-1,x
   650 423A E5 18				sbc posY
   651 423C 9D 5F 8A				sta bazyY0-1,x
   652 423F 18					clc
   653 4240 69 08				adc #8		
   654
   655 4242 85 38		@		sta pom0a
   656 						
   657 4244 A5 D3				lda czyRakiety
   658 4246 F0 5A				beq @+
   659 4248 A5 24				lda startMapy
   660 424A 05 23				ora trafienie
   661 424C D0 54				bne @+
   662 424E BD 1F 8A				lda bazyRakieta-1,x
   663 4251 10 4F				bpl @+
   664 4253					DODAJRAKIETAB
Macro: DODAJRAKIETAB [Source: rakiety.asm]
     1 4253 AD A9 53					lda licznikJadroB
     2 4256 C9 05					cmp #5
     3 4258 90 48					bcc drb1
     4 425A C9 10					cmp #16
     5 425C B0 44					bcs drb1
     2 425E A0 07					ldy #7
     3 4260 B9 92 6E		szrak0		lda rakietyStan,y
     4 4263 F0 03					beq szrak1
     5 4265 88						dey
     6 4266 10 F8					bpl szrak0
     7 4268 98			szrak1		tya
     8 4269 9D 1F 8A					sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
    10 426C 8A						txa
    11 426D 99 92 6E					sta rakietyStan,y
    12 4270 BD 4F 8A					lda bazyY-1,x
    13 4273 18						clc
    14 4274 69 04					adc #4
    15 4276 99 B2 6E					sta rakietyY,y
    17 4279 BD 3F 8A					lda bazyX0-1,x		;po lewo czy po prawo od statku?
    18 427C 18						clc
    19 427D 69 08					adc #8
    20 427F C9 14					cmp #12+8
    21 4281 90 11					bcc drb2
    23 4283 A9 02 99 9A 6E				mva #2 rakietyTyp,y		;w lewo
    24 4288 BD 2F 8A					lda bazyX-1,x
    25 428B 18						clc
    26 428C 69 02					adc #2
    27 428E 99 A2 6E					sta rakietyX,y
    28 4291 4C A2 42					jmp drb1
    30 4294 A9 03 99 9A 6E	drb2		mva #3 rakietyTyp,y		;w prawo
    31 4299 BD 2F 8A					lda bazyX-1,x
    32 429C 18						clc
    33 429D 69 04					adc #4
    34 429F 99 A2 6E					sta rakietyX,y
    36 = 42A2			drb1		equ *			
Source: bmove.asm
   665 42A2 8A			@		txa
   666 42A3 AC 1F 3D				ldy licznikBazyEkran
   667 42A6 99 21 3D				sta BazyEkran,y
   668 42A9 EE 1F 3D				inc licznikBazyEkran
   669 						
   670 42AC A4 38				ldy pom0a
   671 42AE A5 1F				lda ramka
   672 42B0 D0 18				bne @+
   673 						
   674 42B2 18					clc
   675 42B3 B9 00 17				lda obraz1La,y
   676 42B6 65 37				adc pom0
   677 42B8 85 69				sta pom
   678 42BA 85 6B				sta pom1
   679 42BC B9 25 17				lda obraz1Ha,y
   680 42BF 69 00				adc #0
   681 42C1 85 6A				sta pom+1
   682 42C3 69 01				adc #1
   683 42C5 85 6C				sta pom1+1
   684 42C7 4C DF 42				jmp @+1	;skok bezwarunkowy
   685 42CA 18			@		clc
   686 42CB B9 4A 17				lda obraz2La,y
   687 42CE 65 37				adc pom0
   688 42D0 85 69				sta pom
   689 42D2 85 6B				sta pom1
   690 42D4 B9 6F 17				lda obraz2Ha,y
   691 42D7 69 00				adc #0
   692 42D9 85 6A				sta pom+1
   693 42DB 69 01				adc #1
   694 42DD 85 6C				sta pom1+1
   695
   696 42DF BD 0F 8A		@		lda bazyStan-1,x
   697 42E2 85 39				sta pom0b
   698 						
   699 42E4 C0 1F				cpy #31
   700 42E6 90 21				bcc @+
   701 						
   702 42E8 B9 FE 42				lda tab_prbaz2-30,y
   703 42EB 85 6D				sta pom2
   704 42ED B9 06 43				lda tab_prbaz2+8-30,y
   705 42F0 85 6E				sta pom2+1
   706 42F2 A0 00				ldy #0
   707 42F4 B1 6D				lda (pom2),y
   708 42F6 8D 01 43				sta _zapCom1+1		;zapamietaj poprzednia komende
   709 42F9 A9 60				lda #96				;kod komendy RTS
   710 42FB 91 6D				sta (pom2),y
   711 42FD 20 2C 43				jsr _rysBazB		;rysuj baze od poczatku
   712 4300 A9 00		_zapCom1 lda #0
   713 4302 A0 00				ldy #0
   714 4304 91 6D				sta (pom2),y
   715 4306 4C 1A 3E				jmp pre0a
   716 						
   717 4309 C0 08		@		cpy #8
   718 430B B0 1F				bcs @+
   719 						
   720 430D B9 1C 43				lda tab_prbaz2,y
   721 4310 8D 1A 43				sta prb2_skok+1
   722 4313 B9 24 43				lda tab_prbaz2+8,y
   723 4316 8D 1B 43				sta prb2_skok+2
   724 = 4319			prb2_skok	equ *
   725 4319 4C FF FF				jmp $ffff
   726
   727 431C 5A 43 00 D3 C8 9B + tab_prbaz2	dta b(<lin8b,<lin7b,<lin6b,<lin5b,<lin4b,<lin3b,<lin2b,<lin1b)		
   728 4324 44 44 44 43 43 43 + 			dta b(>lin8b,>lin7b,>lin6b,>lin5b,>lin4b,>lin3b,>lin2b,>lin1b)
   729
   730 = 432C			_rysBazB	equ *			
   731 432C A0 03		@		ldy #3
   732 432E BD FF 8A				lda bazyCannon0a-1,x
   733 4331 91 69				sta (pom),y
   734 4333 C8					iny
   735 4334 BD 0F 8B				lda bazyCannon0b-1,x
   736 4337 91 69				sta (pom),y
   737 						
   738 4339 A0 32		lin1b	ldy #50
   739 433B A9 1C				lda #b+25
   740 433D 91 69				sta (pom),y
   741 433F C8					iny
   742 4340 BD 1F 8B				lda bazyCannon0c-1,x
   743 4343 F0 04				beq @+
   744 4345 A0 33				ldy #51
   745 4347 91 69				sta (pom),y
   746 4349 BD 2F 8B		@		lda bazyCannon0d-1,x
   747 434C F0 04				beq @+
   748 434E A0 34				ldy #52
   749 4350 91 69				sta (pom),y
   750 4352 A0 35		@		ldy #53
   751 4354 A9 1E				lda #b+27
   752 4356 91 69				sta (pom),y
   753 						
   754 4358 BD 3F 8C		lin2b	lda bazyCannon5a-1,x
   755 435B F0 04				beq @+
   756 435D A0 60				ldy #96
   757 435F 91 69				sta (pom),y
   758 4361 A0 61		@		ldy #97
   759 4363 BD 4F 8C				lda bazyCannon5b-1,x
   760 4366 91 69				sta (pom),y
   761
   762 4368 A5 39				lda pom0b		;jesli zbite dzialko 5
   763 436A 29 20				and #%100000
   764 436C F0 06				beq @+
   765 						
   766 436E A0 62				ldy #98
   767 4370 A9 1B				lda #b+24
   768 4372 91 69				sta (pom),y
   769 4374 A0 63		@		ldy #99
   770 4376 A9 0F				lda #b+12
   771 4378 91 69				sta (pom),y
   772 437A C8					iny
   773 437B A9 10				lda #b+13
   774 437D 91 69				sta (pom),y
   775
   776 437F A5 39				lda pom0b		;jesli zbite dzialko 1
   777 4381 29 02				and #%10
   778 4383 F0 06				beq @+
   779 						
   780 4385 A0 65				ldy #101
   781 4387 A9 1D				lda #b+26
   782 4389 91 69				sta (pom),y
   783 438B A0 66		@		ldy #102
   784 438D BD 3F 8B				lda bazyCannon1a-1,x
   785 4390 91 69				sta (pom),y
   786 						
   787 4392 BD 4F 8B				lda bazyCannon1b-1,x
   788 4395 F0 04				beq lin3b
   789 4397 A0 67				ldy #103
   790 4399 91 69				sta (pom),y
   791 						
   792 439B A0 90		lin3b	ldy #144
   793 439D BD 5F 8C				lda bazyCannon5c-1,x
   794 43A0 91 69				sta (pom),y
   795 43A2 C8					iny
   796 43A3 BD 6F 8C				lda bazyCannon5d-1,x
   797 43A6 91 69				sta (pom),y
   798 43A8 C8					iny
   799 43A9 A9 11				lda #b+14
   800 43AB 91 69				sta (pom),y
   801 43AD C8					iny
   802 43AE A9 03				lda #b
   803 43B0 91 69				sta (pom),y
   804 43B2 C8					iny
   805 43B3 A9 05				lda #b+2
   806 43B5 91 69				sta (pom),y
   807 43B7 C8					iny
   808 43B8 A9 12				lda #b+15
   809 43BA 91 69				sta (pom),y
   810 43BC C8					iny
   811 43BD BD 5F 8B				lda bazyCannon1c-1,x
   812 43C0 91 69				sta (pom),y
   813 43C2 C8					iny
   814 43C3 BD 6F 8B				lda bazyCannon1d-1,x
   815 43C6 91 69				sta (pom),y
   816 						
   817 43C8 A0 C3		lin4b	ldy #195
   818 = 43CA			_bazaBJadro0	equ *
   819 43CA A9 95				lda #b+18+128
   820 43CC 91 69				sta (pom),y
   821 43CE C8					iny
   822 = 43CF			_bazaBJadro1	equ *
   823 43CF A9 96				lda #b+19+128
   824 43D1 91 69				sta (pom),y
   825 						
   826 43D3 A0 F0		lin5b	ldy #240
   827 43D5 BD FF 8B				lda bazyCannon4a-1,x
   828 43D8 91 69				sta (pom),y
   829 43DA C8					iny
   830 43DB BD 0F 8C				lda bazyCannon4b-1,x
   831 43DE 91 69				sta (pom),y
   832 43E0 C8					iny
   833 43E1 A9 12				lda #b+15
   834 43E3 91 69				sta (pom),y
   835 43E5 C8					iny
   836 43E6 A9 04				lda #b+1
   837 43E8 91 69				sta (pom),y
   838 43EA C8					iny
   839 43EB A9 06				lda #b+3
   840 43ED 91 69				sta (pom),y
   841 43EF C8					iny
   842 43F0 A9 11				lda #b+14
   843 43F2 91 69				sta (pom),y
   844 43F4 C8					iny
   845 43F5 BD 7F 8B				lda bazyCannon2a-1,x
   846 43F8 91 69				sta (pom),y
   847 43FA C8					iny
   848 43FB BD 8F 8B				lda bazyCannon2b-1,x
   849 43FE 91 69				sta (pom),y
   850 						
   851 4400 BD 1F 8C		lin6b	lda bazyCannon4c-1,x
   852 4403 F0 04				beq @+
   853 4405 A0 20				ldy #32
   854 4407 91 6B				sta (pom1),y
   855 4409 A0 21		@		ldy #33
   856 440B BD 2F 8C				lda bazyCannon4d-1,x
   857 440E 91 6B				sta (pom1),y
   858
   859 4410 A5 39				lda pom0b		;jesli zbite dzialko 4
   860 4412 29 10				and #%10000
   861 4414 F0 06				beq @+
   862 						
   863 4416 A0 22				ldy #34
   864 4418 A9 1E				lda #b+27
   865 441A 91 6B				sta (pom1),y
   866 441C A0 23		@		ldy #35
   867 441E A9 0F				lda #b+12
   868 4420 91 6B				sta (pom1),y
   869 4422 C8					iny
   870 4423 A9 10				lda #b+13
   871 4425 91 6B				sta (pom1),y
   872
   873 4427 A5 39				lda pom0b		;jesli zbite dzialko 2
   874 4429 29 04				and #%100
   875 442B F0 06				beq @+
   876 						
   877 442D A0 25				ldy #37
   878 442F A9 1C				lda #b+25
   879 4431 91 6B				sta (pom1),y
   880 4433 A0 26		@		ldy #38
   881 4435 BD 9F 8B				lda bazyCannon2c-1,x
   882 4438 91 6B				sta (pom1),y
   883 						
   884 443A BD AF 8B				lda bazyCannon2d-1,x
   885 443D F0 04				beq lin7b
   886 443F A0 27				ldy #39
   887 4441 91 6B				sta (pom1),y
   888 						
   889 4443 A0 52		lin7b	ldy #82
   890 4445 A9 1D				lda #b+26
   891 4447 91 6B				sta (pom1),y
   892 4449 C8					iny
   893 444A BD BF 8B				lda bazyCannon3a-1,x
   894 444D 91 6B				sta (pom1),y
   895 444F C8					iny
   896 4450 BD CF 8B				lda bazyCannon3b-1,x
   897 4453 91 6B				sta (pom1),y
   898 4455 C8					iny
   899 4456 A9 1B				lda #b+24
   900 4458 91 6B				sta (pom1),y
   901 						
   902 445A BD DF 8B		lin8b	lda bazyCannon3c-1,x
   903 445D F0 04				beq @+
   904 445F A0 83				ldy #131
   905 4461 91 6B				sta (pom1),y
   906 						
   907 4463 BD EF 8B		@		lda bazyCannon3d-1,x
   908 4466 F0 04				beq @+
   909 4468 A0 84				ldy #132
   910 446A 91 6B				sta (pom1),y
   911 						
   912 446C 4C 1A 3E		@		jmp pre0a
   913 						
   914 						
   915 = 446F			gwiazdyInit	equ *
   916 446F A9 00 85 43				mva #0 znakDX
   917 4473 A9 00 85 44				mva #0 znakDY
   918 						
   919 4477 AD B1 3D 8D 08 B8			mva gwiazdyPixel znaki1+8
   920 447D 29 55				and #%01010101
   921 447F 8D 10 B8				sta znaki1+16
   922 4482 AD B1 3D 8D 08 BC			mva gwiazdyPixel znaki2+8
   923 4488 29 55				and #%01010101
   924 448A 8D 10 BC				sta znaki2+16
   925 						
   926 448D A9 00 85 41				mva #0 znakX1
   927 4491 85 42				sta znakY1
   928 4493 85 43				sta znakDX
   929 4495 85 44				sta znakDY
   930 4497 A9 00 85 82				mva #0 muzyka
   931 						
   932 449B A2 11				ldx #17
   933 449D BD 8D 3D		@		lda znakXa,x
   934 44A0 95 45				sta znakX,x
   935 44A2 BD 9F 3D				lda znakYa,x
   936 44A5 95 57				sta znakY,x
   937 44A7 CA					dex
   938 44A8 10 F3				bpl @- 
   939
   940 44AA 60					rts
   941
   942 = 44AB			gwiazdyRysuj2	equ *
   943 44AB A9 00				lda #0
   944 44AD 8D 08 BC		_gwzmaz1 sta znaki2+8
   945 44B0 8D 10 BC				sta znaki2+16
   946 44B3 A5 44				lda znakDY
   947 44B5 09 08				ora #%1000
   948 44B7 8D AE 44				sta _gwzmaz1+1
   949 44BA 49 18				eor #%11000
   950 44BC 8D B1 44				sta _gwzmaz1+4
   951
   952 44BF A6 43				ldx znakDX
   953 44C1 BD B1 3D				lda gwiazdyPixel,x 	;narysuj gwiazde w nowej pozycji
   954 44C4 A4 44				ldy znakDY
   955 44C6 99 08 BC				sta znaki2+8,y
   956 44C9 29 55				and #%01010101
   957 44CB 99 10 BC				sta znaki2+16,y
   958
   959 44CE D0 23				bne gwiazdyPrint		;skok bezwarunkowy
   960 						
   961 = 44D0			gwiazdyRysuj1 equ *  ;narysuj gwiazdy na pustych polach
   962 44D0 A9 00				lda #0
   963 44D2 8D 08 B8		_gwzmaz		sta znaki1+8
   964 44D5 8D 10 B8					sta znaki1+16
   965 44D8 A5 44				lda znakDY
   966 44DA 09 08				ora #%1000
   967 44DC 8D D3 44				sta _gwzmaz+1
   968 44DF 49 18				eor #%11000
   969 44E1 8D D6 44				sta _gwzmaz+4
   970
   971 44E4 A6 43				ldx znakDX
   972 44E6 BD B1 3D				lda gwiazdyPixel,x 	;narysuj gwiazde w nowej pozycji
   973 44E9 A4 44				ldy znakDY
   974 44EB 99 08 B8				sta znaki1+8,y
   975 44EE 29 55				and #%01010101
   976 44F0 99 10 B8				sta znaki1+16,y
   977 					
   978 = 44F3			gwiazdyPrint equ *
   979 44F3 AE B5 3D				ldx gwiazdyLicznik
   980 44F6 E0 02				cpx #2
   981 44F8 D0 03 4C E9 45			jeq gpr1
   982 						
   983 						.rept 6, #
   984 							LDA ZNAKY+:1
   985 							CLC
   986 							ADC ZNAKY1
   987 							CMP #29
   988 							BCC @+
   989 							SBC #29	
   990 							CLC
   991 				@			TAY
   992 							LDA ZNAKX+:1
   993 							ADC ZNAKX1
   994 							CMP #33		
   995 							BCC @+
   996 							SBC #33
   997 							CLC
   998 				@			ADC (SCREENL),Y
   999 							STA _GWPOS:1+1
  1000 							LDA (SCREENH),Y
  1001 							ADC #0
  1002 							STA _GWPOS:1+2
  1003 						.ENDR 
  1003 						.endr 
Source: REPT
   984 44FD A5 57					LDA ZNAKY+0
   984 44FF 18						CLC
   984 4500 65 42					ADC ZNAKY1
   984 4502 C9 1D					CMP #29
   984 4504 90 03					BCC @+
   984 4506 E9 1D					SBC #29	
   984 4508 18						CLC
   984 4509 A8			@			TAY
   984 450A A5 45					LDA ZNAKX+0
   984 450C 65 41					ADC ZNAKX1
   984 450E C9 21					CMP #33		
   984 4510 90 03					BCC @+
   984 4512 E9 21					SBC #33
   984 4514 18						CLC
   984 4515 71 71		@			ADC (SCREENL),Y
   984 4517 8D D8 45					STA _GWPOS0+1
   984 451A B1 73					LDA (SCREENH),Y
   984 451C 69 00					ADC #0
   984 451E 8D D9 45					STA _GWPOS0+2
   984 4521 A5 58					LDA ZNAKY+1
   984 4523 18						CLC
   984 4524 65 42					ADC ZNAKY1
   984 4526 C9 1D					CMP #29
   984 4528 90 03					BCC @+
   984 452A E9 1D					SBC #29	
   984 452C 18						CLC
   984 452D A8			@			TAY
   984 452E A5 46					LDA ZNAKX+1
   984 4530 65 41					ADC ZNAKX1
   984 4532 C9 21					CMP #33		
   984 4534 90 03					BCC @+
   984 4536 E9 21					SBC #33
   984 4538 18						CLC
   984 4539 71 71		@			ADC (SCREENL),Y
   984 453B 8D DB 45					STA _GWPOS1+1
   984 453E B1 73					LDA (SCREENH),Y
   984 4540 69 00					ADC #0
   984 4542 8D DC 45					STA _GWPOS1+2
   984 4545 A5 59					LDA ZNAKY+2
   984 4547 18						CLC
   984 4548 65 42					ADC ZNAKY1
   984 454A C9 1D					CMP #29
   984 454C 90 03					BCC @+
   984 454E E9 1D					SBC #29	
   984 4550 18						CLC
   984 4551 A8			@			TAY
   984 4552 A5 47					LDA ZNAKX+2
   984 4554 65 41					ADC ZNAKX1
   984 4556 C9 21					CMP #33		
   984 4558 90 03					BCC @+
   984 455A E9 21					SBC #33
   984 455C 18						CLC
   984 455D 71 71		@			ADC (SCREENL),Y
   984 455F 8D DE 45					STA _GWPOS2+1
   984 4562 B1 73					LDA (SCREENH),Y
   984 4564 69 00					ADC #0
   984 4566 8D DF 45					STA _GWPOS2+2
   984 4569 A5 5A					LDA ZNAKY+3
   984 456B 18						CLC
   984 456C 65 42					ADC ZNAKY1
   984 456E C9 1D					CMP #29
   984 4570 90 03					BCC @+
   984 4572 E9 1D					SBC #29	
   984 4574 18						CLC
   984 4575 A8			@			TAY
   984 4576 A5 48					LDA ZNAKX+3
   984 4578 65 41					ADC ZNAKX1
   984 457A C9 21					CMP #33		
   984 457C 90 03					BCC @+
   984 457E E9 21					SBC #33
   984 4580 18						CLC
   984 4581 71 71		@			ADC (SCREENL),Y
   984 4583 8D E1 45					STA _GWPOS3+1
   984 4586 B1 73					LDA (SCREENH),Y
   984 4588 69 00					ADC #0
   984 458A 8D E2 45					STA _GWPOS3+2
   984 458D A5 5B					LDA ZNAKY+4
   984 458F 18						CLC
   984 4590 65 42					ADC ZNAKY1
   984 4592 C9 1D					CMP #29
   984 4594 90 03					BCC @+
   984 4596 E9 1D					SBC #29	
   984 4598 18						CLC
   984 4599 A8			@			TAY
   984 459A A5 49					LDA ZNAKX+4
   984 459C 65 41					ADC ZNAKX1
   984 459E C9 21					CMP #33		
   984 45A0 90 03					BCC @+
   984 45A2 E9 21					SBC #33
   984 45A4 18						CLC
   984 45A5 71 71		@			ADC (SCREENL),Y
   984 45A7 8D E4 45					STA _GWPOS4+1
   984 45AA B1 73					LDA (SCREENH),Y
   984 45AC 69 00					ADC #0
   984 45AE 8D E5 45					STA _GWPOS4+2
   984 45B1 A5 5C					LDA ZNAKY+5
   984 45B3 18						CLC
   984 45B4 65 42					ADC ZNAKY1
   984 45B6 C9 1D					CMP #29
   984 45B8 90 03					BCC @+
   984 45BA E9 1D					SBC #29	
   984 45BC 18						CLC
   984 45BD A8			@			TAY
   984 45BE A5 4A					LDA ZNAKX+5
   984 45C0 65 41					ADC ZNAKX1
   984 45C2 C9 21					CMP #33		
   984 45C4 90 03					BCC @+
   984 45C6 E9 21					SBC #33
   984 45C8 18						CLC
   984 45C9 71 71		@			ADC (SCREENL),Y
   984 45CB 8D E7 45					STA _GWPOS5+1
   984 45CE B1 73					LDA (SCREENH),Y
   984 45D0 69 00					ADC #0
   984 45D2 8D E8 45					STA _GWPOS5+2
Source: bmove.asm
  1004 45D5 A9 01		stars1		lda #1
  1005 						.rept 6, #
  1006 				_GWPOS:1	STA $FFFF
  1007 						.ENDR
  1007 						.endr
Source: REPT
  1006 45D7 8D FF FF		_GWPOS0	STA $FFFF
  1006 45DA 8D FF FF		_GWPOS1	STA $FFFF
  1006 45DD 8D FF FF		_GWPOS2	STA $FFFF
  1006 45E0 8D FF FF		_GWPOS3	STA $FFFF
  1006 45E3 8D FF FF		_GWPOS4	STA $FFFF
  1006 45E6 8D FF FF		_GWPOS5	STA $FFFF
Source: bmove.asm
  1008 						
  1009 45E9 E0 01		gpr1	cpx #1
  1010 45EB D0 03 4C DC 46			jeq gpr2
  1011 						
  1012 						.rept 6, #+6
  1013 							LDA ZNAKY+:1
  1014 							CLC
  1015 							ADC ZNAKY1
  1016 							CMP #29
  1017 							BCC @+
  1018 							SBC #29
  1019 				@			TAY
  1020 							CLC
  1021 							LDA ZNAKX+:1
  1022 							ADC ZNAKX1
  1023 							CMP #33		
  1024 							BCC @+
  1025 							SBC #33
  1026 							CLC
  1027 				@			ADC (SCREENL),Y
  1028 							STA _GWPOS:1+1
  1029 							LDA (SCREENH),Y
  1030 							ADC #0
  1031 							STA _GWPOS:1+2
  1032 						.ENDR  
  1032 						.endr  
Source: REPT
  1013 45F0 A5 5D					LDA ZNAKY+6
  1013 45F2 18						CLC
  1013 45F3 65 42					ADC ZNAKY1
  1013 45F5 C9 1D					CMP #29
  1013 45F7 90 02					BCC @+
  1013 45F9 E9 1D					SBC #29
  1013 45FB A8			@			TAY
  1013 45FC 18						CLC
  1013 45FD A5 4B					LDA ZNAKX+6
  1013 45FF 65 41					ADC ZNAKX1
  1013 4601 C9 21					CMP #33		
  1013 4603 90 03					BCC @+
  1013 4605 E9 21					SBC #33
  1013 4607 18						CLC
  1013 4608 71 71		@			ADC (SCREENL),Y
  1013 460A 8D CB 46					STA _GWPOS6+1
  1013 460D B1 73					LDA (SCREENH),Y
  1013 460F 69 00					ADC #0
  1013 4611 8D CC 46					STA _GWPOS6+2
  1013 4614 A5 5E					LDA ZNAKY+7
  1013 4616 18						CLC
  1013 4617 65 42					ADC ZNAKY1
  1013 4619 C9 1D					CMP #29
  1013 461B 90 02					BCC @+
  1013 461D E9 1D					SBC #29
  1013 461F A8			@			TAY
  1013 4620 18						CLC
  1013 4621 A5 4C					LDA ZNAKX+7
  1013 4623 65 41					ADC ZNAKX1
  1013 4625 C9 21					CMP #33		
  1013 4627 90 03					BCC @+
  1013 4629 E9 21					SBC #33
  1013 462B 18						CLC
  1013 462C 71 71		@			ADC (SCREENL),Y
  1013 462E 8D CE 46					STA _GWPOS7+1
  1013 4631 B1 73					LDA (SCREENH),Y
  1013 4633 69 00					ADC #0
  1013 4635 8D CF 46					STA _GWPOS7+2
  1013 4638 A5 5F					LDA ZNAKY+8
  1013 463A 18						CLC
  1013 463B 65 42					ADC ZNAKY1
  1013 463D C9 1D					CMP #29
  1013 463F 90 02					BCC @+
  1013 4641 E9 1D					SBC #29
  1013 4643 A8			@			TAY
  1013 4644 18						CLC
  1013 4645 A5 4D					LDA ZNAKX+8
  1013 4647 65 41					ADC ZNAKX1
  1013 4649 C9 21					CMP #33		
  1013 464B 90 03					BCC @+
  1013 464D E9 21					SBC #33
  1013 464F 18						CLC
  1013 4650 71 71		@			ADC (SCREENL),Y
  1013 4652 8D D1 46					STA _GWPOS8+1
  1013 4655 B1 73					LDA (SCREENH),Y
  1013 4657 69 00					ADC #0
  1013 4659 8D D2 46					STA _GWPOS8+2
  1013 465C A5 60					LDA ZNAKY+9
  1013 465E 18						CLC
  1013 465F 65 42					ADC ZNAKY1
  1013 4661 C9 1D					CMP #29
  1013 4663 90 02					BCC @+
  1013 4665 E9 1D					SBC #29
  1013 4667 A8			@			TAY
  1013 4668 18						CLC
  1013 4669 A5 4E					LDA ZNAKX+9
  1013 466B 65 41					ADC ZNAKX1
  1013 466D C9 21					CMP #33		
  1013 466F 90 03					BCC @+
  1013 4671 E9 21					SBC #33
  1013 4673 18						CLC
  1013 4674 71 71		@			ADC (SCREENL),Y
  1013 4676 8D D4 46					STA _GWPOS9+1
  1013 4679 B1 73					LDA (SCREENH),Y
  1013 467B 69 00					ADC #0
  1013 467D 8D D5 46					STA _GWPOS9+2
  1013 4680 A5 61					LDA ZNAKY+10
  1013 4682 18						CLC
  1013 4683 65 42					ADC ZNAKY1
  1013 4685 C9 1D					CMP #29
  1013 4687 90 02					BCC @+
  1013 4689 E9 1D					SBC #29
  1013 468B A8			@			TAY
  1013 468C 18						CLC
  1013 468D A5 4F					LDA ZNAKX+10
  1013 468F 65 41					ADC ZNAKX1
  1013 4691 C9 21					CMP #33		
  1013 4693 90 03					BCC @+
  1013 4695 E9 21					SBC #33
  1013 4697 18						CLC
  1013 4698 71 71		@			ADC (SCREENL),Y
  1013 469A 8D D7 46					STA _GWPOS10+1
  1013 469D B1 73					LDA (SCREENH),Y
  1013 469F 69 00					ADC #0
  1013 46A1 8D D8 46					STA _GWPOS10+2
  1013 46A4 A5 62					LDA ZNAKY+11
  1013 46A6 18						CLC
  1013 46A7 65 42					ADC ZNAKY1
  1013 46A9 C9 1D					CMP #29
  1013 46AB 90 02					BCC @+
  1013 46AD E9 1D					SBC #29
  1013 46AF A8			@			TAY
  1013 46B0 18						CLC
  1013 46B1 A5 50					LDA ZNAKX+11
  1013 46B3 65 41					ADC ZNAKX1
  1013 46B5 C9 21					CMP #33		
  1013 46B7 90 03					BCC @+
  1013 46B9 E9 21					SBC #33
  1013 46BB 18						CLC
  1013 46BC 71 71		@			ADC (SCREENL),Y
  1013 46BE 8D DA 46					STA _GWPOS11+1
  1013 46C1 B1 73					LDA (SCREENH),Y
  1013 46C3 69 00					ADC #0
  1013 46C5 8D DB 46					STA _GWPOS11+2
Source: bmove.asm
  1033 46C8 A9 81		stars3		lda #1+128
  1034 						.rept 6, #+6
  1035 				_GWPOS:1	STA $FFFF
  1036 						.ENDR
  1036 						.endr
Source: REPT
  1035 46CA 8D FF FF		_GWPOS6	STA $FFFF
  1035 46CD 8D FF FF		_GWPOS7	STA $FFFF
  1035 46D0 8D FF FF		_GWPOS8	STA $FFFF
  1035 46D3 8D FF FF		_GWPOS9	STA $FFFF
  1035 46D6 8D FF FF		_GWPOS10	STA $FFFF
  1035 46D9 8D FF FF		_GWPOS11	STA $FFFF
Source: bmove.asm
  1037 						
  1038 46DC E0 00		gpr2	cpx #0
  1039 46DE D0 01				bne *+3
  1040 46E0 60					rts
  1041 						
  1042 						.rept 6, #+12
  1043 							LDA ZNAKY+:1
  1044 							CLC
  1045 							ADC ZNAKY1
  1046 							CMP #29
  1047 							BCC @+
  1048 							SBC #29
  1049 				@			TAY
  1050 							CLC
  1051 							LDA ZNAKX+:1
  1052 							ADC ZNAKX1
  1053 							CMP #33		
  1054 							BCC @+
  1055 							SBC #33
  1056 							CLC
  1057 				@			ADC (SCREENL),Y
  1058 							STA _GWPOS:1+1
  1059 							LDA (SCREENH),Y
  1060 							ADC #0
  1061 							STA _GWPOS:1+2
  1062 						.ENDR 
  1062 						.endr 
Source: REPT
  1043 46E1 A5 63					LDA ZNAKY+12
  1043 46E3 18						CLC
  1043 46E4 65 42					ADC ZNAKY1
  1043 46E6 C9 1D					CMP #29
  1043 46E8 90 02					BCC @+
  1043 46EA E9 1D					SBC #29
  1043 46EC A8			@			TAY
  1043 46ED 18						CLC
  1043 46EE A5 51					LDA ZNAKX+12
  1043 46F0 65 41					ADC ZNAKX1
  1043 46F2 C9 21					CMP #33		
  1043 46F4 90 03					BCC @+
  1043 46F6 E9 21					SBC #33
  1043 46F8 18						CLC
  1043 46F9 71 71		@			ADC (SCREENL),Y
  1043 46FB 8D BC 47					STA _GWPOS12+1
  1043 46FE B1 73					LDA (SCREENH),Y
  1043 4700 69 00					ADC #0
  1043 4702 8D BD 47					STA _GWPOS12+2
  1043 4705 A5 64					LDA ZNAKY+13
  1043 4707 18						CLC
  1043 4708 65 42					ADC ZNAKY1
  1043 470A C9 1D					CMP #29
  1043 470C 90 02					BCC @+
  1043 470E E9 1D					SBC #29
  1043 4710 A8			@			TAY
  1043 4711 18						CLC
  1043 4712 A5 52					LDA ZNAKX+13
  1043 4714 65 41					ADC ZNAKX1
  1043 4716 C9 21					CMP #33		
  1043 4718 90 03					BCC @+
  1043 471A E9 21					SBC #33
  1043 471C 18						CLC
  1043 471D 71 71		@			ADC (SCREENL),Y
  1043 471F 8D BF 47					STA _GWPOS13+1
  1043 4722 B1 73					LDA (SCREENH),Y
  1043 4724 69 00					ADC #0
  1043 4726 8D C0 47					STA _GWPOS13+2
  1043 4729 A5 65					LDA ZNAKY+14
  1043 472B 18						CLC
  1043 472C 65 42					ADC ZNAKY1
  1043 472E C9 1D					CMP #29
  1043 4730 90 02					BCC @+
  1043 4732 E9 1D					SBC #29
  1043 4734 A8			@			TAY
  1043 4735 18						CLC
  1043 4736 A5 53					LDA ZNAKX+14
  1043 4738 65 41					ADC ZNAKX1
  1043 473A C9 21					CMP #33		
  1043 473C 90 03					BCC @+
  1043 473E E9 21					SBC #33
  1043 4740 18						CLC
  1043 4741 71 71		@			ADC (SCREENL),Y
  1043 4743 8D C2 47					STA _GWPOS14+1
  1043 4746 B1 73					LDA (SCREENH),Y
  1043 4748 69 00					ADC #0
  1043 474A 8D C3 47					STA _GWPOS14+2
  1043 474D A5 66					LDA ZNAKY+15
  1043 474F 18						CLC
  1043 4750 65 42					ADC ZNAKY1
  1043 4752 C9 1D					CMP #29
  1043 4754 90 02					BCC @+
  1043 4756 E9 1D					SBC #29
  1043 4758 A8			@			TAY
  1043 4759 18						CLC
  1043 475A A5 54					LDA ZNAKX+15
  1043 475C 65 41					ADC ZNAKX1
  1043 475E C9 21					CMP #33		
  1043 4760 90 03					BCC @+
  1043 4762 E9 21					SBC #33
  1043 4764 18						CLC
  1043 4765 71 71		@			ADC (SCREENL),Y
  1043 4767 8D C5 47					STA _GWPOS15+1
  1043 476A B1 73					LDA (SCREENH),Y
  1043 476C 69 00					ADC #0
  1043 476E 8D C6 47					STA _GWPOS15+2
  1043 4771 A5 67					LDA ZNAKY+16
  1043 4773 18						CLC
  1043 4774 65 42					ADC ZNAKY1
  1043 4776 C9 1D					CMP #29
  1043 4778 90 02					BCC @+
  1043 477A E9 1D					SBC #29
  1043 477C A8			@			TAY
  1043 477D 18						CLC
  1043 477E A5 55					LDA ZNAKX+16
  1043 4780 65 41					ADC ZNAKX1
  1043 4782 C9 21					CMP #33		
  1043 4784 90 03					BCC @+
  1043 4786 E9 21					SBC #33
  1043 4788 18						CLC
  1043 4789 71 71		@			ADC (SCREENL),Y
  1043 478B 8D C8 47					STA _GWPOS16+1
  1043 478E B1 73					LDA (SCREENH),Y
  1043 4790 69 00					ADC #0
  1043 4792 8D C9 47					STA _GWPOS16+2
  1043 4795 A5 68					LDA ZNAKY+17
  1043 4797 18						CLC
  1043 4798 65 42					ADC ZNAKY1
  1043 479A C9 1D					CMP #29
  1043 479C 90 02					BCC @+
  1043 479E E9 1D					SBC #29
  1043 47A0 A8			@			TAY
  1043 47A1 18						CLC
  1043 47A2 A5 56					LDA ZNAKX+17
  1043 47A4 65 41					ADC ZNAKX1
  1043 47A6 C9 21					CMP #33		
  1043 47A8 90 03					BCC @+
  1043 47AA E9 21					SBC #33
  1043 47AC 18						CLC
  1043 47AD 71 71		@			ADC (SCREENL),Y
  1043 47AF 8D CB 47					STA _GWPOS17+1
  1043 47B2 B1 73					LDA (SCREENH),Y
  1043 47B4 69 00					ADC #0
  1043 47B6 8D CC 47					STA _GWPOS17+2
Source: bmove.asm
  1063 47B9 A9 82		stars2			lda #2+128
  1064 						.rept 6, #+12
  1065 				_GWPOS:1	STA $FFFF
  1066 						.ENDR		
  1066 						.endr		
Source: REPT
  1065 47BB 8D FF FF		_GWPOS12	STA $FFFF
  1065 47BE 8D FF FF		_GWPOS13	STA $FFFF
  1065 47C1 8D FF FF		_GWPOS14	STA $FFFF
  1065 47C4 8D FF FF		_GWPOS15	STA $FFFF
  1065 47C7 8D FF FF		_GWPOS16	STA $FFFF
  1065 47CA 8D FF FF		_GWPOS17	STA $FFFF
Source: bmove.asm
  1067 						
  1068 47CD 60					rts
  1069 						
  1070 = 47CE			movLeft	equ *
  1071 47CE A5 19				lda movX ;przesun gwiazde co 2 przesuniecie
  1072 47D0 29 01				and #%1
  1073 47D2 F0 12				beq ml11
  1074 						
  1075 47D4 A6 43				ldx znakDX ; czy zmienic pozycje X gwiazdy
  1076 47D6 E0 03				cpx #3
  1077 47D8 D0 09				bne ml12
  1078 						
  1079 						
  1080 47DA A4 41				ldy znakX1
  1081 47DC B9 D5 3D				lda znakMinus1,y
  1082 47DF 85 41				sta znakX1
  1083 						
  1084 47E1 A2 FF				ldx #255
  1085 47E3 E8			ml12	inx
  1086 47E4 86 43				stx znakDX	
  1087
  1088 47E6 A6 19		ml11	ldx movX
  1089 47E8 E0 0F				cpx #15
  1090 47EA F0 06				beq ml1   ;gdy 4 skocz
  1091 47EC E8					inx
  1092 47ED 86 19				stx movX
  1093 47EF 4C 6B 53				jmp l02
  1094 47F2 A9 0C		ml1		lda #12	;zeruj  przesuniecie
  1095 47F4 85 19				sta movX
  1096 47F6 C6 17				dec posX
  1097 47F8 10 04				bpl ml2
  1098 47FA A9 7F 85 17				mva #127 posX
  1099 							
  1100 47FE A4 41		ml2		ldy znakX1
  1101 4800 B9 D7 3D				lda znakPlus1,y
  1102 4803 85 41				sta znakX1	
  1103 						
  1104 4805 4C 6B 53				jmp l02
  1105
  1106 = 4808			movRight equ *		;statek w prawo tlo w lewo
  1107 4808 A5 19				lda movX
  1108 480A 29 01				and #%1  ;sprawdzamy mit 0
  1109 480C F0 10				beq mr11  ;jesli zero nic nie rob
  1110 						
  1111 480E A6 43				ldx znakDX		;czy zmienic pozycje X gwiazd
  1112 4810 D0 09				bne mr12
  1113 						
  1114 4812 A4 41				ldy znakX1
  1115 4814 B9 D7 3D				lda znakPlus1,y
  1116 4817 85 41				sta znakX1
  1117 						
  1118 4819 A2 04				ldx #4
  1119 481B CA			mr12	dex
  1120 481C 86 43				stx znakDX	
  1121 						
  1122 481E A6 19		mr11	ldx movX			;przesow tla
  1123 4820 E0 0C				cpx #12
  1124 4822 F0 06				beq mr1
  1125 4824 CA					dex
  1126 4825 86 19				stx movX
  1127 4827 4C 6B 53				jmp l02
  1128 482A A9 0F		mr1		lda #15
  1129 482C 85 19				sta movX
  1130 						
  1131 482E E6 17				inc posX
  1132 4830 10 04				bpl mr2
  1133 4832 A9 00 85 17				mva #0 posX
  1134 						
  1135 4836 A4 41		mr2		ldy znakX1
  1136 4838 B9 D5 3D				lda znakMinus1,y
  1137 483B 85 41				sta znakX1
  1138 						
  1139 483D 4C 6B 53				jmp l02
  1140 						
  1141
  1142 = 4840			movUp	equ *
  1143 4840 A4 44				ldy znakDY ; czy zmienic pozycje Y gwiazdy
  1144 4842 D0 19				bne mu12
  1145 						
  1146 4844 C4 1A				cpy movY
  1147 4846 D0 0C				bne @+
  1148 4848 A2 07 86 44				mvx #7 znakDY
  1149 484C CA					dex
  1150 484D 86 1A				stx movY
  1151 484F C6 18				dec posY
  1152 4851 4C 7D 53				jmp l04
  1153 						
  1154 4854 A4 42		@		ldy znakY1
  1155 4856 B9 B6 3D				lda znakUp1,y
  1156 4859 85 42				sta znakY1
  1157 						
  1158 485B A0 08				ldy #8
  1159 485D 88			mu12	dey
  1160 485E 84 44				sty znakDY
  1161 					
  1162 4860 A6 1A		mu11	ldx movY
  1163 4862 F0 07				beq mu1
  1164 4864 CA					dex
  1165 4865 CA					dex
  1166 4866 86 1A				stx movY
  1167 4868 4C 7D 53				jmp l04
  1168 486B A4 42		mu1		ldy znakY1
  1169 486D B9 B8 3D				lda znakDown1,y
  1170 4870 85 42				sta znakY1	
  1171 						
  1172 4872 A9 06				lda #6
  1173 4874 85 1A				sta movY
  1174 4876 C6 18				dec posY
  1175 4878 4C 7D 53				jmp l04
  1176 						
  1177
  1178 = 487B			movDown	equ *
  1179 487B A6 1A				ldx movY
  1180 487D A4 44				ldy znakDY ; czy zmienic pozycje Y gwiazdy
  1181 487F C0 07				cpy #7
  1182 4881 D0 18				bne md12
  1183 						
  1184 4883 E0 06				cpx #6
  1185 4885 D0 0B				bne @+
  1186 						
  1187 4887 A9 00				lda #0
  1188 4889 85 1A				sta movY
  1189 488B 85 44				sta znakDY
  1190 488D E6 18				inc posY
  1191 488F 4C 7D 53				jmp l04
  1192 						
  1193 4892 A4 42		@		ldy znakY1
  1194 4894 B9 B8 3D				lda znakDown1,y
  1195 4897 85 42				sta znakY1
  1196 						
  1197 4899 A0 FF				ldy #255
  1198 489B C8			md12	iny
  1199 489C 84 44				sty znakDY
  1200
  1201 489E A6 1A		md11	ldx movY
  1202 48A0 E0 06				cpx #6
  1203 48A2 F0 07				beq md1
  1204 48A4 E8					inx
  1205 48A5 E8					inx
  1206 48A6 86 1A				stx movY
  1207 48A8 4C 7D 53				jmp l04
  1208 48AB A9 00		md1		lda #0
  1209 48AD 85 1A				sta movY
  1210 48AF E6 18				inc posY
  1211 						
  1212 48B1 A4 42				ldy znakY1
  1213 48B3 B9 B6 3D				lda znakUp1,y
  1214 48B6 85 42				sta znakY1
  1215 48B8 4C 7D 53				jmp l04
  1216 						
  1217
  1218
  1219 48BB 00 4A 0B 00 CC 4E	joyTableL 	dta b(0),b(<rstatekUp),b(<rstatekDown),b(0),b(<rstatekLeft),b(<rstatekUpLeft)	;1,2,4,5
  1220 48C1 91 00 8D 0F D0				dta b(<rstatekDownLeft),b(0),b(<rstatekRight),b(<rstatekUpRight),b(<rstatekDownRight) ;6,8,9,10
  1221
  1222 48C6 00 4D 4E 00 4E 50	joyTableH 	dta b(0),b(>rstatekUp),b(>rstatekDown),b(0),b(>rstatekLeft),b(>rstatekUpLeft)	;1,2,4,5
  1223 48CC 52 00 4F 51 51				dta b(>rstatekDownLeft),b(0),b(>rstatekRight),b(>rstatekUpRight),b(>rstatekDownRight) ;6,8,9,10
  1224 														;13,14
  1225 							
  1226 = 48D1			wybuch0		equ *
  1227 48D1 00 00 00 00 00 00 + 			:16*4 dta b(0)			
  1228 							
  1229 							;3
  1230 4911 00 00					:2 dta b(0)
  1231 4913 10 10 10					:3 dta b(%00010000)
  1232 4916 28						dta b(%00101000)
  1233 4917 44 44 44					:3 dta b(%01000100)
  1234 491A 28						dta b(%00101000)
  1235 491B 10 10 10					:3 dta b(%00010000)
  1236 491E 00 00 00					:3 dta b(0)
  1237 							
  1238 							;2
  1239 4921 00 00 00					:3 dta b(0)
  1240 4924 10 10 10					:3 dta b(%00010000)
  1241 4927 38						dta b(%00111000)
  1242 4928 6C						dta b(%01101100)
  1243 4929 38						dta b(%00111000)
  1244 492A 10 10 10					:3 dta b(%00010000)
  1245 492D 00 00 00 00					:4 dta b(0)
  1246 							
  1247 							;1
  1248 4931 00 00 00 00					:4 dta b(0)
  1249 4935 10 10					:2 dta b(%00010000)
  1250 4937 38						dta b(%00111000)
  1251 4938 7C						dta b(%01111100)
  1252 4939 38						dta b(%00111000)
  1253 493A 10 10					:2 dta b(%00010000)
  1254 493C 00 00 00 00 00				:5 dta b(0)
  1255 							
  1256 							;0
  1257 4941 00 00 00 00 00 00				:6 dta b(0)
  1258 4947 10						dta b(%00010000)
  1259 4948 38						dta b(%00111000)
  1260 4949 10						dta b(%00010000)
  1261 494A 00 00 00 00 00 00 + 			:7 dta b(0)
  1262 							
  1263 							
  1264 = 4951			wybuch1		equ *
  1265 4951 00 00 00 00 00 00 + 			:16 dta b(0)				
  1266 					
  1267 							;6
  1268 4961 10						dta b(%00010000)
  1269 4962 00 00					:2 dta b(0)
  1270 4964 28						dta b(%00101000)
  1271 4965 00						dta b(0)
  1272 4966 44						dta b(%01000100)
  1273 4967 00						dta b(0)
  1274 4968 82						dta b(%10000010)
  1275 4969 00						dta b(0)
  1276 496A 44						dta b(%01000100)
  1277 496B 00						dta b(0)
  1278 496C 28						dta b(%00101000)
  1279 496D 00 00					:2 dta b(0)
  1280 496F 10						dta b(%00010000)
  1281 4970 00						dta b(0)
  1282 							
  1283 							;5
  1284 4971 10						dta b(%00010000)
  1285 4972 00						dta b(0)
  1286 4973 28 28 28					:3 dta b(%00101000)
  1287 4976 44						dta b(%01000100)
  1288 4977 00						dta b(0)
  1289 4978 82						dta b(%10000010)
  1290 4979 00						dta b(0)
  1291 497A 44						dta b(%01000100)
  1292 497B 28 28 28					:3 dta b(%00101000)
  1293 497E 00						dta b(0)
  1294 497F 10						dta b(%00010000)
  1295 4980 00						dta b(0)
  1296 							
  1297 							;4
  1298 4981 10 10					:2 dta b(%00010000)
  1299 4983 38 38					:2 dta b(%00111000)
  1300 4985 28						dta b(%00101000)
  1301 4986 6C						dta b(%01101100)
  1302 4987 44						dta b(%01000100)
  1303 4988 C6						dta b(%11000110)
  1304 4989 44						dta b(%01000100)
  1305 498A 6C						dta b(%01101100)
  1306 498B 28						dta b(%00101000)
  1307 498C 38 38					:2 dta b(%00111000)
  1308 498E 10 10					:2 dta b(%00010000)
  1309 4990 00						dta b(0)
  1310 							
  1311 							;3
  1312 4991 10 10					:2 dta b(%00010000)
  1313 4993 00						dta b(0)
  1314 4994 28 28					:2 dta b(%00101000)
  1315 4996 44						dta b(%01000100)
  1316 4997 28						dta b(%00101000)
  1317 4998 82						dta b(%10000010)
  1318 4999 28						dta b(%00101000)
  1319 499A 44						dta b(%01000100)
  1320 499B 28 28					:2 dta b(%00101000)
  1321 499D 00						dta b(0)
  1322 499E 10 10					:2 dta b(%00010000)
  1323 49A0 00						dta b(0)
  1324 							
  1325 							;2
  1326 49A1 00						dta b(0)
  1327 49A2 10 10					:2 dta b(%00010000)
  1328 49A4 00						dta b(0)
  1329 49A5 28 28					:2 dta b(%00101000)
  1330 49A7 44						dta b(%01000100)
  1331 49A8 92						dta b(%10010010)
  1332 49A9 44						dta b(%01000100)
  1333 49AA 28 28					:2 dta b(%00101000)
  1334 49AC 00						dta b(0)
  1335 49AD 10 10					:2 dta b(%00010000)
  1336 49AF 00 00					:2 dta b(0)
  1337 							
  1338 							;1
  1339 49B1 00 00 00					:3 dta b(0)
  1340 49B4 10						dta b(%00010000)
  1341 49B5 28 28					:2 dta b(%00101000)
  1342 49B7 44						dta b(%01000100)
  1343 49B8 00						dta b(0)
  1344 49B9 44						dta b(%01000100)
  1345 49BA 28 28					:2 dta b(%00101000)
  1346 49BC 10						dta b(%00010000)
  1347 49BD 00 00 00 00					:4 dta b(0)
  1348 							
  1349 							;0
  1350 49C1 00 00 00 00					:4 dta b(0)
  1351 49C5 10						dta b(%00010000)
  1352 49C6 00						dta b(0)
  1353 49C7 28						dta b(%00101000)
  1354 49C8 44						dta b(%01000100)
  1355 49C9 28						dta b(%00101000)
  1356 49CA 00						dta b(0)
  1357 49CB 10						dta b(%00010000)
  1358 49CC 00 00 00 00 00				:5 dta b(0) 
  1359
  1360 49D1 00			opoz_potrafieniu dta b(0)
  1361 							
  1362 = 49D2			printShip	equ * ;przemieszczaj statek		
  1363 49D2 A5 24				lda startMapy
  1364 49D4 F0 01				beq *+3
  1365 49D6 60					rts
  1366 						
  1367 49D7 A5 23				lda trafienie
  1368 49D9 F0 03 4C AA 4A			jne @+
  1369 49DE 20 09 4C				jsr prsp1
  1370 49E1 AD FC 63				lda nobanner
  1371 49E4 C9 02				cmp #2
  1372 49E6 F0 01				beq *+3
  1373 49E8 60					rts
  1374 						.rept 16, #			;przepisz statek do sprites1 podczas wyswietlania panelu
  1375 							LDA SPRITES+$400+118+:1
  1376 							STA SPRITES1+$400+118+:1
  1377 							LDA SPRITES+$500+118+:1
  1378 							STA SPRITES1+$500+118+:1
  1379 						.ENDR
  1379 						.endr
Source: REPT
  1375 49E9 AD 76 1C					LDA SPRITES+$400+118+0
  1375 49EC 8D 76 FC					STA SPRITES1+$400+118+0
  1375 49EF AD 76 1D					LDA SPRITES+$500+118+0
  1375 49F2 8D 76 FD					STA SPRITES1+$500+118+0
  1375 49F5 AD 77 1C					LDA SPRITES+$400+118+1
  1375 49F8 8D 77 FC					STA SPRITES1+$400+118+1
  1375 49FB AD 77 1D					LDA SPRITES+$500+118+1
  1375 49FE 8D 77 FD					STA SPRITES1+$500+118+1
  1375 4A01 AD 78 1C					LDA SPRITES+$400+118+2
  1375 4A04 8D 78 FC					STA SPRITES1+$400+118+2
  1375 4A07 AD 78 1D					LDA SPRITES+$500+118+2
  1375 4A0A 8D 78 FD					STA SPRITES1+$500+118+2
  1375 4A0D AD 79 1C					LDA SPRITES+$400+118+3
  1375 4A10 8D 79 FC					STA SPRITES1+$400+118+3
  1375 4A13 AD 79 1D					LDA SPRITES+$500+118+3
  1375 4A16 8D 79 FD					STA SPRITES1+$500+118+3
  1375 4A19 AD 7A 1C					LDA SPRITES+$400+118+4
  1375 4A1C 8D 7A FC					STA SPRITES1+$400+118+4
  1375 4A1F AD 7A 1D					LDA SPRITES+$500+118+4
  1375 4A22 8D 7A FD					STA SPRITES1+$500+118+4
  1375 4A25 AD 7B 1C					LDA SPRITES+$400+118+5
  1375 4A28 8D 7B FC					STA SPRITES1+$400+118+5
  1375 4A2B AD 7B 1D					LDA SPRITES+$500+118+5
  1375 4A2E 8D 7B FD					STA SPRITES1+$500+118+5
  1375 4A31 AD 7C 1C					LDA SPRITES+$400+118+6
  1375 4A34 8D 7C FC					STA SPRITES1+$400+118+6
  1375 4A37 AD 7C 1D					LDA SPRITES+$500+118+6
  1375 4A3A 8D 7C FD					STA SPRITES1+$500+118+6
  1375 4A3D AD 7D 1C					LDA SPRITES+$400+118+7
  1375 4A40 8D 7D FC					STA SPRITES1+$400+118+7
  1375 4A43 AD 7D 1D					LDA SPRITES+$500+118+7
  1375 4A46 8D 7D FD					STA SPRITES1+$500+118+7
  1375 4A49 AD 7E 1C					LDA SPRITES+$400+118+8
  1375 4A4C 8D 7E FC					STA SPRITES1+$400+118+8
  1375 4A4F AD 7E 1D					LDA SPRITES+$500+118+8
  1375 4A52 8D 7E FD					STA SPRITES1+$500+118+8
  1375 4A55 AD 7F 1C					LDA SPRITES+$400+118+9
  1375 4A58 8D 7F FC					STA SPRITES1+$400+118+9
  1375 4A5B AD 7F 1D					LDA SPRITES+$500+118+9
  1375 4A5E 8D 7F FD					STA SPRITES1+$500+118+9
  1375 4A61 AD 80 1C					LDA SPRITES+$400+118+10
  1375 4A64 8D 80 FC					STA SPRITES1+$400+118+10
  1375 4A67 AD 80 1D					LDA SPRITES+$500+118+10
  1375 4A6A 8D 80 FD					STA SPRITES1+$500+118+10
  1375 4A6D AD 81 1C					LDA SPRITES+$400+118+11
  1375 4A70 8D 81 FC					STA SPRITES1+$400+118+11
  1375 4A73 AD 81 1D					LDA SPRITES+$500+118+11
  1375 4A76 8D 81 FD					STA SPRITES1+$500+118+11
  1375 4A79 AD 82 1C					LDA SPRITES+$400+118+12
  1375 4A7C 8D 82 FC					STA SPRITES1+$400+118+12
  1375 4A7F AD 82 1D					LDA SPRITES+$500+118+12
  1375 4A82 8D 82 FD					STA SPRITES1+$500+118+12
  1375 4A85 AD 83 1C					LDA SPRITES+$400+118+13
  1375 4A88 8D 83 FC					STA SPRITES1+$400+118+13
  1375 4A8B AD 83 1D					LDA SPRITES+$500+118+13
  1375 4A8E 8D 83 FD					STA SPRITES1+$500+118+13
  1375 4A91 AD 84 1C					LDA SPRITES+$400+118+14
  1375 4A94 8D 84 FC					STA SPRITES1+$400+118+14
  1375 4A97 AD 84 1D					LDA SPRITES+$500+118+14
  1375 4A9A 8D 84 FD					STA SPRITES1+$500+118+14
  1375 4A9D AD 85 1C					LDA SPRITES+$400+118+15
  1375 4AA0 8D 85 FC					STA SPRITES1+$400+118+15
  1375 4AA3 AD 85 1D					LDA SPRITES+$500+118+15
  1375 4AA6 8D 85 FD					STA SPRITES1+$500+118+15
Source: bmove.asm
  1380 4AA9 60					rts
  1381 							
  1382 4AAA AD FC 63		@		lda nobanner
  1383 4AAD C9 02				cmp #2
  1384 4AAF 90 0A				bcc @+
  1385 						
  1386 4AB1 A9 00				lda #0		;wylacz przerwanie i sampla
  1387 4AB3 8D 0E D2				sta IRQEN
  1388 4AB6 85 1E				sta sirq
  1389 4AB8 8D 06 D2				sta AUDF4 
  1390
  1391 4ABB AD 00 12		@		lda fazaWybuch
  1392 4ABE 30 63				bmi @+3
  1393 4AC0 C9 3E				cmp #62
  1394 4AC2 D0 3B				bne @+1
  1395
  1396 4AC4 20 3D 59				jsr exploAllEnemy
  1397 4AC7 A9 00 8D 3B 24			mva #0 licznikStrzal
  1398 4ACC AD DF 22				lda conditionColor		;jeśli 0 to jest red condition , trzeba narysować
  1399 4ACF D0 09				bne prs_1
  1400 4AD1 AD 8D 8A				lda conditionC+2
  1401 4AD4 8D DF 22				sta conditionColor
  1402 4AD7 8D E7 22				sta conditionColor1
  1403 4ADA A9 0F 8D D1 49	prs_1	mva #15 opoz_potrafieniu
  1404 4ADF AD 3A 24				lda sfxlicznik1
  1405 4AE2 C9 28				cmp #40
  1406 4AE4 B0 05				bcs @+			;jeśli wybuch to nie wyciszaj
  1407 						
  1408 4AE6 A9 80				lda #128
  1409 4AE8 20 DA 27				jsr cisza
  1410 						
  1411 4AEB A9 00 8D 7D 22	@		mva #0 formacja_stan
  1412 4AF0 8D 25 24				sta formacja_radar
  1413 4AF3 20 B5 99				jsr piszCondition
  1414 4AF6 AC 8E 8A				ldy kondycja_stan		;poprzednia kondycja
  1415 4AF9 20 8A 96				jsr setCondition
  1416 						
  1417
  1418 4AFC AD 00 12				lda fazaWybuch		
  1419 4AFF 0A			@		asl
  1420 4B00 29 F0				and #%11110000		;rysuje nastepna faze wybuchu statku	
  1421 4B02 A8					tay
  1422 4B03 A2 00				ldx #0
  1423 4B05 8E 3B 24				stx licznikStrzal		;nie wlaczaj dzwięku silnika
  1424 4B08 B9 D1 48		@		lda wybuch0,y
  1425 4B0B 9D 76 1C				sta sprites+$400+118,x
  1426 4B0E B9 51 49				lda wybuch1,y
  1427 4B11 9D 76 1D				sta sprites+$500+118,x
  1428 4B14 C8					iny
  1429 4B15 E8					inx
  1430 4B16 E0 10				cpx #16
  1431 4B18 D0 EE				bne @-
  1432 						;sec	c=1
  1433 4B1A AD 00 12				lda fazaWybuch
  1434 4B1D E9 03				sbc #3
  1435 4B1F 8D 00 12				sta fazaWybuch
  1436 4B22 60					rts
  1437 						
  1438 = 4B23			@		equ *		;koniec gry
  1439 4B23 CE D1 49				dec opoz_potrafieniu
  1440 4B26 F0 01				beq @+
  1441 4B28 60					rts
  1442 						
  1443 						
  1444 4B29 CE 80 8A		@		dec lives
  1445 4B2C 10 65				bpl @+
  1446 4B2E A9 00				lda #0
  1447 						.rept 16,#					;wymaz statek z ekranu podczas napisu game over
  1448 							STA SPRITES1+$400+118+:1
  1449 							STA SPRITES1+$500+118+:1
  1450 						.ENDR
  1450 						.endr
Source: REPT
  1448 4B30 8D 76 FC					STA SPRITES1+$400+118+0
  1448 4B33 8D 76 FD					STA SPRITES1+$500+118+0
  1448 4B36 8D 77 FC					STA SPRITES1+$400+118+1
  1448 4B39 8D 77 FD					STA SPRITES1+$500+118+1
  1448 4B3C 8D 78 FC					STA SPRITES1+$400+118+2
  1448 4B3F 8D 78 FD					STA SPRITES1+$500+118+2
  1448 4B42 8D 79 FC					STA SPRITES1+$400+118+3
  1448 4B45 8D 79 FD					STA SPRITES1+$500+118+3
  1448 4B48 8D 7A FC					STA SPRITES1+$400+118+4
  1448 4B4B 8D 7A FD					STA SPRITES1+$500+118+4
  1448 4B4E 8D 7B FC					STA SPRITES1+$400+118+5
  1448 4B51 8D 7B FD					STA SPRITES1+$500+118+5
  1448 4B54 8D 7C FC					STA SPRITES1+$400+118+6
  1448 4B57 8D 7C FD					STA SPRITES1+$500+118+6
  1448 4B5A 8D 7D FC					STA SPRITES1+$400+118+7
  1448 4B5D 8D 7D FD					STA SPRITES1+$500+118+7
  1448 4B60 8D 7E FC					STA SPRITES1+$400+118+8
  1448 4B63 8D 7E FD					STA SPRITES1+$500+118+8
  1448 4B66 8D 7F FC					STA SPRITES1+$400+118+9
  1448 4B69 8D 7F FD					STA SPRITES1+$500+118+9
  1448 4B6C 8D 80 FC					STA SPRITES1+$400+118+10
  1448 4B6F 8D 80 FD					STA SPRITES1+$500+118+10
  1448 4B72 8D 81 FC					STA SPRITES1+$400+118+11
  1448 4B75 8D 81 FD					STA SPRITES1+$500+118+11
  1448 4B78 8D 82 FC					STA SPRITES1+$400+118+12
  1448 4B7B 8D 82 FD					STA SPRITES1+$500+118+12
  1448 4B7E 8D 83 FC					STA SPRITES1+$400+118+13
  1448 4B81 8D 83 FD					STA SPRITES1+$500+118+13
  1448 4B84 8D 84 FC					STA SPRITES1+$400+118+14
  1448 4B87 8D 84 FD					STA SPRITES1+$500+118+14
  1448 4B8A 8D 85 FC					STA SPRITES1+$400+118+15
  1448 4B8D 8D 85 FD					STA SPRITES1+$500+118+15
Source: bmove.asm
  1451 						
  1452 4B90 4C A9 26				jmp game_over
  1453 						
  1454 4B93 20 A8 97		@		jsr printlives
  1455 4B96 AD 70 8A				lda zbiteBazy		;czy zbito juz wszystkie bazy
  1456 4B99 C5 2A				cmp bazyIle
  1457 4B9B D0 34				bne @+
  1458 4B9D EE 75 8A				inc poziom			;to nastepny poziom
  1459 						
  1460 4BA0 AD 75 8A				lda poziom		;jeśli poziom = 161 to ustaw 129 , zapetlamy
  1461 4BA3 C9 A1				cmp #161
  1462 4BA5 90 05				bcc skpoz1
  1463 4BA7 A9 81				lda #129
  1464 4BA9 8D 75 8A				sta poziom
  1465 = 4BAC			skpoz1	equ *
  1466 						
  1467 4BAC 20 47 92				jsr wczytajLevel		;ztaranowana ostatnia baza
  1468 4BAF A9 02 85 82				mva #2 muzyka
  1469 4BB3 A9 3C 85 24				mva #60 startMapy
  1470 4BB7 A9 36 8D 3B 24			mva #54 licznikStrzal	;opoznienie dzwieku silnika
  1471 4BBC 20 D1 95				jsr pokazBazyRadar
  1472 4BBF 20 21 28				jsr waitvbl
  1473 4BC2 A5 1A 8D 05 D4			mva movy vscrol
  1474 4BC7 A5 19 8D 04 D4			mva movx hscrol
  1475 						
  1476 4BCC A9 00 85 3F				mva #0 zegar
  1477 4BD0 60					rts
  1478 						
  1479 4BD1 AD 3A 24		@		lda sfxlicznik1
  1480 4BD4 C9 14				cmp #20
  1481 4BD6 B0 05				bcs @+			;jeśli wybuch to nie wyciszaj
  1482 						
  1483 4BD8 A9 80				lda #128
  1484 4BDA 20 DA 27				jsr cisza
  1485 						
  1486
  1487 = 4BDD			@		equ *
  1488 4BDD A9 00 8D 7D 22			mva #0 formacja_stan
  1489 4BE2 AD 73 8A				lda startX		
  1490 4BE5 85 17				sta posX
  1491 4BE7 AD 74 8A				lda startY
  1492 4BEA 85 18				sta posY
  1493 						
  1494 4BEC A4 2A				ldy bazyIle			;wyczysc rakiety w bazach
  1495 4BEE A9 FF				lda #255
  1496 4BF0 99 1F 8A		@		sta bazyRakieta-1,y
  1497 4BF3 88					dey
  1498 4BF4 D0 FA				bne @-
  1499 						
  1500 4BF6 4C 0C 90				jmp initPoziom
  1501 					
  1502 						
  1503 4BF9 00 01 02 00 04 05 + tabjoy	dta b(0,1,2,0,4,5,6,0,8,9,10,0,0,0,0,0)
  1504 						
  1505 4C09 AD 00 D3		prsp1	lda JOY
  1506 4C0C 29 0F				and #%1111
  1507 4C0E 49 0F				eor #%1111
  1508 4C10 AA					tax
  1509 4C11 BD F9 4B				lda tabjoy,x
  1510 4C14 F0 20				beq mryganieStatek
  1511 4C16 A8			@		tay
  1512 4C17 C5 D6				cmp sJoy
  1513 4C19 F0 1B				beq mryganieStatek
  1514 4C1B 85 D6		@		sta sJoy
  1515 4C1D AD 3B 24				lda licznikStrzal
  1516 4C20 D0 03				bne printShip1
  1517 4C22 EE 3B 24				inc licznikStrzal	;zmaina kierunku= dzwiek silnikow od poczatku
  1518 = 4C25			printShip1	equ *
  1519 4C25 B9 C6 48				lda joyTableH,y
  1520 4C28 F0 10				beq rrts
  1521 4C2A 8D 35 4C				sta sJoykok+2
  1522 4C2D B9 BB 48				lda joyTableL,y
  1523 4C30 8D 34 4C				sta sJoykok+1
  1524 4C33 4C FF FF		sJoykok	jmp $ffff
  1525 						
  1526 = 4C36			mryganieStatek	equ *
  1527 4C36 A4 D6				ldy sJoy
  1528 4C38 D0 01				bne @+
  1529 4C3A 60			rrts	rts
  1530 4C3B B9 57 4C		@		lda statekTab+11,y
  1531 4C3E F0 FA				beq rrts
  1532 4C40 8D 4B 4C				sta statek_skok+2
  1533 4C43 B9 4C 4C				lda statekTab,y
  1534 4C46 8D 4A 4C				sta statek_skok+1
  1535 = 4C49			statek_skok	equ *
  1536 4C49 4C FF FF				jmp $ffff
  1537 					
  1538 4C4C 00 62 73 00 84 C6	statekTab	dta b(0),b(<mstatekUp),b(<mstatekDown),b(0),b(<mstatekLeft),b(<mstatekUpLeft)	;1,2,4,5
  1539 4C52 29 00 A5 E7 08				dta b(<mstatekDownLeft),b(0),b(<mstatekRight),b(<mstatekUpRight),b(<mstatekDownRight) ;6,8,9,10
  1540 4C57 00 4C 4C 00 4C 4C				dta b(0),b(>mstatekUp),b(>mstatekDown),b(0),b(>mstatekLeft),b(>mstatekUpLeft)	;1,2,4,5
  1541 4C5D 4D 00 4C 4C 4D				dta b(>mstatekDownLeft),b(0),b(>mstatekRight),b(>mstatekUpRight),b(>mstatekDownRight) ;6,8,9,10
  1542 							
  1543 = 4C62			mstatekUp	equ *
  1544 4C62 AD 85 1D				lda sprites+$500+118+15
  1545 4C65 49 82				eor #%10000010
  1546 4C67 8D 85 1D				sta sprites+$500+118+15
  1547 4C6A AD 84 1D				lda sprites+$500+118+14
  1548 4C6D 49 82				eor #%10000010
  1549 4C6F 8D 84 1D				sta sprites+$500+118+14
  1550 4C72 60					rts
  1551 						
  1552 = 4C73			mstatekDown	equ *
  1553 4C73 AD 77 1D				lda sprites+$500+118+1
  1554 4C76 49 82				eor #%10000010
  1555 4C78 8D 77 1D				sta sprites+$500+118+1
  1556 4C7B AD 76 1D				lda sprites+$500+118+0
  1557 4C7E 49 82				eor #%10000010
  1558 4C80 8D 76 1D				sta sprites+$500+118+0
  1559 4C83 60					rts
  1560 						
  1561 = 4C84			mstatekLeft	equ *
  1562 4C84 AD 77 1D				lda sprites+$500+118+1
  1563 4C87 49 02				eor #%00000010
  1564 4C89 8D 77 1D				sta sprites+$500+118+1
  1565 4C8C AD 78 1D				lda sprites+$500+118+2
  1566 4C8F 49 02				eor #%00000010
  1567 4C91 8D 78 1D				sta sprites+$500+118+2
  1568 4C94 AD 83 1D				lda sprites+$500+118+13
  1569 4C97 49 02				eor #%00000010
  1570 4C99 8D 83 1D				sta sprites+$500+118+13
  1571 4C9C AD 84 1D				lda sprites+$500+118+14
  1572 4C9F 49 02				eor #%00000010
  1573 4CA1 8D 84 1D				sta sprites+$500+118+14
  1574 4CA4 60					rts		
  1575
  1576 = 4CA5			mstatekRight	equ *
  1577 4CA5 AD 77 1D				lda sprites+$500+118+1
  1578 4CA8 49 40				eor #%01000000
  1579 4CAA 8D 77 1D				sta sprites+$500+118+1
  1580 4CAD AD 78 1D				lda sprites+$500+118+2
  1581 4CB0 49 40				eor #%01000000
  1582 4CB2 8D 78 1D				sta sprites+$500+118+2
  1583 4CB5 AD 83 1D				lda sprites+$500+118+13
  1584 4CB8 49 40				eor #%01000000
  1585 4CBA 8D 83 1D				sta sprites+$500+118+13
  1586 4CBD AD 84 1D				lda sprites+$500+118+14
  1587 4CC0 49 40				eor #%01000000
  1588 4CC2 8D 84 1D				sta sprites+$500+118+14
  1589 4CC5 60					rts	
  1590 						
  1591 = 4CC6			mstatekUpLeft	equ *
  1592 4CC6 AD 7B 1D				lda sprites+$500+118+5
  1593 4CC9 49 01				eor #%00000001
  1594 4CCB 8D 7B 1D				sta sprites+$500+118+5
  1595 4CCE AD 7C 1D				lda sprites+$500+118+6
  1596 4CD1 49 01				eor #%00000001
  1597 4CD3 8D 7C 1D				sta sprites+$500+118+6
  1598 4CD6 AD 84 1D				lda sprites+$500+118+14
  1599 4CD9 49 20				eor #%00100000
  1600 4CDB 8D 84 1D				sta sprites+$500+118+14
  1601 4CDE AD 85 1D				lda sprites+$500+118+15
  1602 4CE1 49 20				eor #%00100000
  1603 4CE3 8D 85 1D				sta sprites+$500+118+15
  1604 4CE6 60					rts
  1605
  1606 = 4CE7			mstatekUpRight	equ *
  1607 4CE7 AD 7B 1D				lda sprites+$500+118+5
  1608 4CEA 49 80				eor #%10000000
  1609 4CEC 8D 7B 1D				sta sprites+$500+118+5
  1610 4CEF AD 7C 1D				lda sprites+$500+118+6
  1611 4CF2 49 80				eor #%10000000
  1612 4CF4 8D 7C 1D				sta sprites+$500+118+6
  1613 4CF7 AD 84 1D				lda sprites+$500+118+14
  1614 4CFA 49 04				eor #%00000100
  1615 4CFC 8D 84 1D				sta sprites+$500+118+14
  1616 4CFF AD 85 1D				lda sprites+$500+118+15
  1617 4D02 49 04				eor #%00000100
  1618 4D04 8D 85 1D				sta sprites+$500+118+15
  1619 4D07 60					rts
  1620
  1621 = 4D08			mstatekDownRight	equ *
  1622 4D08 AD 76 1D				lda sprites+$500+118+0
  1623 4D0B 49 04				eor #%00000100
  1624 4D0D 8D 76 1D				sta sprites+$500+118+0
  1625 4D10 AD 77 1D				lda sprites+$500+118+1
  1626 4D13 49 04				eor #%00000100
  1627 4D15 8D 77 1D				sta sprites+$500+118+1
  1628 4D18 AD 7F 1D				lda sprites+$500+118+9
  1629 4D1B 49 80				eor #%10000000
  1630 4D1D 8D 7F 1D				sta sprites+$500+118+9
  1631 4D20 AD 80 1D				lda sprites+$500+118+10
  1632 4D23 49 80				eor #%10000000
  1633 4D25 8D 80 1D				sta sprites+$500+118+10
  1634 4D28 60					rts		
  1635
  1636 = 4D29			mstatekDownLeft	equ *
  1637 4D29 AD 76 1D				lda sprites+$500+118+0
  1638 4D2C 49 20				eor #%00100000
  1639 4D2E 8D 76 1D				sta sprites+$500+118+0
  1640 4D31 AD 77 1D				lda sprites+$500+118+1
  1641 4D34 49 20				eor #%00100000
  1642 4D36 8D 77 1D				sta sprites+$500+118+1
  1643 4D39 AD 7F 1D				lda sprites+$500+118+9
  1644 4D3C 49 01				eor #%00000001
  1645 4D3E 8D 7F 1D				sta sprites+$500+118+9
  1646 4D41 AD 80 1D				lda sprites+$500+118+10
  1647 4D44 49 01				eor #%00000001
  1648 4D46 8D 80 1D				sta sprites+$500+118+10
  1649 4D49 60					rts
  1650
  1651 = 4D4A			rstatekUp	equ *	;0001,1
  1652 						.rept 16, #
  1653 						LDA STATEK+:1
  1654 						STA SPRITES+$400+118+:1
  1655 						LDA STATEK+16+:1
  1656 						STA SPRITES+$500+118+:1
  1657 						.ENDR
  1657 						.endr
Source: REPT
  1653 4D4A AD 8F 59				LDA STATEK+0
  1653 4D4D 8D 76 1C				STA SPRITES+$400+118+0
  1653 4D50 AD 9F 59				LDA STATEK+16+0
  1653 4D53 8D 76 1D				STA SPRITES+$500+118+0
  1653 4D56 AD 90 59				LDA STATEK+1
  1653 4D59 8D 77 1C				STA SPRITES+$400+118+1
  1653 4D5C AD A0 59				LDA STATEK+16+1
  1653 4D5F 8D 77 1D				STA SPRITES+$500+118+1
  1653 4D62 AD 91 59				LDA STATEK+2
  1653 4D65 8D 78 1C				STA SPRITES+$400+118+2
  1653 4D68 AD A1 59				LDA STATEK+16+2
  1653 4D6B 8D 78 1D				STA SPRITES+$500+118+2
  1653 4D6E AD 92 59				LDA STATEK+3
  1653 4D71 8D 79 1C				STA SPRITES+$400+118+3
  1653 4D74 AD A2 59				LDA STATEK+16+3
  1653 4D77 8D 79 1D				STA SPRITES+$500+118+3
  1653 4D7A AD 93 59				LDA STATEK+4
  1653 4D7D 8D 7A 1C				STA SPRITES+$400+118+4
  1653 4D80 AD A3 59				LDA STATEK+16+4
  1653 4D83 8D 7A 1D				STA SPRITES+$500+118+4
  1653 4D86 AD 94 59				LDA STATEK+5
  1653 4D89 8D 7B 1C				STA SPRITES+$400+118+5
  1653 4D8C AD A4 59				LDA STATEK+16+5
  1653 4D8F 8D 7B 1D				STA SPRITES+$500+118+5
  1653 4D92 AD 95 59				LDA STATEK+6
  1653 4D95 8D 7C 1C				STA SPRITES+$400+118+6
  1653 4D98 AD A5 59				LDA STATEK+16+6
  1653 4D9B 8D 7C 1D				STA SPRITES+$500+118+6
  1653 4D9E AD 96 59				LDA STATEK+7
  1653 4DA1 8D 7D 1C				STA SPRITES+$400+118+7
  1653 4DA4 AD A6 59				LDA STATEK+16+7
  1653 4DA7 8D 7D 1D				STA SPRITES+$500+118+7
  1653 4DAA AD 97 59				LDA STATEK+8
  1653 4DAD 8D 7E 1C				STA SPRITES+$400+118+8
  1653 4DB0 AD A7 59				LDA STATEK+16+8
  1653 4DB3 8D 7E 1D				STA SPRITES+$500+118+8
  1653 4DB6 AD 98 59				LDA STATEK+9
  1653 4DB9 8D 7F 1C				STA SPRITES+$400+118+9
  1653 4DBC AD A8 59				LDA STATEK+16+9
  1653 4DBF 8D 7F 1D				STA SPRITES+$500+118+9
  1653 4DC2 AD 99 59				LDA STATEK+10
  1653 4DC5 8D 80 1C				STA SPRITES+$400+118+10
  1653 4DC8 AD A9 59				LDA STATEK+16+10
  1653 4DCB 8D 80 1D				STA SPRITES+$500+118+10
  1653 4DCE AD 9A 59				LDA STATEK+11
  1653 4DD1 8D 81 1C				STA SPRITES+$400+118+11
  1653 4DD4 AD AA 59				LDA STATEK+16+11
  1653 4DD7 8D 81 1D				STA SPRITES+$500+118+11
  1653 4DDA AD 9B 59				LDA STATEK+12
  1653 4DDD 8D 82 1C				STA SPRITES+$400+118+12
  1653 4DE0 AD AB 59				LDA STATEK+16+12
  1653 4DE3 8D 82 1D				STA SPRITES+$500+118+12
  1653 4DE6 AD 9C 59				LDA STATEK+13
  1653 4DE9 8D 83 1C				STA SPRITES+$400+118+13
  1653 4DEC AD AC 59				LDA STATEK+16+13
  1653 4DEF 8D 83 1D				STA SPRITES+$500+118+13
  1653 4DF2 AD 9D 59				LDA STATEK+14
  1653 4DF5 8D 84 1C				STA SPRITES+$400+118+14
  1653 4DF8 AD AD 59				LDA STATEK+16+14
  1653 4DFB 8D 84 1D				STA SPRITES+$500+118+14
  1653 4DFE AD 9E 59				LDA STATEK+15
  1653 4E01 8D 85 1C				STA SPRITES+$400+118+15
  1653 4E04 AD AE 59				LDA STATEK+16+15
  1653 4E07 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1658 4E0A 60					rts
  1659 						
  1660 = 4E0B			rstatekDown	equ *	;0010,2
  1661 						.rept 16, #
  1662 						LDA STATEK+32+:1
  1663 						STA SPRITES+$400+118+:1
  1664 						LDA STATEK+16+32+:1
  1665 						STA SPRITES+$500+118+:1
  1666 						.ENDR
  1666 						.endr
Source: REPT
  1662 4E0B AD AF 59				LDA STATEK+32+0
  1662 4E0E 8D 76 1C				STA SPRITES+$400+118+0
  1662 4E11 AD BF 59				LDA STATEK+16+32+0
  1662 4E14 8D 76 1D				STA SPRITES+$500+118+0
  1662 4E17 AD B0 59				LDA STATEK+32+1
  1662 4E1A 8D 77 1C				STA SPRITES+$400+118+1
  1662 4E1D AD C0 59				LDA STATEK+16+32+1
  1662 4E20 8D 77 1D				STA SPRITES+$500+118+1
  1662 4E23 AD B1 59				LDA STATEK+32+2
  1662 4E26 8D 78 1C				STA SPRITES+$400+118+2
  1662 4E29 AD C1 59				LDA STATEK+16+32+2
  1662 4E2C 8D 78 1D				STA SPRITES+$500+118+2
  1662 4E2F AD B2 59				LDA STATEK+32+3
  1662 4E32 8D 79 1C				STA SPRITES+$400+118+3
  1662 4E35 AD C2 59				LDA STATEK+16+32+3
  1662 4E38 8D 79 1D				STA SPRITES+$500+118+3
  1662 4E3B AD B3 59				LDA STATEK+32+4
  1662 4E3E 8D 7A 1C				STA SPRITES+$400+118+4
  1662 4E41 AD C3 59				LDA STATEK+16+32+4
  1662 4E44 8D 7A 1D				STA SPRITES+$500+118+4
  1662 4E47 AD B4 59				LDA STATEK+32+5
  1662 4E4A 8D 7B 1C				STA SPRITES+$400+118+5
  1662 4E4D AD C4 59				LDA STATEK+16+32+5
  1662 4E50 8D 7B 1D				STA SPRITES+$500+118+5
  1662 4E53 AD B5 59				LDA STATEK+32+6
  1662 4E56 8D 7C 1C				STA SPRITES+$400+118+6
  1662 4E59 AD C5 59				LDA STATEK+16+32+6
  1662 4E5C 8D 7C 1D				STA SPRITES+$500+118+6
  1662 4E5F AD B6 59				LDA STATEK+32+7
  1662 4E62 8D 7D 1C				STA SPRITES+$400+118+7
  1662 4E65 AD C6 59				LDA STATEK+16+32+7
  1662 4E68 8D 7D 1D				STA SPRITES+$500+118+7
  1662 4E6B AD B7 59				LDA STATEK+32+8
  1662 4E6E 8D 7E 1C				STA SPRITES+$400+118+8
  1662 4E71 AD C7 59				LDA STATEK+16+32+8
  1662 4E74 8D 7E 1D				STA SPRITES+$500+118+8
  1662 4E77 AD B8 59				LDA STATEK+32+9
  1662 4E7A 8D 7F 1C				STA SPRITES+$400+118+9
  1662 4E7D AD C8 59				LDA STATEK+16+32+9
  1662 4E80 8D 7F 1D				STA SPRITES+$500+118+9
  1662 4E83 AD B9 59				LDA STATEK+32+10
  1662 4E86 8D 80 1C				STA SPRITES+$400+118+10
  1662 4E89 AD C9 59				LDA STATEK+16+32+10
  1662 4E8C 8D 80 1D				STA SPRITES+$500+118+10
  1662 4E8F AD BA 59				LDA STATEK+32+11
  1662 4E92 8D 81 1C				STA SPRITES+$400+118+11
  1662 4E95 AD CA 59				LDA STATEK+16+32+11
  1662 4E98 8D 81 1D				STA SPRITES+$500+118+11
  1662 4E9B AD BB 59				LDA STATEK+32+12
  1662 4E9E 8D 82 1C				STA SPRITES+$400+118+12
  1662 4EA1 AD CB 59				LDA STATEK+16+32+12
  1662 4EA4 8D 82 1D				STA SPRITES+$500+118+12
  1662 4EA7 AD BC 59				LDA STATEK+32+13
  1662 4EAA 8D 83 1C				STA SPRITES+$400+118+13
  1662 4EAD AD CC 59				LDA STATEK+16+32+13
  1662 4EB0 8D 83 1D				STA SPRITES+$500+118+13
  1662 4EB3 AD BD 59				LDA STATEK+32+14
  1662 4EB6 8D 84 1C				STA SPRITES+$400+118+14
  1662 4EB9 AD CD 59				LDA STATEK+16+32+14
  1662 4EBC 8D 84 1D				STA SPRITES+$500+118+14
  1662 4EBF AD BE 59				LDA STATEK+32+15
  1662 4EC2 8D 85 1C				STA SPRITES+$400+118+15
  1662 4EC5 AD CE 59				LDA STATEK+16+32+15
  1662 4EC8 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1667 4ECB 60					rts		
  1668 						
  1669 = 4ECC			rstatekLeft	equ *	;0100,4
  1670 						.rept 16, #
  1671 						LDA STATEK+64+:1
  1672 						STA SPRITES+$400+118+:1
  1673 						LDA STATEK+16+64+:1
  1674 						STA SPRITES+$500+118+:1
  1675 						.ENDR
  1675 						.endr
Source: REPT
  1671 4ECC AD CF 59				LDA STATEK+64+0
  1671 4ECF 8D 76 1C				STA SPRITES+$400+118+0
  1671 4ED2 AD DF 59				LDA STATEK+16+64+0
  1671 4ED5 8D 76 1D				STA SPRITES+$500+118+0
  1671 4ED8 AD D0 59				LDA STATEK+64+1
  1671 4EDB 8D 77 1C				STA SPRITES+$400+118+1
  1671 4EDE AD E0 59				LDA STATEK+16+64+1
  1671 4EE1 8D 77 1D				STA SPRITES+$500+118+1
  1671 4EE4 AD D1 59				LDA STATEK+64+2
  1671 4EE7 8D 78 1C				STA SPRITES+$400+118+2
  1671 4EEA AD E1 59				LDA STATEK+16+64+2
  1671 4EED 8D 78 1D				STA SPRITES+$500+118+2
  1671 4EF0 AD D2 59				LDA STATEK+64+3
  1671 4EF3 8D 79 1C				STA SPRITES+$400+118+3
  1671 4EF6 AD E2 59				LDA STATEK+16+64+3
  1671 4EF9 8D 79 1D				STA SPRITES+$500+118+3
  1671 4EFC AD D3 59				LDA STATEK+64+4
  1671 4EFF 8D 7A 1C				STA SPRITES+$400+118+4
  1671 4F02 AD E3 59				LDA STATEK+16+64+4
  1671 4F05 8D 7A 1D				STA SPRITES+$500+118+4
  1671 4F08 AD D4 59				LDA STATEK+64+5
  1671 4F0B 8D 7B 1C				STA SPRITES+$400+118+5
  1671 4F0E AD E4 59				LDA STATEK+16+64+5
  1671 4F11 8D 7B 1D				STA SPRITES+$500+118+5
  1671 4F14 AD D5 59				LDA STATEK+64+6
  1671 4F17 8D 7C 1C				STA SPRITES+$400+118+6
  1671 4F1A AD E5 59				LDA STATEK+16+64+6
  1671 4F1D 8D 7C 1D				STA SPRITES+$500+118+6
  1671 4F20 AD D6 59				LDA STATEK+64+7
  1671 4F23 8D 7D 1C				STA SPRITES+$400+118+7
  1671 4F26 AD E6 59				LDA STATEK+16+64+7
  1671 4F29 8D 7D 1D				STA SPRITES+$500+118+7
  1671 4F2C AD D7 59				LDA STATEK+64+8
  1671 4F2F 8D 7E 1C				STA SPRITES+$400+118+8
  1671 4F32 AD E7 59				LDA STATEK+16+64+8
  1671 4F35 8D 7E 1D				STA SPRITES+$500+118+8
  1671 4F38 AD D8 59				LDA STATEK+64+9
  1671 4F3B 8D 7F 1C				STA SPRITES+$400+118+9
  1671 4F3E AD E8 59				LDA STATEK+16+64+9
  1671 4F41 8D 7F 1D				STA SPRITES+$500+118+9
  1671 4F44 AD D9 59				LDA STATEK+64+10
  1671 4F47 8D 80 1C				STA SPRITES+$400+118+10
  1671 4F4A AD E9 59				LDA STATEK+16+64+10
  1671 4F4D 8D 80 1D				STA SPRITES+$500+118+10
  1671 4F50 AD DA 59				LDA STATEK+64+11
  1671 4F53 8D 81 1C				STA SPRITES+$400+118+11
  1671 4F56 AD EA 59				LDA STATEK+16+64+11
  1671 4F59 8D 81 1D				STA SPRITES+$500+118+11
  1671 4F5C AD DB 59				LDA STATEK+64+12
  1671 4F5F 8D 82 1C				STA SPRITES+$400+118+12
  1671 4F62 AD EB 59				LDA STATEK+16+64+12
  1671 4F65 8D 82 1D				STA SPRITES+$500+118+12
  1671 4F68 AD DC 59				LDA STATEK+64+13
  1671 4F6B 8D 83 1C				STA SPRITES+$400+118+13
  1671 4F6E AD EC 59				LDA STATEK+16+64+13
  1671 4F71 8D 83 1D				STA SPRITES+$500+118+13
  1671 4F74 AD DD 59				LDA STATEK+64+14
  1671 4F77 8D 84 1C				STA SPRITES+$400+118+14
  1671 4F7A AD ED 59				LDA STATEK+16+64+14
  1671 4F7D 8D 84 1D				STA SPRITES+$500+118+14
  1671 4F80 AD DE 59				LDA STATEK+64+15
  1671 4F83 8D 85 1C				STA SPRITES+$400+118+15
  1671 4F86 AD EE 59				LDA STATEK+16+64+15
  1671 4F89 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1676 4F8C 60					rts
  1677 						
  1678 = 4F8D			rstatekRight	equ *	;1000,8
  1679 						.rept 16, #
  1680 						LDA STATEK+96+:1
  1681 						STA SPRITES+$400+118+:1
  1682 						LDA STATEK+16+96+:1
  1683 						STA SPRITES+$500+118+:1
  1684 						.ENDR
  1684 						.endr
Source: REPT
  1680 4F8D AD EF 59				LDA STATEK+96+0
  1680 4F90 8D 76 1C				STA SPRITES+$400+118+0
  1680 4F93 AD FF 59				LDA STATEK+16+96+0
  1680 4F96 8D 76 1D				STA SPRITES+$500+118+0
  1680 4F99 AD F0 59				LDA STATEK+96+1
  1680 4F9C 8D 77 1C				STA SPRITES+$400+118+1
  1680 4F9F AD 00 5A				LDA STATEK+16+96+1
  1680 4FA2 8D 77 1D				STA SPRITES+$500+118+1
  1680 4FA5 AD F1 59				LDA STATEK+96+2
  1680 4FA8 8D 78 1C				STA SPRITES+$400+118+2
  1680 4FAB AD 01 5A				LDA STATEK+16+96+2
  1680 4FAE 8D 78 1D				STA SPRITES+$500+118+2
  1680 4FB1 AD F2 59				LDA STATEK+96+3
  1680 4FB4 8D 79 1C				STA SPRITES+$400+118+3
  1680 4FB7 AD 02 5A				LDA STATEK+16+96+3
  1680 4FBA 8D 79 1D				STA SPRITES+$500+118+3
  1680 4FBD AD F3 59				LDA STATEK+96+4
  1680 4FC0 8D 7A 1C				STA SPRITES+$400+118+4
  1680 4FC3 AD 03 5A				LDA STATEK+16+96+4
  1680 4FC6 8D 7A 1D				STA SPRITES+$500+118+4
  1680 4FC9 AD F4 59				LDA STATEK+96+5
  1680 4FCC 8D 7B 1C				STA SPRITES+$400+118+5
  1680 4FCF AD 04 5A				LDA STATEK+16+96+5
  1680 4FD2 8D 7B 1D				STA SPRITES+$500+118+5
  1680 4FD5 AD F5 59				LDA STATEK+96+6
  1680 4FD8 8D 7C 1C				STA SPRITES+$400+118+6
  1680 4FDB AD 05 5A				LDA STATEK+16+96+6
  1680 4FDE 8D 7C 1D				STA SPRITES+$500+118+6
  1680 4FE1 AD F6 59				LDA STATEK+96+7
  1680 4FE4 8D 7D 1C				STA SPRITES+$400+118+7
  1680 4FE7 AD 06 5A				LDA STATEK+16+96+7
  1680 4FEA 8D 7D 1D				STA SPRITES+$500+118+7
  1680 4FED AD F7 59				LDA STATEK+96+8
  1680 4FF0 8D 7E 1C				STA SPRITES+$400+118+8
  1680 4FF3 AD 07 5A				LDA STATEK+16+96+8
  1680 4FF6 8D 7E 1D				STA SPRITES+$500+118+8
  1680 4FF9 AD F8 59				LDA STATEK+96+9
  1680 4FFC 8D 7F 1C				STA SPRITES+$400+118+9
  1680 4FFF AD 08 5A				LDA STATEK+16+96+9
  1680 5002 8D 7F 1D				STA SPRITES+$500+118+9
  1680 5005 AD F9 59				LDA STATEK+96+10
  1680 5008 8D 80 1C				STA SPRITES+$400+118+10
  1680 500B AD 09 5A				LDA STATEK+16+96+10
  1680 500E 8D 80 1D				STA SPRITES+$500+118+10
  1680 5011 AD FA 59				LDA STATEK+96+11
  1680 5014 8D 81 1C				STA SPRITES+$400+118+11
  1680 5017 AD 0A 5A				LDA STATEK+16+96+11
  1680 501A 8D 81 1D				STA SPRITES+$500+118+11
  1680 501D AD FB 59				LDA STATEK+96+12
  1680 5020 8D 82 1C				STA SPRITES+$400+118+12
  1680 5023 AD 0B 5A				LDA STATEK+16+96+12
  1680 5026 8D 82 1D				STA SPRITES+$500+118+12
  1680 5029 AD FC 59				LDA STATEK+96+13
  1680 502C 8D 83 1C				STA SPRITES+$400+118+13
  1680 502F AD 0C 5A				LDA STATEK+16+96+13
  1680 5032 8D 83 1D				STA SPRITES+$500+118+13
  1680 5035 AD FD 59				LDA STATEK+96+14
  1680 5038 8D 84 1C				STA SPRITES+$400+118+14
  1680 503B AD 0D 5A				LDA STATEK+16+96+14
  1680 503E 8D 84 1D				STA SPRITES+$500+118+14
  1680 5041 AD FE 59				LDA STATEK+96+15
  1680 5044 8D 85 1C				STA SPRITES+$400+118+15
  1680 5047 AD 0E 5A				LDA STATEK+16+96+15
  1680 504A 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1685 504D 60					rts
  1686 						
  1687 = 504E			rstatekUpLeft	equ *	;0101,5
  1688 						.rept 16, #
  1689 						LDA STATEK+128+:1
  1690 						STA SPRITES+$400+118+:1
  1691 						LDA STATEK+16+128+:1
  1692 						STA SPRITES+$500+118+:1
  1693 						.ENDR
  1693 						.endr
Source: REPT
  1689 504E AD 0F 5A				LDA STATEK+128+0
  1689 5051 8D 76 1C				STA SPRITES+$400+118+0
  1689 5054 AD 1F 5A				LDA STATEK+16+128+0
  1689 5057 8D 76 1D				STA SPRITES+$500+118+0
  1689 505A AD 10 5A				LDA STATEK+128+1
  1689 505D 8D 77 1C				STA SPRITES+$400+118+1
  1689 5060 AD 20 5A				LDA STATEK+16+128+1
  1689 5063 8D 77 1D				STA SPRITES+$500+118+1
  1689 5066 AD 11 5A				LDA STATEK+128+2
  1689 5069 8D 78 1C				STA SPRITES+$400+118+2
  1689 506C AD 21 5A				LDA STATEK+16+128+2
  1689 506F 8D 78 1D				STA SPRITES+$500+118+2
  1689 5072 AD 12 5A				LDA STATEK+128+3
  1689 5075 8D 79 1C				STA SPRITES+$400+118+3
  1689 5078 AD 22 5A				LDA STATEK+16+128+3
  1689 507B 8D 79 1D				STA SPRITES+$500+118+3
  1689 507E AD 13 5A				LDA STATEK+128+4
  1689 5081 8D 7A 1C				STA SPRITES+$400+118+4
  1689 5084 AD 23 5A				LDA STATEK+16+128+4
  1689 5087 8D 7A 1D				STA SPRITES+$500+118+4
  1689 508A AD 14 5A				LDA STATEK+128+5
  1689 508D 8D 7B 1C				STA SPRITES+$400+118+5
  1689 5090 AD 24 5A				LDA STATEK+16+128+5
  1689 5093 8D 7B 1D				STA SPRITES+$500+118+5
  1689 5096 AD 15 5A				LDA STATEK+128+6
  1689 5099 8D 7C 1C				STA SPRITES+$400+118+6
  1689 509C AD 25 5A				LDA STATEK+16+128+6
  1689 509F 8D 7C 1D				STA SPRITES+$500+118+6
  1689 50A2 AD 16 5A				LDA STATEK+128+7
  1689 50A5 8D 7D 1C				STA SPRITES+$400+118+7
  1689 50A8 AD 26 5A				LDA STATEK+16+128+7
  1689 50AB 8D 7D 1D				STA SPRITES+$500+118+7
  1689 50AE AD 17 5A				LDA STATEK+128+8
  1689 50B1 8D 7E 1C				STA SPRITES+$400+118+8
  1689 50B4 AD 27 5A				LDA STATEK+16+128+8
  1689 50B7 8D 7E 1D				STA SPRITES+$500+118+8
  1689 50BA AD 18 5A				LDA STATEK+128+9
  1689 50BD 8D 7F 1C				STA SPRITES+$400+118+9
  1689 50C0 AD 28 5A				LDA STATEK+16+128+9
  1689 50C3 8D 7F 1D				STA SPRITES+$500+118+9
  1689 50C6 AD 19 5A				LDA STATEK+128+10
  1689 50C9 8D 80 1C				STA SPRITES+$400+118+10
  1689 50CC AD 29 5A				LDA STATEK+16+128+10
  1689 50CF 8D 80 1D				STA SPRITES+$500+118+10
  1689 50D2 AD 1A 5A				LDA STATEK+128+11
  1689 50D5 8D 81 1C				STA SPRITES+$400+118+11
  1689 50D8 AD 2A 5A				LDA STATEK+16+128+11
  1689 50DB 8D 81 1D				STA SPRITES+$500+118+11
  1689 50DE AD 1B 5A				LDA STATEK+128+12
  1689 50E1 8D 82 1C				STA SPRITES+$400+118+12
  1689 50E4 AD 2B 5A				LDA STATEK+16+128+12
  1689 50E7 8D 82 1D				STA SPRITES+$500+118+12
  1689 50EA AD 1C 5A				LDA STATEK+128+13
  1689 50ED 8D 83 1C				STA SPRITES+$400+118+13
  1689 50F0 AD 2C 5A				LDA STATEK+16+128+13
  1689 50F3 8D 83 1D				STA SPRITES+$500+118+13
  1689 50F6 AD 1D 5A				LDA STATEK+128+14
  1689 50F9 8D 84 1C				STA SPRITES+$400+118+14
  1689 50FC AD 2D 5A				LDA STATEK+16+128+14
  1689 50FF 8D 84 1D				STA SPRITES+$500+118+14
  1689 5102 AD 1E 5A				LDA STATEK+128+15
  1689 5105 8D 85 1C				STA SPRITES+$400+118+15
  1689 5108 AD 2E 5A				LDA STATEK+16+128+15
  1689 510B 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1694 510E 60					rts
  1695 						
  1696 = 510F			rstatekUpRight	equ *	;1001,9
  1697 						.rept 16, #
  1698 						LDA STATEK+160+:1
  1699 						STA SPRITES+$400+118+:1
  1700 						LDA STATEK+16+160+:1
  1701 						STA SPRITES+$500+118+:1
  1702 						.ENDR
  1702 						.endr
Source: REPT
  1698 510F AD 2F 5A				LDA STATEK+160+0
  1698 5112 8D 76 1C				STA SPRITES+$400+118+0
  1698 5115 AD 3F 5A				LDA STATEK+16+160+0
  1698 5118 8D 76 1D				STA SPRITES+$500+118+0
  1698 511B AD 30 5A				LDA STATEK+160+1
  1698 511E 8D 77 1C				STA SPRITES+$400+118+1
  1698 5121 AD 40 5A				LDA STATEK+16+160+1
  1698 5124 8D 77 1D				STA SPRITES+$500+118+1
  1698 5127 AD 31 5A				LDA STATEK+160+2
  1698 512A 8D 78 1C				STA SPRITES+$400+118+2
  1698 512D AD 41 5A				LDA STATEK+16+160+2
  1698 5130 8D 78 1D				STA SPRITES+$500+118+2
  1698 5133 AD 32 5A				LDA STATEK+160+3
  1698 5136 8D 79 1C				STA SPRITES+$400+118+3
  1698 5139 AD 42 5A				LDA STATEK+16+160+3
  1698 513C 8D 79 1D				STA SPRITES+$500+118+3
  1698 513F AD 33 5A				LDA STATEK+160+4
  1698 5142 8D 7A 1C				STA SPRITES+$400+118+4
  1698 5145 AD 43 5A				LDA STATEK+16+160+4
  1698 5148 8D 7A 1D				STA SPRITES+$500+118+4
  1698 514B AD 34 5A				LDA STATEK+160+5
  1698 514E 8D 7B 1C				STA SPRITES+$400+118+5
  1698 5151 AD 44 5A				LDA STATEK+16+160+5
  1698 5154 8D 7B 1D				STA SPRITES+$500+118+5
  1698 5157 AD 35 5A				LDA STATEK+160+6
  1698 515A 8D 7C 1C				STA SPRITES+$400+118+6
  1698 515D AD 45 5A				LDA STATEK+16+160+6
  1698 5160 8D 7C 1D				STA SPRITES+$500+118+6
  1698 5163 AD 36 5A				LDA STATEK+160+7
  1698 5166 8D 7D 1C				STA SPRITES+$400+118+7
  1698 5169 AD 46 5A				LDA STATEK+16+160+7
  1698 516C 8D 7D 1D				STA SPRITES+$500+118+7
  1698 516F AD 37 5A				LDA STATEK+160+8
  1698 5172 8D 7E 1C				STA SPRITES+$400+118+8
  1698 5175 AD 47 5A				LDA STATEK+16+160+8
  1698 5178 8D 7E 1D				STA SPRITES+$500+118+8
  1698 517B AD 38 5A				LDA STATEK+160+9
  1698 517E 8D 7F 1C				STA SPRITES+$400+118+9
  1698 5181 AD 48 5A				LDA STATEK+16+160+9
  1698 5184 8D 7F 1D				STA SPRITES+$500+118+9
  1698 5187 AD 39 5A				LDA STATEK+160+10
  1698 518A 8D 80 1C				STA SPRITES+$400+118+10
  1698 518D AD 49 5A				LDA STATEK+16+160+10
  1698 5190 8D 80 1D				STA SPRITES+$500+118+10
  1698 5193 AD 3A 5A				LDA STATEK+160+11
  1698 5196 8D 81 1C				STA SPRITES+$400+118+11
  1698 5199 AD 4A 5A				LDA STATEK+16+160+11
  1698 519C 8D 81 1D				STA SPRITES+$500+118+11
  1698 519F AD 3B 5A				LDA STATEK+160+12
  1698 51A2 8D 82 1C				STA SPRITES+$400+118+12
  1698 51A5 AD 4B 5A				LDA STATEK+16+160+12
  1698 51A8 8D 82 1D				STA SPRITES+$500+118+12
  1698 51AB AD 3C 5A				LDA STATEK+160+13
  1698 51AE 8D 83 1C				STA SPRITES+$400+118+13
  1698 51B1 AD 4C 5A				LDA STATEK+16+160+13
  1698 51B4 8D 83 1D				STA SPRITES+$500+118+13
  1698 51B7 AD 3D 5A				LDA STATEK+160+14
  1698 51BA 8D 84 1C				STA SPRITES+$400+118+14
  1698 51BD AD 4D 5A				LDA STATEK+16+160+14
  1698 51C0 8D 84 1D				STA SPRITES+$500+118+14
  1698 51C3 AD 3E 5A				LDA STATEK+160+15
  1698 51C6 8D 85 1C				STA SPRITES+$400+118+15
  1698 51C9 AD 4E 5A				LDA STATEK+16+160+15
  1698 51CC 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1703 51CF 60					rts
  1704 						
  1705 = 51D0			rstatekDownRight	equ *	;1010,10
  1706 						.rept 16, #
  1707 						LDA STATEK+192+:1
  1708 						STA SPRITES+$400+118+:1
  1709 						LDA STATEK+16+192+:1
  1710 						STA SPRITES+$500+118+:1
  1711 						.ENDR
  1711 						.endr
Source: REPT
  1707 51D0 AD 4F 5A				LDA STATEK+192+0
  1707 51D3 8D 76 1C				STA SPRITES+$400+118+0
  1707 51D6 AD 5F 5A				LDA STATEK+16+192+0
  1707 51D9 8D 76 1D				STA SPRITES+$500+118+0
  1707 51DC AD 50 5A				LDA STATEK+192+1
  1707 51DF 8D 77 1C				STA SPRITES+$400+118+1
  1707 51E2 AD 60 5A				LDA STATEK+16+192+1
  1707 51E5 8D 77 1D				STA SPRITES+$500+118+1
  1707 51E8 AD 51 5A				LDA STATEK+192+2
  1707 51EB 8D 78 1C				STA SPRITES+$400+118+2
  1707 51EE AD 61 5A				LDA STATEK+16+192+2
  1707 51F1 8D 78 1D				STA SPRITES+$500+118+2
  1707 51F4 AD 52 5A				LDA STATEK+192+3
  1707 51F7 8D 79 1C				STA SPRITES+$400+118+3
  1707 51FA AD 62 5A				LDA STATEK+16+192+3
  1707 51FD 8D 79 1D				STA SPRITES+$500+118+3
  1707 5200 AD 53 5A				LDA STATEK+192+4
  1707 5203 8D 7A 1C				STA SPRITES+$400+118+4
  1707 5206 AD 63 5A				LDA STATEK+16+192+4
  1707 5209 8D 7A 1D				STA SPRITES+$500+118+4
  1707 520C AD 54 5A				LDA STATEK+192+5
  1707 520F 8D 7B 1C				STA SPRITES+$400+118+5
  1707 5212 AD 64 5A				LDA STATEK+16+192+5
  1707 5215 8D 7B 1D				STA SPRITES+$500+118+5
  1707 5218 AD 55 5A				LDA STATEK+192+6
  1707 521B 8D 7C 1C				STA SPRITES+$400+118+6
  1707 521E AD 65 5A				LDA STATEK+16+192+6
  1707 5221 8D 7C 1D				STA SPRITES+$500+118+6
  1707 5224 AD 56 5A				LDA STATEK+192+7
  1707 5227 8D 7D 1C				STA SPRITES+$400+118+7
  1707 522A AD 66 5A				LDA STATEK+16+192+7
  1707 522D 8D 7D 1D				STA SPRITES+$500+118+7
  1707 5230 AD 57 5A				LDA STATEK+192+8
  1707 5233 8D 7E 1C				STA SPRITES+$400+118+8
  1707 5236 AD 67 5A				LDA STATEK+16+192+8
  1707 5239 8D 7E 1D				STA SPRITES+$500+118+8
  1707 523C AD 58 5A				LDA STATEK+192+9
  1707 523F 8D 7F 1C				STA SPRITES+$400+118+9
  1707 5242 AD 68 5A				LDA STATEK+16+192+9
  1707 5245 8D 7F 1D				STA SPRITES+$500+118+9
  1707 5248 AD 59 5A				LDA STATEK+192+10
  1707 524B 8D 80 1C				STA SPRITES+$400+118+10
  1707 524E AD 69 5A				LDA STATEK+16+192+10
  1707 5251 8D 80 1D				STA SPRITES+$500+118+10
  1707 5254 AD 5A 5A				LDA STATEK+192+11
  1707 5257 8D 81 1C				STA SPRITES+$400+118+11
  1707 525A AD 6A 5A				LDA STATEK+16+192+11
  1707 525D 8D 81 1D				STA SPRITES+$500+118+11
  1707 5260 AD 5B 5A				LDA STATEK+192+12
  1707 5263 8D 82 1C				STA SPRITES+$400+118+12
  1707 5266 AD 6B 5A				LDA STATEK+16+192+12
  1707 5269 8D 82 1D				STA SPRITES+$500+118+12
  1707 526C AD 5C 5A				LDA STATEK+192+13
  1707 526F 8D 83 1C				STA SPRITES+$400+118+13
  1707 5272 AD 6C 5A				LDA STATEK+16+192+13
  1707 5275 8D 83 1D				STA SPRITES+$500+118+13
  1707 5278 AD 5D 5A				LDA STATEK+192+14
  1707 527B 8D 84 1C				STA SPRITES+$400+118+14
  1707 527E AD 6D 5A				LDA STATEK+16+192+14
  1707 5281 8D 84 1D				STA SPRITES+$500+118+14
  1707 5284 AD 5E 5A				LDA STATEK+192+15
  1707 5287 8D 85 1C				STA SPRITES+$400+118+15
  1707 528A AD 6E 5A				LDA STATEK+16+192+15
  1707 528D 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1712 5290 60					rts
  1713 						
  1714 = 5291			rstatekDownLeft	equ *	;0110,6
  1715 						.rept 16, #
  1716 						LDA STATEK+224+:1
  1717 						STA SPRITES+$400+118+:1
  1718 						LDA STATEK+16+224+:1
  1719 						STA SPRITES+$500+118+:1
  1720 						.ENDR
  1720 						.endr
Source: REPT
  1716 5291 AD 6F 5A				LDA STATEK+224+0
  1716 5294 8D 76 1C				STA SPRITES+$400+118+0
  1716 5297 AD 7F 5A				LDA STATEK+16+224+0
  1716 529A 8D 76 1D				STA SPRITES+$500+118+0
  1716 529D AD 70 5A				LDA STATEK+224+1
  1716 52A0 8D 77 1C				STA SPRITES+$400+118+1
  1716 52A3 AD 80 5A				LDA STATEK+16+224+1
  1716 52A6 8D 77 1D				STA SPRITES+$500+118+1
  1716 52A9 AD 71 5A				LDA STATEK+224+2
  1716 52AC 8D 78 1C				STA SPRITES+$400+118+2
  1716 52AF AD 81 5A				LDA STATEK+16+224+2
  1716 52B2 8D 78 1D				STA SPRITES+$500+118+2
  1716 52B5 AD 72 5A				LDA STATEK+224+3
  1716 52B8 8D 79 1C				STA SPRITES+$400+118+3
  1716 52BB AD 82 5A				LDA STATEK+16+224+3
  1716 52BE 8D 79 1D				STA SPRITES+$500+118+3
  1716 52C1 AD 73 5A				LDA STATEK+224+4
  1716 52C4 8D 7A 1C				STA SPRITES+$400+118+4
  1716 52C7 AD 83 5A				LDA STATEK+16+224+4
  1716 52CA 8D 7A 1D				STA SPRITES+$500+118+4
  1716 52CD AD 74 5A				LDA STATEK+224+5
  1716 52D0 8D 7B 1C				STA SPRITES+$400+118+5
  1716 52D3 AD 84 5A				LDA STATEK+16+224+5
  1716 52D6 8D 7B 1D				STA SPRITES+$500+118+5
  1716 52D9 AD 75 5A				LDA STATEK+224+6
  1716 52DC 8D 7C 1C				STA SPRITES+$400+118+6
  1716 52DF AD 85 5A				LDA STATEK+16+224+6
  1716 52E2 8D 7C 1D				STA SPRITES+$500+118+6
  1716 52E5 AD 76 5A				LDA STATEK+224+7
  1716 52E8 8D 7D 1C				STA SPRITES+$400+118+7
  1716 52EB AD 86 5A				LDA STATEK+16+224+7
  1716 52EE 8D 7D 1D				STA SPRITES+$500+118+7
  1716 52F1 AD 77 5A				LDA STATEK+224+8
  1716 52F4 8D 7E 1C				STA SPRITES+$400+118+8
  1716 52F7 AD 87 5A				LDA STATEK+16+224+8
  1716 52FA 8D 7E 1D				STA SPRITES+$500+118+8
  1716 52FD AD 78 5A				LDA STATEK+224+9
  1716 5300 8D 7F 1C				STA SPRITES+$400+118+9
  1716 5303 AD 88 5A				LDA STATEK+16+224+9
  1716 5306 8D 7F 1D				STA SPRITES+$500+118+9
  1716 5309 AD 79 5A				LDA STATEK+224+10
  1716 530C 8D 80 1C				STA SPRITES+$400+118+10
  1716 530F AD 89 5A				LDA STATEK+16+224+10
  1716 5312 8D 80 1D				STA SPRITES+$500+118+10
  1716 5315 AD 7A 5A				LDA STATEK+224+11
  1716 5318 8D 81 1C				STA SPRITES+$400+118+11
  1716 531B AD 8A 5A				LDA STATEK+16+224+11
  1716 531E 8D 81 1D				STA SPRITES+$500+118+11
  1716 5321 AD 7B 5A				LDA STATEK+224+12
  1716 5324 8D 82 1C				STA SPRITES+$400+118+12
  1716 5327 AD 8B 5A				LDA STATEK+16+224+12
  1716 532A 8D 82 1D				STA SPRITES+$500+118+12
  1716 532D AD 7C 5A				LDA STATEK+224+13
  1716 5330 8D 83 1C				STA SPRITES+$400+118+13
  1716 5333 AD 8C 5A				LDA STATEK+16+224+13
  1716 5336 8D 83 1D				STA SPRITES+$500+118+13
  1716 5339 AD 7D 5A				LDA STATEK+224+14
  1716 533C 8D 84 1C				STA SPRITES+$400+118+14
  1716 533F AD 8D 5A				LDA STATEK+16+224+14
  1716 5342 8D 84 1D				STA SPRITES+$500+118+14
  1716 5345 AD 7E 5A				LDA STATEK+224+15
  1716 5348 8D 85 1C				STA SPRITES+$400+118+15
  1716 534B AD 8E 5A				LDA STATEK+16+224+15
  1716 534E 8D 85 1D				STA SPRITES+$500+118+15
Source: bmove.asm
  1721 5351 60					rts
  1722 					
  1723 = 5352			moveShip	equ *	;przesun ekran	
  1724 5352 A5 24				lda startMapy		;czy opoznienie po wlaczeniu nowej mapy
  1725 5354 C9 0A				cmp #10
  1726 5356 90 01				bcc *+3
  1727 5358 60					rts
  1728 						
  1729 5359 A5 D6				lda sJOY
  1730 535B 29 04				and #%0100
  1731 535D F0 03				beq l01
  1732 535F 4C CE 47				jmp movLeft
  1733
  1734 5362 A5 D6		l01		lda sJOY
  1735 5364 29 08				and #%1000
  1736 5366 F0 03				beq l02
  1737 5368 4C 08 48				jmp movRight
  1738 					
  1739 536B A5 D6		l02		lda sJOY
  1740 536D 29 01				and #%0001
  1741 536F F0 03				beq l03
  1742 5371 4C 40 48				jmp movUp
  1743
  1744 5374 A5 D6		l03		lda sJOY
  1745 5376 29 02				and #%0010
  1746 5378 F0 03				beq l04
  1747 537A 4C 7B 48				jmp movDOWN
  1748 						
  1749 537D 38			l04		sec
  1750 537E A9 0F				lda #15
  1751 5380 E5 19				sbc movX
  1752 5382 85 1B				sta movX0		;15-movX
  1753 						
  1754 5384 A5 1A				lda movY
  1755 5386 4A					lsr @
  1756 5387 85 1C				sta movY0		;movy/2
  1757
  1758 5389 60					rts
  1759
  1760 538A 07 17 27 37		ksztaltJadroAL	dta b(<ksztaltJadroA0),b(<ksztaltJadroA1),b(<ksztaltJadroA2),b(<ksztaltJadroA3)
  1761 538E 47 57 67						dta b(<ksztaltJadroA4),b(<ksztaltJadroA5),b(<ksztaltJadroA6)
  1762 5391 B7 B7 B7 B7		ksztaltJadroAH	dta b(>ksztaltJadroA0),b(>ksztaltJadroA1),b(>ksztaltJadroA2),b(>ksztaltJadroA3)
  1763 5395 B7 B7 B7						dta b(>ksztaltJadroA4),b(>ksztaltJadroA5),b(>ksztaltJadroA6)
  1764 5398 77 87 97 A7		ksztaltJadroBL	dta b(<ksztaltJadroB0),b(<ksztaltJadroB1),b(<ksztaltJadroB2),b(<ksztaltJadroB3)
  1765 539C B7 C7 D7						dta b(<ksztaltJadroB4),b(<ksztaltJadroB5),b(<ksztaltJadroB6)
  1766 539F B7 B7 B7 B7		ksztaltJadroBH	dta b(>ksztaltJadroB0),b(>ksztaltJadroB1),b(>ksztaltJadroB2),b(>ksztaltJadroB3)
  1767 53A3 B7 B7 B7						dta b(>ksztaltJadroB4),b(>ksztaltJadroB5),b(>ksztaltJadroB6)
  1768
  1769
  1770
  1771 53A6 00			czyJadroA		dta b(0)
  1772 53A7 00			czyJadroB		dta b(0)
  1773 53A8 00			licznikJadroA	dta b(0)
  1774 53A9 00			licznikJadroB	dta b(0)
  1775 53AA 00			openA			dta b(0)
  1776 53AB 00			openB			dta b(0)
  1777
  1778 				;przygotuj liczniki i wyglad jadra
  1779 = 53AC			initJadra	equ *
  1780 53AC A0 0F				ldy #15
  1781 53AE B9 47 B7		@		lda ksztaltJadroA4,y
  1782 53B1 99 98 B8				sta znaki1+(b+16)*8,y
  1783 53B4 99 98 BC				sta znaki2+(b+16)*8,y
  1784 53B7 B9 B7 B7				lda ksztaltJadroB4,y
  1785 53BA 99 A8 B8				sta znaki1+(b+18)*8,y
  1786 53BD 99 A8 BC				sta znaki2+(b+18)*8,y
  1787 53C0 88					dey
  1788 53C1 10 EB				bpl @-
  1789 							
  1790 53C3 AD 71 8A				lda czasOtwarcia
  1791 53C6 C9 FF				cmp #255
  1792 53C8 D0 23				bne @+
  1793 						
  1794 53CA 8D AA 53				sta openA		;jesli wartosc ujemna to zablokuj jadra
  1795 53CD 8D AB 53				sta openB
  1796 53D0 A9 01 8D A6 53			mva #1 czyJadroA
  1797 53D5 8D A7 53				sta czyJadroB
  1798 						
  1799 53D8 A9 93 8D 5A 41			mva #b+16+128 _bazaAJadro0+1		;jeśli jadra caly czas otwarte
  1800 53DD A9 94 8D 92 41			mva #b+17+128 _bazaAJadro1+1
  1801 53E2 A9 95 8D CB 43			mva #b+18+128 _bazaBJadro0+1
  1802 53E7 A9 96 8D D0 43			mva #b+19+128 _bazaBJadro1+1
  1803 						
  1804 53EC 60					rts
  1805 						
  1806 53ED A9 00 8D AA 53	@		mva #0 openA
  1807 53F2 8D AB 53				sta openB
  1808 53F5 8D A6 53				sta czyJadroA
  1809 53F8 8D A7 53				sta czyJadroB
  1810 						
  1811 53FB A9 04 8D A8 53			mva #4 licznikJadroA
  1812 5400 A9 14 8D A9 53			mva #20 licznikJadroB
  1813 5405 60					rts
  1814
  1815 				;Animacja Jadra A
  1816 = 5406			animacjaJadraA	equ *
  1817 5406 AD AA 53				lda openA
  1818 5409 F0 08				beq @+1
  1819 540B C9 FF				cmp #255
  1820 540D F0 03				beq @+			;jesli ujemna wartosc to nie zmieniaj stanu
  1821 540F CE AA 53				dec openA
  1822 5412 60			@		rts
  1823 					
  1824 5413 A9 00 8D A6 53	@		mva #0 czyJadroA
  1825 5418 EE A8 53				inc licznikJadroA
  1826 541B AD A8 53				lda licznikJadroA
  1827 541E C9 03				cmp #3
  1828 5420 D0 06				bne @+
  1829 5422 AE 72 8A 8E AA 53			mvx czasZamkniecia openA
  1830 5428 C9 13		@		cmp #19
  1831 542A D0 3F				bne @+
  1832 542C AE 71 8A 8E AA 53			mvx czasOtwarcia openA
  1833 5432					odpalRakietyA		;MACRO
Macro: ODPALRAKIETYA [Source: rakiety.asm]
     2 5432 A0 07					ldy #7
     3 5434 A9 00 8D 32 70				mva #0 rak_flag
     4 5439 BE 92 6E		odpraka0	ldx rakietyStan,y
     5 543C F0 12					beq odpraka1
     7 543E B9 9A 6E					lda rakietyTyp,y
     8 5441 29 02					and #%10
     9 5443 D0 0B					bne odpraka1
    10 5445 9D 1F 8A					sta bazyRakieta-1,x			;wyczysc numer rakiety przypisanej do bazy,A=0
    11 5448 A9 01 99 C2 6E				mva #1 rakietyMove,y		;uwolnienie rakiety
    12 544D 8D 32 70					sta rak_flag
    13 5450 88			odpraka1	dey
    14 5451 10 E6					bpl odpraka0
    15 5453 AD 32 70					lda rak_flag
    16 5456 F0 05					beq odpraka2
    17 5458 A9 1E					lda #15*2
    18 545A 8D 37 24					sta SFX_RAKIETA
    19 = 545D			odpraka2	equ *	;lda licznikJadroA
Source: bmove.asm
  1834 545D A9 04 8D 69 55			mva #4 opozCoreA
  1835 5462 A9 01 8D 6B 55			mva #1 liczCoreA
  1836 5467 8D A6 53				sta czyJadroA
  1837 546A 60					rts
  1838
  1839 546B 4A			@		lsr @				;spowolnienie
  1840 546C 4A					lsr @
  1841 546D C9 07				cmp #7
  1842 546F 90 05				bcc @+
  1843 						
  1844 5471 A9 00 8D A8 53			mva #0 licznikJadroA		;reset licznika
  1845 					
  1846 5476 AA			@		tax
  1847 5477 E0 04				cpx #4
  1848 5479 D0 05				bne @+
  1849 547B A9 01 8D A6 53			mva #1 czyJadroA
  1850 						
  1851 5480 BC 00 B7		@		ldy ad_jadra,x
  1852 5483 A5 1F				lda ramka
  1853 5485 D0 63				bne @+
  1854 						.rept 16, #
  1855 							LDA KSZTALTJADROA0+:1,Y
  1856 							STA ZNAKI1+(B+16)*8+:1
  1857 						.ENDR
  1857 						.endr
Source: REPT
  1855 5487 B9 07 B7					LDA KSZTALTJADROA0+0,Y
  1855 548A 8D 98 B8					STA ZNAKI1+(B+16)*8+0
  1855 548D B9 08 B7					LDA KSZTALTJADROA0+1,Y
  1855 5490 8D 99 B8					STA ZNAKI1+(B+16)*8+1
  1855 5493 B9 09 B7					LDA KSZTALTJADROA0+2,Y
  1855 5496 8D 9A B8					STA ZNAKI1+(B+16)*8+2
  1855 5499 B9 0A B7					LDA KSZTALTJADROA0+3,Y
  1855 549C 8D 9B B8					STA ZNAKI1+(B+16)*8+3
  1855 549F B9 0B B7					LDA KSZTALTJADROA0+4,Y
  1855 54A2 8D 9C B8					STA ZNAKI1+(B+16)*8+4
  1855 54A5 B9 0C B7					LDA KSZTALTJADROA0+5,Y
  1855 54A8 8D 9D B8					STA ZNAKI1+(B+16)*8+5
  1855 54AB B9 0D B7					LDA KSZTALTJADROA0+6,Y
  1855 54AE 8D 9E B8					STA ZNAKI1+(B+16)*8+6
  1855 54B1 B9 0E B7					LDA KSZTALTJADROA0+7,Y
  1855 54B4 8D 9F B8					STA ZNAKI1+(B+16)*8+7
  1855 54B7 B9 0F B7					LDA KSZTALTJADROA0+8,Y
  1855 54BA 8D A0 B8					STA ZNAKI1+(B+16)*8+8
  1855 54BD B9 10 B7					LDA KSZTALTJADROA0+9,Y
  1855 54C0 8D A1 B8					STA ZNAKI1+(B+16)*8+9
  1855 54C3 B9 11 B7					LDA KSZTALTJADROA0+10,Y
  1855 54C6 8D A2 B8					STA ZNAKI1+(B+16)*8+10
  1855 54C9 B9 12 B7					LDA KSZTALTJADROA0+11,Y
  1855 54CC 8D A3 B8					STA ZNAKI1+(B+16)*8+11
  1855 54CF B9 13 B7					LDA KSZTALTJADROA0+12,Y
  1855 54D2 8D A4 B8					STA ZNAKI1+(B+16)*8+12
  1855 54D5 B9 14 B7					LDA KSZTALTJADROA0+13,Y
  1855 54D8 8D A5 B8					STA ZNAKI1+(B+16)*8+13
  1855 54DB B9 15 B7					LDA KSZTALTJADROA0+14,Y
  1855 54DE 8D A6 B8					STA ZNAKI1+(B+16)*8+14
  1855 54E1 B9 16 B7					LDA KSZTALTJADROA0+15,Y
  1855 54E4 8D A7 B8					STA ZNAKI1+(B+16)*8+15
Source: bmove.asm
  1858 54E7 4C 4A 55				jmp @+1
  1859 = 54EA			@		equ *
  1860 						.rept 16, #
  1861 							LDA KSZTALTJADROA0+:1,Y
  1862 							STA ZNAKI2+(B+16)*8+:1
  1863 						.ENDR	
  1863 						.endr	
Source: REPT
  1861 54EA B9 07 B7					LDA KSZTALTJADROA0+0,Y
  1861 54ED 8D 98 BC					STA ZNAKI2+(B+16)*8+0
  1861 54F0 B9 08 B7					LDA KSZTALTJADROA0+1,Y
  1861 54F3 8D 99 BC					STA ZNAKI2+(B+16)*8+1
  1861 54F6 B9 09 B7					LDA KSZTALTJADROA0+2,Y
  1861 54F9 8D 9A BC					STA ZNAKI2+(B+16)*8+2
  1861 54FC B9 0A B7					LDA KSZTALTJADROA0+3,Y
  1861 54FF 8D 9B BC					STA ZNAKI2+(B+16)*8+3
  1861 5502 B9 0B B7					LDA KSZTALTJADROA0+4,Y
  1861 5505 8D 9C BC					STA ZNAKI2+(B+16)*8+4
  1861 5508 B9 0C B7					LDA KSZTALTJADROA0+5,Y
  1861 550B 8D 9D BC					STA ZNAKI2+(B+16)*8+5
  1861 550E B9 0D B7					LDA KSZTALTJADROA0+6,Y
  1861 5511 8D 9E BC					STA ZNAKI2+(B+16)*8+6
  1861 5514 B9 0E B7					LDA KSZTALTJADROA0+7,Y
  1861 5517 8D 9F BC					STA ZNAKI2+(B+16)*8+7
  1861 551A B9 0F B7					LDA KSZTALTJADROA0+8,Y
  1861 551D 8D A0 BC					STA ZNAKI2+(B+16)*8+8
  1861 5520 B9 10 B7					LDA KSZTALTJADROA0+9,Y
  1861 5523 8D A1 BC					STA ZNAKI2+(B+16)*8+9
  1861 5526 B9 11 B7					LDA KSZTALTJADROA0+10,Y
  1861 5529 8D A2 BC					STA ZNAKI2+(B+16)*8+10
  1861 552C B9 12 B7					LDA KSZTALTJADROA0+11,Y
  1861 552F 8D A3 BC					STA ZNAKI2+(B+16)*8+11
  1861 5532 B9 13 B7					LDA KSZTALTJADROA0+12,Y
  1861 5535 8D A4 BC					STA ZNAKI2+(B+16)*8+12
  1861 5538 B9 14 B7					LDA KSZTALTJADROA0+13,Y
  1861 553B 8D A5 BC					STA ZNAKI2+(B+16)*8+13
  1861 553E B9 15 B7					LDA KSZTALTJADROA0+14,Y
  1861 5541 8D A6 BC					STA ZNAKI2+(B+16)*8+14
  1861 5544 B9 16 B7					LDA KSZTALTJADROA0+15,Y
  1861 5547 8D A7 BC					STA ZNAKI2+(B+16)*8+15
Source: bmove.asm
  1864 						
  1865 554A E0 04		@		cpx #4		
  1866 554C D0 0B				bne @+
  1867 554E A9 93 8D 5A 41			mva #b+16+128 _bazaAJadro0+1
  1868 5553 A9 94 8D 92 41			mva #b+17+128 _bazaAJadro1+1
  1869 5558 60					rts
  1870 						
  1871 5559 E0 05		@		cpx #5
  1872 555B F0 01				beq @+
  1873 555D 60					rts
  1874 						
  1875 555E A9 13 8D 5A 41	@		mva #b+16 _bazaAJadro0+1
  1876 5563 A9 14 8D 92 41			mva #b+17 _bazaAJadro1+1
  1877 5568 60					rts
  1878
  1879 5569 00			opozCoreA	dta b(0)
  1880 556A 00			opozCoreB	dta b(0)
  1881 556B 00			liczCoreA	dta b(0)
  1882 556C 00			liczCoreB	dta b(0)
  1883
  1884 = 556D			ksztaltCoreA	equ *
  1885 556D 00					dta b(0)
  1886 556E 30 30				:2 dta b(%00110000)
  1887 5570 3C 3C				:2 dta b(%00111100)
  1888 5572 FB					dta b(%11111011)
  1889 5573 E7					dta b(%11100111)
  1890 5574 D7 D7				:2 dta b(%11010111)
  1891 5576 DB					dta b(%11011011)
  1892 5577 EF					dta b(%11101111)
  1893 5578 3C 3C				:2 dta b(%00111100)
  1894 557A 0C 0C				:2 dta b(%00001100)
  1895 557C 00					dta b(0)
  1896 				;1
  1897 557D 00 00				dta b(0,0)
  1898 557F 30 30				:2 dta b(%00110000)
  1899 5581 3C 3C				:2 dta b(%00111100)
  1900 5583 FB					dta b(%11111011)
  1901 5584 E7					dta b(%11100111)
  1902 5585 DB					dta b(%11011011)
  1903 5586 EF					dta b(%11101111)
  1904 5587 3C 3C				:2 dta b(%00111100)
  1905 5589 0C 0C				:2 dta b(%00001100)
  1906 558B 00 00				dta b(0,0)
  1907 				;2
  1908 558D 00 00 00				dta b(0,0,0)
  1909 5590 30 30				:2 dta b(%00110000)
  1910 5592 3C					dta b(%00111100)
  1911 5593 FC					dta b(%11111100)
  1912 5594 EB EB				:2 dta b(%11101011)
  1913 5596 3F					dta b(%00111111)
  1914 5597 3C					dta b(%00111100)
  1915 5598 0C 0C				:2 dta b(%00001100)
  1916 559A 00 00 00				dta b(0,0,0)
  1917 				;3	
  1918 559D 00 00 00 00 00			dta b(0,0,0,0,0)
  1919 55A2 30					dta b(%00110000)
  1920 55A3 3C					dta b(%00111100)
  1921 55A4 EF					dta b(%11101111)
  1922 55A5 FB					dta b(%11111011)
  1923 55A6 3C					dta b(%00111100)
  1924 55A7 0C					dta b(%00001100)
  1925 55A8 00 00 00 00 00			dta b(0,0,0,0,0)
  1926 						
  1927 = 55AD			ksztaltCoreB	equ *
  1928 55AD 00					dta b(0)
  1929 55AE 03					dta b(%00000011)
  1930 55AF 0D					dta b(%00001101)
  1931 55B0 F5					dta b(%11110101)
  1932 55B1 39					dta b(%00111001)
  1933 55B2 0D					dta b(%00001101)
  1934 55B3 03					dta b(%00000011)
  1935 55B4 00 00				dta b(0,0)
  1936 55B6 C0					dta b(%11000000)
  1937 55B7 70					dta b(%01110000)
  1938 55B8 6C					dta b(%01101100)
  1939 55B9 5F					dta b(%01011111)
  1940 55BA 70					dta b(%01110000)
  1941 55BB C0					dta b(%11000000)
  1942 55BC 00					dta b(0)
  1943 				;1
  1944 55BD 00					dta b(0)
  1945 55BE 03					dta b(%00000011)
  1946 55BF 0D					dta b(%00001101)
  1947 55C0 35					dta b(%00110101)
  1948 55C1 3D					dta b(%00111101)
  1949 55C2 0F					dta b(%00001111)
  1950 55C3 00 00 00				dta b(0,0,0)
  1951 55C6 C0					dta b(%11000000)
  1952 55C7 B0					dta b(%10110000)
  1953 55C8 7C					dta b(%01111100)
  1954 55C9 5C					dta b(%01011100)
  1955 55CA 70					dta b(%01110000)
  1956 55CB C0					dta b(%11000000)
  1957 55CC 00					dta b(0)
  1958 				;2
  1959 55CD 00					dta b(0)
  1960 55CE 03					dta b(%00000011)
  1961 55CF 0B					dta b(%00001011)
  1962 55D0 0D					dta b(%00001101)
  1963 55D1 09					dta b(%00001001)
  1964 55D2 0F					dta b(%00001111)
  1965 55D3 00 00 00 00				dta b(0,0,0,0)
  1966 55D7 F0					dta b(%11110000)
  1967 55D8 60					dta b(%01100000)
  1968 55D9 70					dta b(%01110000)
  1969 55DA E0					dta b(%11100000)
  1970 55DB C0					dta b(%11000000)
  1971 55DC 00					dta b(0)
  1972 				;3		
  1973 55DD 00 00				dta b(0,0)
  1974 55DF 03					dta b(%00000011)
  1975 55E0 0D					dta b(%00001101)
  1976 55E1 02					dta b(%00000010)
  1977 55E2 03					dta b(%00000011)
  1978 55E3 00 00 00 00				dta b(0,0,0,0)
  1979 55E7 C0					dta b(%11000000)
  1980 55E8 80					dta b(%10000000)
  1981 55E9 70					dta b(%01110000)
  1982 55EA C0					dta b(%11000000)
  1983 55EB 00 00				dta b(0,0)
  1984 						
  1985 						
  1986 55ED 00 10 20 30 30 20 + tabCoreA	dta b(0,16,32,48,48,32,16,0)
  1987 						
  1988 = 55F5			coreWaveA	equ *
  1989 55F5 AD A8 53				lda licznikJadroA		;jeśli otwarte jądro
  1990 55F8 C9 13				cmp #19
  1991 55FA F0 08				beq @+
  1992 55FC AD AA 53				lda openA
  1993 55FF C9 FF				cmp #255
  1994 5601 F0 01				beq @+
  1995 5603 60					rts
  1996 5604 CE 69 55		@		dec opozCoreA		;opoznienie animacji
  1997 5607 D0 0F				bne @+ 
  1998 5609 A9 04 8D 69 55			mva #4 opozCoreA
  1999 						
  2000 560E CE 6B 55				dec liczCoreA		;numer fazy animacji
  2001 5611 10 05				bpl @+
  2002 5613 A9 07 8D 6B 55			mva #7 liczCoreA
  2003 						
  2004 5618 AE 6B 55		@		ldx liczCoreA
  2005 561B BC ED 55				ldy tabCoreA,x
  2006 					
  2007 561E A5 1F				lda ramka
  2008 5620 D0 61				bne @+
  2009 						
  2010 						.rept 16, #
  2011 							LDA KSZTALTCOREA+:1,Y
  2012 							STA ZNAKI1+(B+16)*8+:1
  2013 						.ENDR
  2013 						.endr
Source: REPT
  2011 5622 B9 6D 55					LDA KSZTALTCOREA+0,Y
  2011 5625 8D 98 B8					STA ZNAKI1+(B+16)*8+0
  2011 5628 B9 6E 55					LDA KSZTALTCOREA+1,Y
  2011 562B 8D 99 B8					STA ZNAKI1+(B+16)*8+1
  2011 562E B9 6F 55					LDA KSZTALTCOREA+2,Y
  2011 5631 8D 9A B8					STA ZNAKI1+(B+16)*8+2
  2011 5634 B9 70 55					LDA KSZTALTCOREA+3,Y
  2011 5637 8D 9B B8					STA ZNAKI1+(B+16)*8+3
  2011 563A B9 71 55					LDA KSZTALTCOREA+4,Y
  2011 563D 8D 9C B8					STA ZNAKI1+(B+16)*8+4
  2011 5640 B9 72 55					LDA KSZTALTCOREA+5,Y
  2011 5643 8D 9D B8					STA ZNAKI1+(B+16)*8+5
  2011 5646 B9 73 55					LDA KSZTALTCOREA+6,Y
  2011 5649 8D 9E B8					STA ZNAKI1+(B+16)*8+6
  2011 564C B9 74 55					LDA KSZTALTCOREA+7,Y
  2011 564F 8D 9F B8					STA ZNAKI1+(B+16)*8+7
  2011 5652 B9 75 55					LDA KSZTALTCOREA+8,Y
  2011 5655 8D A0 B8					STA ZNAKI1+(B+16)*8+8
  2011 5658 B9 76 55					LDA KSZTALTCOREA+9,Y
  2011 565B 8D A1 B8					STA ZNAKI1+(B+16)*8+9
  2011 565E B9 77 55					LDA KSZTALTCOREA+10,Y
  2011 5661 8D A2 B8					STA ZNAKI1+(B+16)*8+10
  2011 5664 B9 78 55					LDA KSZTALTCOREA+11,Y
  2011 5667 8D A3 B8					STA ZNAKI1+(B+16)*8+11
  2011 566A B9 79 55					LDA KSZTALTCOREA+12,Y
  2011 566D 8D A4 B8					STA ZNAKI1+(B+16)*8+12
  2011 5670 B9 7A 55					LDA KSZTALTCOREA+13,Y
  2011 5673 8D A5 B8					STA ZNAKI1+(B+16)*8+13
  2011 5676 B9 7B 55					LDA KSZTALTCOREA+14,Y
  2011 5679 8D A6 B8					STA ZNAKI1+(B+16)*8+14
  2011 567C B9 7C 55					LDA KSZTALTCOREA+15,Y
  2011 567F 8D A7 B8					STA ZNAKI1+(B+16)*8+15
Source: bmove.asm
  2014 5682 60					rts
  2015 = 5683			@		equ *
  2016 						.rept 16, #
  2017 							LDA KSZTALTCOREA+:1,Y
  2018 							STA ZNAKI2+(B+16)*8+:1
  2019 						.ENDR
  2019 						.endr
Source: REPT
  2017 5683 B9 6D 55					LDA KSZTALTCOREA+0,Y
  2017 5686 8D 98 BC					STA ZNAKI2+(B+16)*8+0
  2017 5689 B9 6E 55					LDA KSZTALTCOREA+1,Y
  2017 568C 8D 99 BC					STA ZNAKI2+(B+16)*8+1
  2017 568F B9 6F 55					LDA KSZTALTCOREA+2,Y
  2017 5692 8D 9A BC					STA ZNAKI2+(B+16)*8+2
  2017 5695 B9 70 55					LDA KSZTALTCOREA+3,Y
  2017 5698 8D 9B BC					STA ZNAKI2+(B+16)*8+3
  2017 569B B9 71 55					LDA KSZTALTCOREA+4,Y
  2017 569E 8D 9C BC					STA ZNAKI2+(B+16)*8+4
  2017 56A1 B9 72 55					LDA KSZTALTCOREA+5,Y
  2017 56A4 8D 9D BC					STA ZNAKI2+(B+16)*8+5
  2017 56A7 B9 73 55					LDA KSZTALTCOREA+6,Y
  2017 56AA 8D 9E BC					STA ZNAKI2+(B+16)*8+6
  2017 56AD B9 74 55					LDA KSZTALTCOREA+7,Y
  2017 56B0 8D 9F BC					STA ZNAKI2+(B+16)*8+7
  2017 56B3 B9 75 55					LDA KSZTALTCOREA+8,Y
  2017 56B6 8D A0 BC					STA ZNAKI2+(B+16)*8+8
  2017 56B9 B9 76 55					LDA KSZTALTCOREA+9,Y
  2017 56BC 8D A1 BC					STA ZNAKI2+(B+16)*8+9
  2017 56BF B9 77 55					LDA KSZTALTCOREA+10,Y
  2017 56C2 8D A2 BC					STA ZNAKI2+(B+16)*8+10
  2017 56C5 B9 78 55					LDA KSZTALTCOREA+11,Y
  2017 56C8 8D A3 BC					STA ZNAKI2+(B+16)*8+11
  2017 56CB B9 79 55					LDA KSZTALTCOREA+12,Y
  2017 56CE 8D A4 BC					STA ZNAKI2+(B+16)*8+12
  2017 56D1 B9 7A 55					LDA KSZTALTCOREA+13,Y
  2017 56D4 8D A5 BC					STA ZNAKI2+(B+16)*8+13
  2017 56D7 B9 7B 55					LDA KSZTALTCOREA+14,Y
  2017 56DA 8D A6 BC					STA ZNAKI2+(B+16)*8+14
  2017 56DD B9 7C 55					LDA KSZTALTCOREA+15,Y
  2017 56E0 8D A7 BC					STA ZNAKI2+(B+16)*8+15
Source: bmove.asm
  2020 						
  2021 56E3 60					rts
  2022 						
  2023 				;Animacja Jadra B
  2024 = 56E4			animacjaJadraB	equ *
  2025 56E4 AD AB 53				lda openB
  2026 56E7 F0 08				beq @+1
  2027 56E9 C9 FF				cmp #255
  2028 56EB F0 03				beq @+			;jesli ujemna wartosc to nie zmieniaj stanu
  2029 56ED CE AB 53				dec openB
  2030 56F0 60			@		rts
  2031 					
  2032 56F1 A9 00 8D A7 53	@		mva #0 czyJadroB
  2033 56F6 EE A9 53				inc licznikJadroB
  2034 56F9 AD A9 53				lda licznikJadroB
  2035 						
  2036 56FC C9 03				cmp #3
  2037 56FE D0 06				bne @+
  2038 5700 AE 72 8A 8E AB 53			mvx czasZamkniecia openB
  2039 5706 C9 13		@		cmp #19
  2040 5708 D0 3F				bne @+
  2041 570A AE 71 8A 8E AB 53			mvx czasOtwarcia openB
  2042 5710					odpalRakietyB		;MACRO
Macro: ODPALRAKIETYB [Source: rakiety.asm]
     2 5710 A0 07					ldy #7
     3 5712 A9 00 8D 32 70				mva #0 rak_flag
     4 5717 BE 92 6E		odprakb0	ldx rakietyStan,y
     5 571A F0 12					beq odprakb1
     7 571C B9 9A 6E					lda rakietyTyp,y
     8 571F 29 02					and #%10
     9 5721 F0 0B					beq odprakb1
    10 5723 99 C2 6E					sta rakietyMove,y	;mva #1 rakietyMove,y		;uwolnienie rakiety
    11 5726 8D 32 70					sta rak_flag
    12 5729 A9 00 9D 1F 8A				mva #0 bazyRakieta-1,x		;wyczysc numer rakiety przypisanej do bazy
    13 572E 88			odprakb1	dey
    14 572F 10 E6					bpl odprakb0
    15 5731 AD 32 70					lda rak_flag
    16 5734 F0 05					beq odprakb2
    17 5736 A9 1E					lda #15*2
    18 5738 8D 37 24					sta SFX_RAKIETA
    19 = 573B			odprakb2	equ *	;lda licznikJadroB
Source: bmove.asm
  2043 573B A9 04 8D 6A 55			mva #4 opozCoreB
  2044 5740 A9 01 8D 6C 55			mva #1 liczCoreB
  2045 5745 8D A7 53				sta czyJadroB
  2046 5748 60					rts
  2047 						
  2048 5749 4A			@		lsr @				;spowolnienie
  2049 574A 4A					lsr @
  2050 574B C9 07				cmp #7
  2051 574D 90 05				bcc @+
  2052 574F A9 00 8D A9 53			mva #0 licznikJadroB		;reset licznika
  2053 						
  2054 5754 AA			@		tax
  2055 5755 E0 04				cpx #4
  2056 5757 D0 0C				bne @+
  2057 5759 AD A9 53				lda licznikJadroB
  2058 575C 29 01				and #1
  2059 575E F0 05				beq @+
  2060 5760 A9 01 8D A7 53			mva #1 czyJadroB
  2061 						
  2062 5765 BC 00 B7		@		ldy ad_jadra,x
  2063 5768 A5 1F				lda ramka
  2064 576A D0 63				bne @+
  2065 						.rept 16, #
  2066 							LDA KSZTALTJADROB0+:1,Y
  2067 							STA ZNAKI1+(B+18)*8+:1
  2068 						.ENDR
  2068 						.endr
Source: REPT
  2066 576C B9 77 B7					LDA KSZTALTJADROB0+0,Y
  2066 576F 8D A8 B8					STA ZNAKI1+(B+18)*8+0
  2066 5772 B9 78 B7					LDA KSZTALTJADROB0+1,Y
  2066 5775 8D A9 B8					STA ZNAKI1+(B+18)*8+1
  2066 5778 B9 79 B7					LDA KSZTALTJADROB0+2,Y
  2066 577B 8D AA B8					STA ZNAKI1+(B+18)*8+2
  2066 577E B9 7A B7					LDA KSZTALTJADROB0+3,Y
  2066 5781 8D AB B8					STA ZNAKI1+(B+18)*8+3
  2066 5784 B9 7B B7					LDA KSZTALTJADROB0+4,Y
  2066 5787 8D AC B8					STA ZNAKI1+(B+18)*8+4
  2066 578A B9 7C B7					LDA KSZTALTJADROB0+5,Y
  2066 578D 8D AD B8					STA ZNAKI1+(B+18)*8+5
  2066 5790 B9 7D B7					LDA KSZTALTJADROB0+6,Y
  2066 5793 8D AE B8					STA ZNAKI1+(B+18)*8+6
  2066 5796 B9 7E B7					LDA KSZTALTJADROB0+7,Y
  2066 5799 8D AF B8					STA ZNAKI1+(B+18)*8+7
  2066 579C B9 7F B7					LDA KSZTALTJADROB0+8,Y
  2066 579F 8D B0 B8					STA ZNAKI1+(B+18)*8+8
  2066 57A2 B9 80 B7					LDA KSZTALTJADROB0+9,Y
  2066 57A5 8D B1 B8					STA ZNAKI1+(B+18)*8+9
  2066 57A8 B9 81 B7					LDA KSZTALTJADROB0+10,Y
  2066 57AB 8D B2 B8					STA ZNAKI1+(B+18)*8+10
  2066 57AE B9 82 B7					LDA KSZTALTJADROB0+11,Y
  2066 57B1 8D B3 B8					STA ZNAKI1+(B+18)*8+11
  2066 57B4 B9 83 B7					LDA KSZTALTJADROB0+12,Y
  2066 57B7 8D B4 B8					STA ZNAKI1+(B+18)*8+12
  2066 57BA B9 84 B7					LDA KSZTALTJADROB0+13,Y
  2066 57BD 8D B5 B8					STA ZNAKI1+(B+18)*8+13
  2066 57C0 B9 85 B7					LDA KSZTALTJADROB0+14,Y
  2066 57C3 8D B6 B8					STA ZNAKI1+(B+18)*8+14
  2066 57C6 B9 86 B7					LDA KSZTALTJADROB0+15,Y
  2066 57C9 8D B7 B8					STA ZNAKI1+(B+18)*8+15
Source: bmove.asm
  2069 57CC 4C 2F 58				jmp @+1
  2070 = 57CF			@		equ *
  2071 						.rept 16, #
  2072 							LDA KSZTALTJADROB0+:1,Y
  2073 							STA ZNAKI2+(B+18)*8+:1
  2074 						.ENDR
  2074 						.endr
Source: REPT
  2072 57CF B9 77 B7					LDA KSZTALTJADROB0+0,Y
  2072 57D2 8D A8 BC					STA ZNAKI2+(B+18)*8+0
  2072 57D5 B9 78 B7					LDA KSZTALTJADROB0+1,Y
  2072 57D8 8D A9 BC					STA ZNAKI2+(B+18)*8+1
  2072 57DB B9 79 B7					LDA KSZTALTJADROB0+2,Y
  2072 57DE 8D AA BC					STA ZNAKI2+(B+18)*8+2
  2072 57E1 B9 7A B7					LDA KSZTALTJADROB0+3,Y
  2072 57E4 8D AB BC					STA ZNAKI2+(B+18)*8+3
  2072 57E7 B9 7B B7					LDA KSZTALTJADROB0+4,Y
  2072 57EA 8D AC BC					STA ZNAKI2+(B+18)*8+4
  2072 57ED B9 7C B7					LDA KSZTALTJADROB0+5,Y
  2072 57F0 8D AD BC					STA ZNAKI2+(B+18)*8+5
  2072 57F3 B9 7D B7					LDA KSZTALTJADROB0+6,Y
  2072 57F6 8D AE BC					STA ZNAKI2+(B+18)*8+6
  2072 57F9 B9 7E B7					LDA KSZTALTJADROB0+7,Y
  2072 57FC 8D AF BC					STA ZNAKI2+(B+18)*8+7
  2072 57FF B9 7F B7					LDA KSZTALTJADROB0+8,Y
  2072 5802 8D B0 BC					STA ZNAKI2+(B+18)*8+8
  2072 5805 B9 80 B7					LDA KSZTALTJADROB0+9,Y
  2072 5808 8D B1 BC					STA ZNAKI2+(B+18)*8+9
  2072 580B B9 81 B7					LDA KSZTALTJADROB0+10,Y
  2072 580E 8D B2 BC					STA ZNAKI2+(B+18)*8+10
  2072 5811 B9 82 B7					LDA KSZTALTJADROB0+11,Y
  2072 5814 8D B3 BC					STA ZNAKI2+(B+18)*8+11
  2072 5817 B9 83 B7					LDA KSZTALTJADROB0+12,Y
  2072 581A 8D B4 BC					STA ZNAKI2+(B+18)*8+12
  2072 581D B9 84 B7					LDA KSZTALTJADROB0+13,Y
  2072 5820 8D B5 BC					STA ZNAKI2+(B+18)*8+13
  2072 5823 B9 85 B7					LDA KSZTALTJADROB0+14,Y
  2072 5826 8D B6 BC					STA ZNAKI2+(B+18)*8+14
  2072 5829 B9 86 B7					LDA KSZTALTJADROB0+15,Y
  2072 582C 8D B7 BC					STA ZNAKI2+(B+18)*8+15
Source: bmove.asm
  2075 						
  2076 582F E0 04		@		cpx #4		
  2077 5831 D0 0B				bne @+
  2078 5833 A9 95 8D CB 43			mva #b+18+128 _bazaBJadro0+1
  2079 5838 A9 96 8D D0 43			mva #b+19+128 _bazaBJadro1+1
  2080 583D 60					rts
  2081 						
  2082 583E E0 05		@		cpx #5
  2083 5840 F0 01				beq @+
  2084 5842 60					rts
  2085 						
  2086 5843 A9 15 8D CB 43	@		mva #b+18 _bazaBJadro0+1
  2087 5848 A9 16 8D D0 43			mva #b+19 _bazaBJadro1+1
  2088 584D 60					rts
  2089 						
  2090 = 584E			coreWaveB	equ *
  2091 584E AD A9 53				lda licznikJadroB		;jeśli otwarte jądro
  2092 5851 C9 13				cmp #19
  2093 5853 F0 08				beq @+
  2094 5855 AD AB 53				lda openB
  2095 5858 C9 FF				cmp #255
  2096 585A F0 01				beq @+
  2097 585C 60					rts
  2098 585D CE 6A 55		@		dec opozCoreB		;opoznienie animacji
  2099 5860 D0 0F				bne @+ 
  2100 5862 A9 04 8D 6A 55			mva #4 opozCoreB
  2101 						
  2102 5867 CE 6C 55				dec liczCoreB		;numer fazy animacji
  2103 586A 10 05				bpl @+
  2104 586C A9 07 8D 6C 55			mva #7 liczCoreB
  2105 						
  2106 5871 AE 6C 55		@		ldx liczCoreB
  2107 5874 BC ED 55				ldy tabCoreA,x
  2108 					
  2109 5877 A5 1F				lda ramka
  2110 5879 D0 61				bne @+
  2111 						
  2112 						.rept 16, #
  2113 							LDA KSZTALTCOREB+:1,Y
  2114 							STA ZNAKI1+(B+18)*8+:1
  2115 						.ENDR
  2115 						.endr
Source: REPT
  2113 587B B9 AD 55					LDA KSZTALTCOREB+0,Y
  2113 587E 8D A8 B8					STA ZNAKI1+(B+18)*8+0
  2113 5881 B9 AE 55					LDA KSZTALTCOREB+1,Y
  2113 5884 8D A9 B8					STA ZNAKI1+(B+18)*8+1
  2113 5887 B9 AF 55					LDA KSZTALTCOREB+2,Y
  2113 588A 8D AA B8					STA ZNAKI1+(B+18)*8+2
  2113 588D B9 B0 55					LDA KSZTALTCOREB+3,Y
  2113 5890 8D AB B8					STA ZNAKI1+(B+18)*8+3
  2113 5893 B9 B1 55					LDA KSZTALTCOREB+4,Y
  2113 5896 8D AC B8					STA ZNAKI1+(B+18)*8+4
  2113 5899 B9 B2 55					LDA KSZTALTCOREB+5,Y
  2113 589C 8D AD B8					STA ZNAKI1+(B+18)*8+5
  2113 589F B9 B3 55					LDA KSZTALTCOREB+6,Y
  2113 58A2 8D AE B8					STA ZNAKI1+(B+18)*8+6
  2113 58A5 B9 B4 55					LDA KSZTALTCOREB+7,Y
  2113 58A8 8D AF B8					STA ZNAKI1+(B+18)*8+7
  2113 58AB B9 B5 55					LDA KSZTALTCOREB+8,Y
  2113 58AE 8D B0 B8					STA ZNAKI1+(B+18)*8+8
  2113 58B1 B9 B6 55					LDA KSZTALTCOREB+9,Y
  2113 58B4 8D B1 B8					STA ZNAKI1+(B+18)*8+9
  2113 58B7 B9 B7 55					LDA KSZTALTCOREB+10,Y
  2113 58BA 8D B2 B8					STA ZNAKI1+(B+18)*8+10
  2113 58BD B9 B8 55					LDA KSZTALTCOREB+11,Y
  2113 58C0 8D B3 B8					STA ZNAKI1+(B+18)*8+11
  2113 58C3 B9 B9 55					LDA KSZTALTCOREB+12,Y
  2113 58C6 8D B4 B8					STA ZNAKI1+(B+18)*8+12
  2113 58C9 B9 BA 55					LDA KSZTALTCOREB+13,Y
  2113 58CC 8D B5 B8					STA ZNAKI1+(B+18)*8+13
  2113 58CF B9 BB 55					LDA KSZTALTCOREB+14,Y
  2113 58D2 8D B6 B8					STA ZNAKI1+(B+18)*8+14
  2113 58D5 B9 BC 55					LDA KSZTALTCOREB+15,Y
  2113 58D8 8D B7 B8					STA ZNAKI1+(B+18)*8+15
Source: bmove.asm
  2116 58DB 60					rts
  2117 = 58DC			@		equ *
  2118 						.rept 16, #
  2119 							LDA KSZTALTCOREB+:1,Y
  2120 							STA ZNAKI2+(B+18)*8+:1
  2121 						.ENDR
  2121 						.endr
Source: REPT
  2119 58DC B9 AD 55					LDA KSZTALTCOREB+0,Y
  2119 58DF 8D A8 BC					STA ZNAKI2+(B+18)*8+0
  2119 58E2 B9 AE 55					LDA KSZTALTCOREB+1,Y
  2119 58E5 8D A9 BC					STA ZNAKI2+(B+18)*8+1
  2119 58E8 B9 AF 55					LDA KSZTALTCOREB+2,Y
  2119 58EB 8D AA BC					STA ZNAKI2+(B+18)*8+2
  2119 58EE B9 B0 55					LDA KSZTALTCOREB+3,Y
  2119 58F1 8D AB BC					STA ZNAKI2+(B+18)*8+3
  2119 58F4 B9 B1 55					LDA KSZTALTCOREB+4,Y
  2119 58F7 8D AC BC					STA ZNAKI2+(B+18)*8+4
  2119 58FA B9 B2 55					LDA KSZTALTCOREB+5,Y
  2119 58FD 8D AD BC					STA ZNAKI2+(B+18)*8+5
  2119 5900 B9 B3 55					LDA KSZTALTCOREB+6,Y
  2119 5903 8D AE BC					STA ZNAKI2+(B+18)*8+6
  2119 5906 B9 B4 55					LDA KSZTALTCOREB+7,Y
  2119 5909 8D AF BC					STA ZNAKI2+(B+18)*8+7
  2119 590C B9 B5 55					LDA KSZTALTCOREB+8,Y
  2119 590F 8D B0 BC					STA ZNAKI2+(B+18)*8+8
  2119 5912 B9 B6 55					LDA KSZTALTCOREB+9,Y
  2119 5915 8D B1 BC					STA ZNAKI2+(B+18)*8+9
  2119 5918 B9 B7 55					LDA KSZTALTCOREB+10,Y
  2119 591B 8D B2 BC					STA ZNAKI2+(B+18)*8+10
  2119 591E B9 B8 55					LDA KSZTALTCOREB+11,Y
  2119 5921 8D B3 BC					STA ZNAKI2+(B+18)*8+11
  2119 5924 B9 B9 55					LDA KSZTALTCOREB+12,Y
  2119 5927 8D B4 BC					STA ZNAKI2+(B+18)*8+12
  2119 592A B9 BA 55					LDA KSZTALTCOREB+13,Y
  2119 592D 8D B5 BC					STA ZNAKI2+(B+18)*8+13
  2119 5930 B9 BB 55					LDA KSZTALTCOREB+14,Y
  2119 5933 8D B6 BC					STA ZNAKI2+(B+18)*8+14
  2119 5936 B9 BC 55					LDA KSZTALTCOREB+15,Y
  2119 5939 8D B7 BC					STA ZNAKI2+(B+18)*8+15
Source: bmove.asm
  2122 						
  2123 593C 60					rts
  2124 						
  2125 = 593D			exploAllEnemy	equ *
  2126 593D A2 05				ldx #5
  2127 593F BD B7 17		@		lda enemy,x			;w momencie trafienia wszystkie statki wybuchaja
  2128 5942 F0 24				beq @+
  2129 5944 BD 6E 31				lda enemyWybuch,x
  2130 5947 D0 1F				bne @+
  2131 						
  2132 5949 BD E1 17 9D 68 31			mva enemyFaza,x enemyLastFaza,x
  2133 594F A9 08 9D 6E 31			mva #8 enemyWybuch,x
  2134 5954 A9 80 9D 5C 31			mva #EKOLOR1 enemyNegatyw,x	
  2135 5959 A9 E6 9D E7 17			mva #BANK3 enemyBank,x
  2136 595E A9 41 9D ED 17			mva >explo_shapetab enemyShapeH,x
  2137 5963 A9 0A 8D 36 24			mva #5*2 sfx_enemyHit
  2138
  2139 5968 CA			@		dex
  2140 5969 10 D4				bpl @-1
  2141 						
  2142 596B A2 07				ldx #7
  2143 596D BD C2 6E		@		lda rakietyMove,x
  2144 5970 F0 0B				beq @+	
  2145 5972 A9 00				lda #0	
  2146 5974 9D 92 6E				sta rakietyStan,x
  2147 5977 9D C2 6E				sta rakietyMove,x
  2148 597A 20 70 62				jsr dodajMalyWybuch		;dodaj male wybuchy
  2149 						
  2150 597D CA			@		dex
  2151 597E 10 ED				bpl @-1
  2152 						
  2153 5980 AD 33 70				lda jestSpy
  2154 5983 F0 09				beq eal
  2155 5985 C9 03				cmp #3
  2156 5987 B0 05				bcs eal
  2157 5989 A9 00 8D 33 70			mva #0 jestSpy		;zabezpieczenie przed pojawieniem się spy
  2158 598E 60			eal		rts		
  2159 						
   324 							
   325 598F						icl 'bgrafika.asm'
Source: bgrafika.asm
     1 							
     2 = 598F			statek		equ	*			;gora
     3 598F 00						dta b(%00000000)
     4 5990 10						dta b(%00010000)
     5 5991 10						dta b(%00010000)
     6 5992 10						dta b(%00010000)
     7 5993 10						dta b(%00010000)
     8 5994 38						dta b(%00111000)
     9 5995 28						dta b(%00101000)
    10 5996 28						dta b(%00101000)
    11 5997 AA						dta b(%10101010)
    12 5998 AA						dta b(%10101010)
    13 5999 FE						dta b(%11111110)
    14 599A FE						dta b(%11111110)
    15 599B D6						dta b(%11010110)
    16 599C 92						dta b(%10010010)
    17 599D 28						dta b(%00101000)
    18 599E 28						dta b(%00101000)
    19 							
    20 599F 00						dta b(%00000000)
    21 59A0 00						dta b(%00000000)
    22 59A1 00						dta b(%00000000)
    23 59A2 00						dta b(%00000000)
    24 59A3 00						dta b(%00000000)
    25 59A4 00						dta b(%00000000)
    26 59A5 10						dta b(%00010000)
    27 59A6 10						dta b(%00010000)
    28 59A7 10						dta b(%00010000)
    29 59A8 10						dta b(%00010000)
    30 59A9 00						dta b(%00000000)
    31 59AA 00						dta b(%00000000)
    32 59AB 28						dta b(%00101000)
    33 59AC 00						dta b(%00000000)
    34 59AD 92						dta b(%10010010)
    35 59AE 92						dta b(%10010010)
    36 							
    37 59AF 28						dta b(%00101000)		;dol
    38 59B0 28						dta b(%00101000)
    39 59B1 92						dta b(%10010010)
    40 59B2 D6						dta b(%11010110)
    41 59B3 FE						dta b(%11111110)
    42 59B4 FE						dta b(%11111110)
    43 59B5 AA						dta b(%10101010)
    44 59B6 AA						dta b(%10101010)
    45 59B7 28						dta b(%00101000)
    46 59B8 28						dta b(%00101000)
    47 59B9 38						dta b(%00111000)
    48 59BA 10						dta b(%00010000)
    49 59BB 10						dta b(%00010000)
    50 59BC 10						dta b(%00010000)
    51 59BD 10						dta b(%00010000)
    52 59BE 00						dta b(%00000000)
    53 							
    54 59BF 92						dta b(%10010010)
    55 59C0 92						dta b(%10010010)
    56 59C1 00						dta b(%00000000)
    57 59C2 28						dta b(%00101000)
    58 59C3 00						dta b(%00000000)
    59 59C4 44						dta b(%01000100)
    60 59C5 10						dta b(%00010000)
    61 59C6 10						dta b(%00010000)
    62 59C7 10						dta b(%00010000)
    63 59C8 10						dta b(%00010000)
    64 59C9 28						dta b(%00101000)
    65 59CA 00						dta b(%00000000)
    66 59CB 00						dta b(%00000000)
    67 59CC 00						dta b(%00000000)
    68 59CD 10						dta b(%00010000)
    69 59CE 00						dta b(%00000000)
    70 							
    71 59CF 00						dta b(%00000000)		;lewo
    72 59D0 1C						dta b(%00011100)
    73 59D1 1C						dta b(%00011100)
    74 59D2 08						dta b(%00001000)
    75 59D3 08						dta b(%00001000)
    76 59D4 39						dta b(%00111001)
    77 59D5 3D						dta b(%00111101)
    78 59D6 CE						dta b(%11001110)
    79 59D7 CE						dta b(%11001110)
    80 59D8 3D						dta b(%00111101)
    81 59D9 39						dta b(%00111001)
    82 59DA 08						dta b(%00001000)
    83 59DB 08						dta b(%00001000)
    84 59DC 1C						dta b(%00011100)
    85 59DD 1C						dta b(%00011100)
    86 59DE 00						dta b(%00000000)
    87 							
    88 59DF 00						dta b(%00000000)
    89 59E0 02						dta b(%00000010)
    90 59E1 02						dta b(%00000010)
    91 59E2 00						dta b(%00000000)
    92 59E3 00						dta b(%00000000)
    93 59E4 04						dta b(%00000100)
    94 59E5 00						dta b(%00000000)
    95 59E6 31						dta b(%00110001)
    96 59E7 31						dta b(%00110001)
    97 59E8 00						dta b(%00000000)
    98 59E9 04						dta b(%00000100)
    99 59EA 00						dta b(%00000000)
   100 59EB 00						dta b(%00000000)
   101 59EC 02						dta b(%00000010)
   102 59ED 02						dta b(%00000010)
   103 59EE 00						dta b(%00000000)
   104 							
   105 59EF 00						dta b(%00000000)	;prawo
   106 59F0 38						dta b(%00111000)
   107 59F1 38						dta b(%00111000)
   108 59F2 10						dta b(%00010000)
   109 59F3 10						dta b(%00010000)
   110 59F4 9C						dta b(%10011100)
   111 59F5 BC						dta b(%10111100)
   112 59F6 73						dta b(%01110011)
   113 59F7 73						dta b(%01110011)
   114 59F8 BC						dta b(%10111100)
   115 59F9 9C						dta b(%10011100)
   116 59FA 10						dta b(%00010000)
   117 59FB 10						dta b(%00010000)
   118 59FC 38						dta b(%00111000)
   119 59FD 38						dta b(%00111000)
   120 59FE 00						dta b(%00000000)
   121 							
   122 59FF 00						 dta b(%00000000)	
   123 5A00 40						dta b(%01000000)
   124 5A01 40						dta b(%01000000)
   125 5A02 00						dta b(%00000000)
   126 5A03 00						dta b(%00000000)
   127 5A04 20						dta b(%00100000)
   128 5A05 00						dta b(%00000000)
   129 5A06 8C						dta b(%10001100)
   130 5A07 8C						dta b(%10001100)
   131 5A08 00						dta b(%00000000)
   132 5A09 20						dta b(%00100000)
   133 5A0A 00						dta b(%00000000)
   134 5A0B 00						dta b(%00000000)
   135 5A0C 40						dta b(%01000000)
   136 5A0D 40						dta b(%01000000)
   137 5A0E 00						dta b(%00000000)
   138 							
   139 5A0F 84						dta b(%10000100)		;lewo-gora
   140 5A10 84						dta b(%10000100)
   141 5A11 62						dta b(%01100010)
   142 5A12 62						dta b(%01100010)
   143 5A13 57						dta b(%01010111)
   144 5A14 5C						dta b(%01011100)
   145 5A15 2C						dta b(%00101100)
   146 5A16 28						dta b(%00101000)
   147 5A17 38						dta b(%00111000)
   148 5A18 BC						dta b(%10111100)
   149 5A19 EC						dta b(%11101100)
   150 5A1A 68						dta b(%01101000)
   151 5A1B 48						dta b(%01001000)
   152 5A1C 40						dta b(%01000000)
   153 5A1D 40						dta b(%01000000)
   154 5A1E 00						dta b(%00000000)
   155 							
   156 5A1F 00						dta b(%00000000)
   157 5A20 00						dta b(%00000000)
   158 5A21 00						dta b(%00000000)
   159 5A22 00						dta b(%00000000)
   160 5A23 20						dta b(%00100000)
   161 5A24 21						dta b(%00100001)
   162 5A25 11						dta b(%00010001)
   163 5A26 14						dta b(%00010100)
   164 5A27 00						dta b(%00000000)
   165 5A28 00						dta b(%00000000)
   166 5A29 10						dta b(%00010000)
   167 5A2A 04						dta b(%00000100)
   168 5A2B 04						dta b(%00000100)
   169 5A2C 00						dta b(%00000000)
   170 5A2D 20						dta b(%00100000)
   171 5A2E 20						dta b(%00100000)
   172 							
   173 5A2F 21						dta b(%00100001)		;prawo-gora
   174 5A30 21						dta b(%00100001)
   175 5A31 46						dta b(%01000110)
   176 5A32 46						dta b(%01000110)
   177 5A33 EA						dta b(%11101010)
   178 5A34 3A						dta b(%00111010)
   179 5A35 34						dta b(%00110100)
   180 5A36 14						dta b(%00010100)
   181 5A37 1C						dta b(%00011100)
   182 5A38 3D						dta b(%00111101)
   183 5A39 37						dta b(%00110111)
   184 5A3A 16						dta b(%00010110)
   185 5A3B 12						dta b(%00010010)
   186 5A3C 02						dta b(%00000010)
   187 5A3D 02						dta b(%00000010)
   188 5A3E 00						dta b(%00000000)
   189 							
   190 5A3F 00						dta b(%00000000)
   191 5A40 00						dta b(%00000000)
   192 5A41 00						dta b(%00000000)
   193 5A42 00						dta b(%00000000)
   194 5A43 04						dta b(%00000100)
   195 5A44 84						dta b(%10000100)
   196 5A45 88						dta b(%10001000)
   197 5A46 28						dta b(%00101000)
   198 5A47 00						dta b(%00000000)
   199 5A48 00						dta b(%00000000)
   200 5A49 08						dta b(%00001000)
   201 5A4A 20						dta b(%00100000)
   202 5A4B 20						dta b(%00100000)
   203 5A4C 00						dta b(%00000000)
   204 5A4D 04						dta b(%00000100)
   205 5A4E 04						dta b(%00000100)
   206 							
   207 5A4F 00						dta b(%00000000)		
   208 5A50 02						dta b(%00000010)		;prawo-dol
   209 5A51 02						dta b(%00000010)
   210 5A52 12						dta b(%00010010)
   211 5A53 16						dta b(%00010110)
   212 5A54 37						dta b(%00110111)
   213 5A55 3D						dta b(%00111101)
   214 5A56 1C						dta b(%00011100)
   215 5A57 14						dta b(%00010100)
   216 5A58 34						dta b(%00110100)
   217 5A59 3A						dta b(%00111010)
   218 5A5A EA						dta b(%11101010)
   219 5A5B 46						dta b(%01000110)
   220 5A5C 46						dta b(%01000110)
   221 5A5D 21						dta b(%00100001)
   222 5A5E 21						dta b(%00100001)
   223 							
   224 							
   225 5A5F 04						dta b(%00000100)
   226 5A60 04						dta b(%00000100)
   227 5A61 00						dta b(%00000000)
   228 5A62 20						dta b(%00100000)
   229 5A63 20						dta b(%00100000)
   230 5A64 08						dta b(%00001000)
   231 5A65 00						dta b(%00000000)
   232 5A66 00						dta b(%00000000)
   233 5A67 28						dta b(%00101000)
   234 5A68 88						dta b(%10001000)
   235 5A69 84						dta b(%10000100)
   236 5A6A 04						dta b(%00000100)
   237 5A6B 00						dta b(%00000000)
   238 5A6C 00						dta b(%00000000)
   239 5A6D 00						dta b(%00000000)
   240 5A6E 00						dta b(%00000000)
   241 							
   242 5A6F 00						dta b(%00000000)		;lewo-dol
   243 5A70 40						dta b(%01000000)
   244 5A71 40						dta b(%01000000)
   245 5A72 48						dta b(%01001000)
   246 5A73 E8						dta b(%11101000)
   247 5A74 AC						dta b(%10101100)
   248 5A75 3C						dta b(%00111100)
   249 5A76 38						dta b(%00111000)
   250 5A77 28						dta b(%00101000)
   251 5A78 2C						dta b(%00101100)
   252 5A79 5C						dta b(%01011100)
   253 5A7A 57						dta b(%01010111)
   254 5A7B 62						dta b(%01100010)
   255 5A7C 62						dta b(%01100010)
   256 5A7D 84						dta b(%10000100)
   257 5A7E 84						dta b(%10000100)
   258 							
   259 5A7F 20						dta b(%00100000)
   260 5A80 20						dta b(%00100000)
   261 5A81 00						dta b(%00000000)
   262 5A82 04						dta b(%00000100)
   263 5A83 04						dta b(%00000100)
   264 5A84 10						dta b(%00010000)
   265 5A85 00						dta b(%00000000)
   266 5A86 00						dta b(%00000000)
   267 5A87 14						dta b(%00010100)
   268 5A88 11						dta b(%00010001)
   269 5A89 21						dta b(%00100001)
   270 5A8A 20						dta b(%00100000)
   271 5A8B 00						dta b(%00000000)
   272 5A8C 00						dta b(%00000000)
   273 5A8D 00						dta b(%00000000)
   274 5A8E 00						dta b(%00000000)
   275
   276 							
   326 5A8F						icl 'bantyair.asm'
Source: bantyair.asm
     1 				;Obrona przeciwlotnicza
     2
     3 5A8F 00			liczbaPociskow	dta b(0)		;liczba obecnych pociskow
     4 5A90 00			opoznieniePocisku	dta b(0)	;equ 13	;po strzale opoznienie nastepnego strzalu minimalne
     5 5A91 00			maxPociskow	dta b(0)
     6
     7
     8 5A92			pociski		org *+5	;dta b(129,129,129,129,129)
     9 5A97			pociskiTlo	org *+5	;dta b(0,0,0,0,0)
    10 5A9C			pociskiX		org *+5	;dta b(0,0,0,0,0)
    11 5AA1			pociskiX0	org *+5	;dta b(0,0,0,0,0)
    12 5AA6			pociskiY		org *+5	;dta b(0,0,0,0,0)
    13 5AAB			pociskiY0	org *+5	;dta b(0,0,0,0,0)
    14 5AB0			pociskiY1	org *+5	;dta b(0,0,0,0,0)
    15 5AB5			pociskiDX	org *+5	;dta b(0,0,0,0,0)
    16 5ABA			pociskiDX0	org *+5	;dta b(0,0,0,0,0)		;pociskiDX/4+pozycja znakowa *4
    17 5ABF			pociskiDY	org *+5	;dta b(0,0,0,0,0)
    18 5AC4			pociskiDY0	org *+5	;dta b(0,0,0,0,0)		;pociskiDY/4
    19 5AC9			pociskiPlusX	org *+5	;dta b(0,0,0,0,0)
    20 5ACE			pociskiPlusY	org *+5	;dta b(0,0,0,0,0)
    21 5AD3			pociskiZnakX	org *+5	;dta b(0,0,0,0,0)
    22 5AD8			pociskiZnakY	org *+5	;dta b(0,0,0,0,0)
    23
    24 5ADD-61AB> 40 50 10 14 + pociskiOra 		dta b(%01000000,%01010000,%00010000,%00010100,%00000100,%00000101,%00000101,%00000001)
    25 = 0004			bit1	equ 4
    26
    27 5AE5 00 09 12 1B		tabcan3cor_ad	dta b(0,9,18,27)
    28 5AE9 31 01 20 F4 DF E3 + tabcan3corB		dta b(%00110001,%00000001,%00100000,0-28+16,-18-32+17,-17-28+16,7-32+17,-17-28+16,-5-32+17)
    29 5AF2 07 01 04 F4 DF 04 + 				dta b(%00000111,%00000001,%00000100,0-28+16,-18-32+17,16-28+16,-5-32+17,16-28+16,7-32+17)
    30 5AFB 38 08 20 F4 04 E3 + 				dta b(%00111000,%00001000,%00100000,0-28+16,19-32+17,-17-28+16,7-32+17,-17-28+16,-5-32+17)
    31 5B04 0E 08 04 F4 04 04 + 				dta b(%00001110,%00001000,%00000100,0-28+16,19-32+17,16-28+16,-5-32+17,16-28+16,7-32+17)
    32 								
    33 5B0D 23 20 02 DF F4 EC + tabcan3cor		dta b(%00100011,%00100000,%00000010,-18-32+17,0-28+16,-5-32+17,-17-28+16,8-32+17,-17-28+16)
    34 5B16 07 04 02 04 F4 EC + 				dta b(%00000111,%00000100,%00000010,19-32+17,0-28+16,-5-32+17,-17-28+16,8-32+17,-17-28+16)
    35 5B1F 38 20 10 DF F4 F9 + 				dta b(%00111000,%00100000,%00010000,-18-32+17,0-28+16,8-32+17,16-28+16,-5-32+17,16-28+16)
    36 5B28 1C 04 10 04 F4 F9 + 				dta b(%00011100,%00000100,%00010000,19-32+17,0-28+16,8-32+17,16-28+16,-5-32+17,16-28+16)
    37 								
    38 5B31 AA 7D 5E 4E 3F 2F + tabcankier		dta b($aa,$7d,$5e,$4e,$3f,$2f,$2f,$2f,$1f,$1f,$1f,$1f,$1f,$1f,$1f,0);$1f)	
    39 5B41 D6 AA 8C 6D 6E 5E + 				dta b($d6,$aa,$8c,$6d,$6e,$5e,$4e,$3e,$3e,$3e,$2e,$2e,$2f,$2f,$2f,0);$2f)
    40 5B51 E4 C8 AA 9C 7C 6D + 				dta b($e4,$c8,$aa,$9c,$7c,$6d,$6d,$5e,$4e,$4e,$4e,$3e,$3e,$3e,$3e,0);$3e)
    41 5B61 E3 D6 C9 AA 9B 8C + 				dta b($e3,$d6,$c9,$aa,$9b,$8c,$7d,$6d,$6d,$5e,$5e,$4e,$4e,$4e,$4e,0);$3e)
    42 5B71 E3 D5 C7 B9 AA 9B + 				dta b($e3,$d5,$c7,$b9,$aa,$9b,$8c,$8c,$7d,$6d,$6d,$5d,$5e,$5e,$4e,0);$4e)
    43 5B81 E2 E4 D6 C8 B9 AA + 				dta b($e2,$e4,$d6,$c8,$b9,$aa,$9b,$9c,$8c,$7c,$7d,$6d,$6d,$6d,$5e,0);$5e)
    44 5B91 E2 E4 D6 D7 C8 B9 + 				dta b($e2,$e4,$d6,$d7,$c8,$b9,$aa,$9b,$9b,$8c,$8c,$7d,$7d,$6d,$6d,0);$6d)
    45 5BA1 E2 E3 E5 D6 C8 C9 + 				dta b($e2,$e3,$e5,$d6,$c8,$c9,$b9,$aa,$ab,$9b,$8c,$8c,$7c,$7d,$7d,0);$6d)
    46 5BB1 E1 E3 E4 D6 D7 C8 + 				dta b($e1,$e3,$e4,$d6,$d7,$c8,$b9,$b9,$aa,$ab,$9b,$9c,$8c,$8c,$7c,0);$7d)
    47 5BC1 E1 E3 E4 E5 D6 C7 + 				dta b($e1,$e3,$e4,$e5,$d6,$c7,$c8,$b9,$ba,$aa,$ab,$9b,$9b,$8c,$8c,0);$8c)
    48 5BD1 F1 E2 E4 E5 D6 D7 + 				dta b($f1,$e2,$e4,$e5,$d6,$d7,$c8,$c8,$b9,$ba,$aa,$ab,$9b,$9b,$8c,0);$8c)
    49 5BE1 F1 E2 E3 E4 D5 D6 + 				dta b($f1,$e2,$e3,$e4,$d5,$d6,$d7,$c8,$c9,$b9,$ba,$aa,$ab,$9b,$9b,0);$9c)
    50 5BF1 F1 F2 E3 E4 E5 D6 + 				dta b($f1,$f2,$e3,$e4,$e5,$d6,$d7,$c7,$c8,$b9,$b9,$ba,$aa,$ab,$9b,0);$9b)
    51 5C01 F1 F2 E3 E4 E5 D6 + 				dta b($f1,$f2,$e3,$e4,$e5,$d6,$d6,$d7,$c8,$c8,$b9,$b9,$ba,$aa,$ab,0);$9b)
    52 								;dta b($f1,$f2,$e3,$e3,$e4,$e5,$d6,$d7,$c7,$c8,$c8,$b9,$b9,$ba,$aa,$ab)
    53 								;dta b($f1,$f1,$e2,$e3,$e4,$e5,$d6,$d6,$d7,$c8,$c8,$c9,$b9,$b9,$ba,$aa)
    54 							
    55 = 5C11			antyair1	equ *
    56 5C11 A5 24				lda startMapy
    57 5C13 F0 01				beq *+3
    58 5C15 60					rts
    59
    60 5C16 CE DD 9F				dec antyairOpoznienie
    61 5C19 F0 01				beq *+3
    62 5C1B 60					rts
    63 5C1C A9 01 8D DD 9F			mva #1 antyairOpoznienie
    64 5C21 AD 8F 5A				lda liczbaPociskow
    65 = 5C25			maxPociskow1	equ *+1
    66 5C24 C9 FF				cmp #$ff
    67 5C26 90 01				bcc *+3
    68 5C28 60					rts
    69 5C29 AE 1F 3D				ldx licznikBazyEkran
    70 5C2C D0 01				bne *+3
    71 5C2E 60					rts
    72
    73 5C2F 20 DF 5E				jsr wylosujbaze
    74 						
    75 5C32 BC 21 3D				ldy bazyEkran,x
    76 5C35 88					dey
    77 5C36 B9 00 8A				lda bazyRodzaj,y
    78 5C39 F0 03				beq @+		;baza typu A
    79 5C3B 4C 3B 5D				jmp antB1
    80 						
    81 = 5C3E			@		equ *	;Baza typu A
    82 5C3E A2 00				ldx #0	;nr cwiartki
    83
    84 5C40 18					clc
    85 5C41 B9 60 8A				lda bazyY0,y
    86 5C44 69 07				adc #7
    87 5C46 0A 0A				:2 asl
    88 5C48 85 3B				sta pom0d
    89 5C4A 38					sec
    90 5C4B E5 1C				sbc movy0
    91 5C4D 38					sec
    92 5C4E E9 43				sbc #67
    93 5C50 10 04				bpl @+
    94 5C52 A2 02				ldx #2
    95 5C54 49 FF				eor #255
    96
    97 5C56 C9 44		@		cmp #68		;czy spelnia zakres
    98 5C58 90 01				bcc @+
    99 5C5A 60					rts
   100 						
   101 5C5B 85 3D		@		sta pom0f
   102 5C5D 18					clc
   103 5C5E B9 40 8A				lda bazyX0,y
   104 5C61 69 08				adc #8
   105 5C63 0A 0A				:2 asl
   106 5C65 85 3A				sta pom0c
   107 5C67 38					sec
   108 5C68 E5 1B				sbc movx0
   109 5C6A 38					sec
   110 5C6B E9 4F				sbc #79
   111 5C6D 10 03				bpl @+
   112 5C6F E8					inx
   113 5C70 49 FF				eor #255
   114 						
   115 5C72 C9 4E		@		cmp #78		;czy spełnia zakres
   116 5C74 90 01				bcc @+
   117 5C76 60					rts
   118 						
   119 5C77 85 3C		@		sta pom0e
   120 5C79 BD E5 5A				lda tabcan3cor_ad,x		;pobieramy adres tablicy z korekcjami 3 działek dla danej cwiartki
   121 5C7C AA					tax
   122 5C7D B9 10 8A				lda bazyStan,y
   123 5C80 3D 0D 5B				and tabcan3cor,x		;porownaj z maską tych działek, sprawdzamy czy nie są wszystkie zestrzelone
   124 5C83 D0 01				bne @+
   125 5C85 60					rts			;brak tych działek
   126 						
   127 5C86 DD 0E 5B		@		cmp tabcan3cor+1,x
   128 5C89 F0 18				beq _bokA
   129 5C8B 3D 0E 5B				and tabcan3cor+1,x		;czy jest pion i poziom?
   130 5C8E F0 36				beq _goradolA
   131 						
   132 5C90 A5 3D				lda pom0f
   133 5C92 C9 11				cmp #17
   134 5C94 90 0D				bcc _bokA
   135 5C96 A5 3C				lda pom0e
   136 5C98 C9 13				cmp #19
   137 5C9A 90 2A				bcc _goradolA
   138 						
   139 5C9C AD 0A D2				lda random		;są oba losujemy które mogą strzelac
   140 5C9F 29 04				and #bit1
   141 5CA1 F0 23				beq _goradolA
   142 						
   143 = 5CA3			_bokA	equ *		;strzela boczne dzialko
   144 5CA3 A5 3C				lda pom0e
   145 5CA5 C9 13				cmp #19
   146 5CA7 B0 01				bcs @+
   147 5CA9 60					rts
   148 5CAA 18			@		clc
   149 5CAB A5 3A				lda pom0c
   150 5CAD 7D 10 5B				adc tabcan3cor+3,x
   151 5CB0 85 38				sta pom0a		;pozycja X pocisku
   152 5CB2 18					clc
   153 5CB3 A5 3B				lda pom0d
   154 5CB5 7D 11 5B				adc tabcan3cor+4,x
   155 5CB8 85 39				sta pom0b		;pozycja Y pocisku
   156 5CBA A9 FF 85 69				mva #$ff pom
   157 5CBE AD 2D 24 85 6B			mva kat2 pom1
   158 5CC3 4C 38 5E				jmp dodajPocisk
   159
   160 = 5CC6			_goradolA	equ *		;strzelaja dzialka gorne lub dolne zaleznie od polozenia		
   161 5CC6 A5 3D				lda pom0f
   162 5CC8 C9 11				cmp #17
   163 5CCA B0 01				bcs @+
   164 5CCC 60					rts
   165 5CCD BD 0D 5B		@		lda tabcan3cor,x
   166 5CD0 5D 0E 5B				eor tabcan3cor+1,x
   167 5CD3 39 10 8A				and bazyStan,y
   168 5CD6 DD 0F 5B				cmp tabcan3cor+2,x
   169 5CD9 90 28				bcc _pierwszeA
   170 5CDB F0 42				beq _drugieA
   171 							
   172 				;są oba
   173 5CDD AD 8F 5A		@		lda liczbaPociskow
   174 5CE0 CD 91 5A				cmp maxPociskow
   175 5CE3 B0 17				bcs @+				;za malo dostepnych pociskow , strzela tylko 1 dzialko
   176 						
   177 5CE5 A5 3C				lda pom0e
   178 5CE7 C9 11				cmp #17
   179 5CE9 B0 11				bcs @+			;jeśli statek jest daleko to strzela tylko 1 dzialko
   180 						
   181 5CEB AD 0A D2				lda random			;czy maja strzelic oba naraz?
   182 5CEE 29 04				and #bit1
   183 5CF0 F0 0A				beq @+		
   184 5CF2 86 37				stx pom0
   185 5CF4 20 03 5D				jsr _pierwszeA		;strzelają oba
   186 5CF7 A6 37				ldx pom0
   187 5CF9 4C 1F 5D				jmp _drugieA
   188 						
   189 5CFC AD 0A D2		@		lda random 
   190 5CFF 29 04				and #bit1
   191 5D01 F0 1C				beq _drugieA
   192 						
   193 = 5D03			_pierwszeA	equ *		;strzela pierwsze
   194 5D03 18					clc
   195 5D04 A5 3A				lda pom0c
   196 5D06 7D 12 5B				adc tabcan3cor+5,x
   197 5D09 85 38				sta pom0a
   198 5D0B 18					clc
   199 5D0C A5 3B				lda pom0d
   200 5D0E 7D 13 5B				adc tabcan3cor+6,x
   201 5D11 85 39				sta pom0b
   202 5D13 AD 2C 24 85 69			mva kat1 pom		;typ działka 
   203 5D18 A9 FF 85 6B				mva #$ff pom1
   204 5D1C 4C 38 5E				jmp dodajPocisk
   205 = 5D1F			_drugieA	equ *		;strzela drugie
   206 5D1F 18					clc
   207 5D20 A5 3A				lda pom0c
   208 5D22 7D 14 5B				adc tabcan3cor+7,x
   209 5D25 85 38				sta pom0a
   210 5D27 18					clc
   211 5D28 A5 3B				lda pom0d
   212 5D2A 7D 15 5B				adc tabcan3cor+8,x
   213 5D2D 85 39				sta pom0b
   214 5D2F AD 2C 24 85 69			mva kat1 pom
   215 5D34 A9 FF 85 6B				mva #$ff pom1
   216 5D38 4C 38 5E				jmp dodajPocisk
   217 						
   218 						
   219 = 5D3B			antB1	equ *	
   220 5D3B A2 00				ldx #0	;nr cwiartki
   221
   222 5D3D 18					clc
   223 5D3E B9 60 8A				lda bazyY0,y
   224 5D41 69 08				adc #8
   225 5D43 0A 0A				:2 asl
   226 5D45 85 3B				sta pom0d
   227 5D47 38					sec
   228 5D48 E5 1C				sbc movy0
   229 5D4A 38					sec
   230 5D4B E9 46				sbc #70
   231 5D4D 10 04				bpl @+
   232 5D4F A2 02				ldx #2
   233 5D51 49 FF				eor #255
   234
   235 5D53 C9 44		@		cmp #68		;czy spelnia zakres
   236 5D55 90 01				bcc @+
   237 5D57 60					rts
   238 						
   239 5D58 85 3D		@		sta pom0f
   240 5D5A 18					clc
   241 5D5B B9 40 8A				lda bazyX0,y
   242 5D5E 69 07				adc #7
   243 5D60 0A 0A				:2 asl
   244 5D62 85 3A				sta pom0c
   245 5D64 38					sec
   246 5D65 E5 1B				sbc movx0
   247 5D67 38					sec
   248 5D68 E9 4C				sbc #76
   249 5D6A 10 03				bpl @+
   250 5D6C E8					inx
   251 5D6D 49 FF				eor #255
   252 						
   253 5D6F C9 4E		@		cmp #78		;czy spełnia zakres
   254 5D71 90 01				bcc @+
   255 5D73 60					rts
   256 						
   257 5D74 85 3C		@		sta pom0e
   258 5D76 BD E5 5A				lda tabcan3cor_ad,x		;pobieramy adres tablicy z korekcjami 3 działek dla danej cwiartki
   259 5D79 AA					tax
   260 5D7A B9 10 8A				lda bazyStan,y
   261 5D7D 3D E9 5A				and tabcan3corB,x		;porownaj z maską tych działek, sprawdzamy czy nie są wszystkie zestrzelone
   262 5D80 D0 01				bne @+
   263 5D82 60					rts			;brak tych działek
   264 						
   265 5D83 DD EA 5A		@		cmp tabcan3corB+1,x
   266 5D86 F0 18				beq _bokB
   267 5D88 3D EA 5A				and tabcan3corB+1,x		;czy jest pion i poziom?
   268 5D8B F0 36				beq _goradolB
   269 						
   270 5D8D A5 3C				lda pom0e
   271 5D8F C9 11				cmp #17
   272 5D91 90 0D				bcc _bokB
   273 						
   274 5D93 A5 3D				lda pom0f
   275 5D95 C9 13				cmp #19
   276 5D97 90 2A				bcc _goradolB
   277 						
   278 5D99 AD 0A D2				lda random		;są oba losujemy które mogą strzelac
   279 5D9C 29 04				and #bit1
   280 5D9E D0 23				bne _goradolB
   281 						
   282 = 5DA0			_bokB	equ *		;strzela pojedyncze dzialko
   283 5DA0 A5 3D				lda pom0f
   284 5DA2 C9 13				cmp #19
   285 5DA4 B0 01				bcs @+
   286 5DA6 60					rts
   287 5DA7 18			@		clc
   288 5DA8 A5 3A				lda pom0c
   289 5DAA 7D EC 5A				adc tabcan3corB+3,x
   290 5DAD 85 38				sta pom0a		;pozycja X pocisku
   291 5DAF 18					clc
   292 5DB0 A5 3B				lda pom0d
   293 5DB2 7D ED 5A				adc tabcan3corB+4,x
   294 5DB5 85 39				sta pom0b		;pozycja Y pocisku
   295 5DB7 AD 2C 24 85 69			mva kat1 pom
   296 5DBC A9 FF 85 6B				mva #$ff pom1
   297 5DC0 4C 38 5E				jmp dodajPocisk
   298
   299 = 5DC3			_goradolB	equ *		;strzelaja dzialka podwojne 		
   300 5DC3 A5 3C				lda pom0e
   301 5DC5 C9 11				cmp #17
   302 5DC7 B0 01				bcs @+
   303 5DC9 60					rts
   304 5DCA BD E9 5A		@		lda tabcan3corB,x
   305 5DCD 5D EA 5A				eor tabcan3corB+1,x
   306 5DD0 39 10 8A				and bazyStan,y
   307 5DD3 DD EB 5A				cmp tabcan3corB+2,x
   308 5DD6 90 28				bcc _pierwszeB
   309 5DD8 F0 42				beq _drugieB
   310 							
   311 				;są oba
   312 5DDA AD 8F 5A		@		lda liczbaPociskow
   313 5DDD CD 91 5A				cmp maxPociskow
   314 5DE0 B0 17				bcs @+				;za malo dostepnych pociskow , strzela tylko 1 dzialko
   315 						
   316 5DE2 A5 3D				lda pom0f
   317 5DE4 C9 13				cmp #19
   318 5DE6 B0 11				bcs @+			;jeśli statek jest daleko to strzela tylko 1 dzialko
   319 						
   320 5DE8 AD 0A D2				lda random			;czy maja strzelic oba naraz?
   321 5DEB 29 04				and #bit1
   322 5DED F0 0A				beq @+		
   323 5DEF 86 37				stx pom0
   324 5DF1 20 00 5E				jsr _pierwszeB		;strzelają oba
   325 5DF4 A6 37				ldx pom0
   326 5DF6 4C 1C 5E				jmp _drugieB
   327 						
   328 5DF9 AD 0A D2		@		lda random 
   329 5DFC 29 04				and #bit1
   330 5DFE F0 1C				beq _drugieB
   331 						
   332 = 5E00			_pierwszeB	equ *		;strzela pierwsze
   333 5E00 18					clc
   334 5E01 A5 3A				lda pom0c
   335 5E03 7D EE 5A				adc tabcan3corB+5,x
   336 5E06 85 38				sta pom0a
   337 5E08 18					clc
   338 5E09 A5 3B				lda pom0d
   339 5E0B 7D EF 5A				adc tabcan3corB+6,x
   340 5E0E 85 39				sta pom0b
   341 5E10 A9 FF 85 69				mva #$ff pom		;typ działka 
   342 5E14 AD 2D 24 85 6B			mva kat2 pom1
   343 5E19 4C 38 5E				jmp dodajPocisk
   344 = 5E1C			_drugieB	equ *		;strzela drugie
   345 5E1C 18					clc
   346 5E1D A5 3A				lda pom0c
   347 5E1F 7D F0 5A				adc tabcan3corB+7,x
   348 5E22 85 38				sta pom0a
   349 5E24 18					clc
   350 5E25 A5 3B				lda pom0d
   351 5E27 7D F1 5A				adc tabcan3corB+8,x
   352 5E2A 85 39				sta pom0b
   353 5E2C A9 FF 85 69				mva #$ff pom
   354 5E30 AD 2D 24 85 6B			mva kat2 pom1
   355 5E35 4C 38 5E				jmp dodajPocisk
   356 						
   357 						
   358 						
   359 						
   360 						
   361 = 5E38			dodajPocisk	equ *
   362 5E38 AC 91 5A				ldy maxPociskow	;wybierz wolny pocisk
   363 5E3B B9 92 5A		@		lda pociski,y
   364 5E3E 30 03				bmi @+
   365 5E40 88					dey
   366 5E41 10 F8				bpl @-
   367 						
   368 									
   369 5E43 A5 38		@		lda pom0a
   370 5E45 18					clc
   371 5E46 E5 1B				sbc movx0
   372 5E48 38					sec
   373 5E49 E9 3F				sbc #63
   374 5E4B 99 D3 5A				sta pociskiZnakX,y		;kierunek ruchu, <0 prawo, >0 lewo
   375 5E4E 18					clc
   376 5E4F 10 03				bpl @+
   377 5E51 49 FF				eor #255
   378 5E53 38					sec				;przy zmianie znaku +1
   379 5E54 69 01		@		adc #1			;zaokrąglenie
   380 5E56 C9 40				cmp #64
   381 5E58 90 01				bcc @+
   382 5E5A 60					rts
   383 5E5B 4A 4A		@		:2 lsr
   384 5E5D 29 0F				and #%1111
   385 5E5F 85 CC				sta pom0g
   386 						
   387 5E61 A5 39				lda pom0b
   388 5E63 38					sec
   389 5E64 E5 1C				sbc movy0
   390 5E66 38					sec
   391 5E67 E9 37				sbc #55
   392 5E69 99 D8 5A				sta pociskiZnakY,y
   393 5E6C 18					clc
   394 5E6D 10 03				bpl @+
   395 5E6F 49 FF				eor #255
   396 5E71 38					sec
   397 5E72 69 01		@		adc #1
   398 5E74 29 3C				and #%00111100
   399 5E76 C9 34				cmp #13*4
   400 5E78 90 01				bcc @+
   401 5E7A 60					rts		;za daleko
   402 5E7B 0A 0A		@		:2 asl
   403 5E7D 05 CC				ora pom0g
   404 						
   405 5E7F AA					tax						;odczyt prędkości poruszanie się pocisku w osi X i Y
   406 5E80 BD 31 5B				lda tabcankier,x
   407 5E83 D0 01				bne @+					;jeśli zero to obiekt poza zasięgiem
   408 5E85 60					rts
   409 5E86 29 0F		@		and #%1111
   410 5E88 C5 69				cmp pom
   411 5E8A 90 01				bcc @+
   412 5E8C 60					rts				;za duzy kat
   413 5E8D 0A 0A		@		:2 asl					;dodajemy 2 zera na koncu
   414 5E8F 99 C9 5A				sta pociskiPlusX,y
   415 						
   416 5E92 BD 31 5B				lda tabcankier,x
   417 5E95 29 F0				and #%11110000
   418 5E97 C5 6B				cmp pom1
   419 5E99 90 01				bcc @+
   420 5E9B 60					rts
   421 5E9C 4A 4A		@		:2 lsr					;2 bity dx/dy, 4 bity po przecinku, 2 puste bity
   422 5E9E 99 CE 5A				sta pociskiPlusY,y
   423 						
   424 						
   425 5EA1 A5 38				lda pom0a	;ustalenie pozycji startowej pocisku
   426 5EA3 29 03				and #%11
   427 5EA5 4A					lsr			;2 najmlodsze bity ustawiamy jako 2 najstasze
   428 5EA6 6A 6A				:2 ror
   429 5EA8 99 B5 5A				sta pociskidx,y
   430 5EAB A5 38				lda pom0a
   431 5EAD 4A 4A				:2 lsr
   432 5EAF 18					clc
   433 5EB0 65 17				adc posX
   434 5EB2 29 7F				and #127
   435 5EB4 99 9C 5A				sta pociskiX,y
   436 						
   437 5EB7 A5 39				lda pom0b
   438 5EB9 29 03				and #%11
   439 5EBB 4A					lsr
   440 5EBC 6A 6A				:2 ror
   441 5EBE 99 BF 5A				sta pociskidy,y
   442 5EC1 A5 39				lda pom0b
   443 5EC3 4A 4A				:2 lsr
   444 5EC5 18					clc
   445 5EC6 65 18				adc posY
   446 5EC8 99 A6 5A				sta pociskiY,y
   447 						
   448 5ECB A9 00 99 92 5A			mva #0 pociski,y			;zajęcie pocisku
   449 5ED0 EE 8F 5A				inc liczbaPociskow	
   450 5ED3 AD 90 5A 8D DD 9F			mva opoznieniePocisku antyairOpoznienie
   451 5ED9 A9 18 8D 35 24			mva #12*2 sfx_antyair
   452 						
   453 5EDE 60					rts
   454 						
   455 = 5EDF			wylosujBaze	equ *
   456 5EDF E0 01				cpx #1
   457 5EE1 D0 02				bne @+
   458 5EE3 CA					dex
   459 5EE4 60					rts		;dla 1=0
   460 5EE5 E0 02		@		cpx #2
   461 5EE7 D0 09				bne @+
   462 5EE9 AD 0A D2				lda random
   463 5EEC 29 04				and #4
   464 5EEE 4A 4A				:2 lsr
   465 5EF0 AA					tax
   466 5EF1 60					rts
   467 5EF2 E0 04		@		cpx #4
   468 5EF4 D0 08				bne @+
   469 5EF6 AD 0A D2				lda random
   470 5EF9 29 06				and #%110
   471 5EFB 4A					lsr
   472 5EFC AA					tax
   473 5EFD 60					rts
   474 5EFE E0 08		@		cpx #8
   475 5F00 D0 08				bne @+
   476 5F02 AD 0A D2				lda random
   477 5F05 29 0E				and #%1110
   478 5F07 4A					lsr
   479 5F08 AA					tax
   480 5F09 60					rts
   481 						
   482 						
   483 5F0A BD 18 5F		@		lda tabwyl1-3,x
   484 5F0D 85 37				sta pom0
   485 						
   486 5F0F A2 FF				ldx #255
   487 5F11 AD 0A D2				lda random
   488 						
   489 5F14 38					sec
   490 5F15 E8			@		inx
   491 5F16 E5 37				sbc pom0
   492 5F18 B0 FB				bcs @-
   493 5F1A 60					rts
   494 						
   495 5F1B 55 00 33 2A 24	tabwyl1	dta b(85,0,51,42,36)	
   496
   497 						
   498 = 5F20			movePociski1	equ *
   499 5F20 AE 91 5A				ldx maxPociskow
   500 5F23 BD 92 5A		@		lda pociski,x
   501 5F26 10 04				bpl @+
   502 = 5F28			movepnext1	equ *
   503 5F28 CA					dex
   504 5F29 10 F8				bpl @-
   505 5F2B 60					rts
   506 						
   507 5F2C BD D3 5A		@		lda pociskiZnakX,x
   508 5F2F 10 17				bpl @+
   509 5F31 18					clc
   510 5F32 BD B5 5A				lda pociskiDX,x
   511 5F35 7D C9 5A				adc pociskiPlusX,x
   512 5F38 9D B5 5A				sta pociskiDX,x
   513 5F3B BD 9C 5A				lda pociskiX,x
   514 5F3E 69 00				adc #0
   515 5F40 29 7F				and #127
   516 5F42 9D 9C 5A				sta pociskiX,x
   517 5F45 4C 5C 5F				jmp @+1
   518
   519 						
   520 5F48 38			@		sec
   521 5F49 BD B5 5A				lda pociskiDX,x
   522 5F4C FD C9 5A				sbc pociskiPlusX,x
   523 5F4F 9D B5 5A				sta pociskiDX,x
   524 5F52 BD 9C 5A				lda pociskiX,x
   525 5F55 E9 00				sbc #0
   526 5F57 29 7F				and #127
   527 5F59 9D 9C 5A				sta pociskiX,x
   528 					
   529 5F5C BD D8 5A		@		lda pociskiZnakY,x
   530 5F5F 10 12				bpl @+1
   531 5F61 18					clc
   532 5F62 BD BF 5A				lda pociskiDY,x
   533 5F65 7D CE 5A				adc pociskiPlusY,x
   534 5F68 9D BF 5A				sta pociskiDY,x
   535 5F6B 90 BB				bcc movepnext1
   536 5F6D FE A6 5A				inc pociskiY,x
   537 5F70 4C 28 5F		@		jmp movepnext1
   538 						
   539 5F73 38			@		sec
   540 5F74 BD BF 5A				lda pociskiDY,x
   541 5F77 FD CE 5A				sbc pociskiPlusY,x
   542 5F7A 9D BF 5A				sta pociskiDY,x
   543 5F7D B0 A9				bcs movepnext1
   544 5F7F DE A6 5A				dec pociskiY,x
   545 						
   546 5F82 4C 28 5F		@		jmp movepnext1
   547 						
   548 5F85 45 46 47 48 49	pociskiCharTab	:5 dta b(firstPociskChar+#)
   549 5F8A 28 30 38 40 48	pociskiAdTab	:5 dta b(<(znaki1+(firstPociskChar+#)*8))
   550 5F8F BA BA BA BA BA					:5 dta b(>(znaki1+(firstPociskChar+#)*8))
   551
   552 				;rysuj pociski
   553 = 5F94			printPociski	equ *
   554 5F94 AE 91 5A				ldx maxPociskow
   555 = 5F97			proc_next1	equ *
   556 5F97 BD 92 5A				lda pociski,x
   557 5F9A 10 04				bpl @+
   558 = 5F9C			poc_next	equ *
   559 5F9C CA					dex
   560 5F9D 10 F8				bpl proc_next1
   561 5F9F 60					rts
   562 						
   563 5FA0 38			@		sec
   564 5FA1 BD A6 5A				lda pociskiY,x
   565 5FA4 E5 18				sbc posY
   566 5FA6 C9 1D				cmp #29
   567 5FA8 90 0A				bcc @+
   568 5FAA DE 92 5A				dec pociski,x		;0-1 = 255
   569 5FAD CE 8F 5A				dec liczbaPociskow
   570 5FB0 CA					dex
   571 5FB1 10 E4				bpl proc_next1
   572 5FB3 60					rts
   573 						
   574 5FB4 9D AB 5A		@		sta pociskiY0,x	
   575 5FB7 A8					tay
   576 5FB8 0A 0A				:2 asl
   577 5FBA 85 3A				sta pom0c
   578 						
   579 5FBC B1 71				lda (screenL),y
   580 5FBE 85 6B				sta pom1
   581 5FC0 B1 73				lda (screenH),y
   582 5FC2 85 6C				sta pom1+1	
   583 							
   584 5FC4 BD 9C 5A				lda pociskiX,x
   585 5FC7 38					sec
   586 5FC8 E5 17				sbc posX
   587 5FCA A8					tay
   588 5FCB B9 00 13				lda tabX,y
   589 5FCE C9 21				cmp #33
   590 5FD0 90 0A				bcc @+
   591 5FD2 DE 92 5A				dec pociski,x
   592 5FD5 CE 8F 5A				dec liczbaPociskow
   593 5FD8 CA					dex
   594 5FD9 10 BC				bpl proc_next1
   595 5FDB 60					rts
   596 						
   597 5FDC 9D A1 5A		@		sta pociskiX0,x
   598 5FDF A8					tay
   599 5FE0 0A 0A				:2 asl
   600 5FE2 85 39				sta pom0b
   601 						
   602 5FE4 B1 6B				lda (pom1),y
   603 5FE6 85 37				sta pom0
   604 5FE8 29 80				and #128
   605 5FEA 1D 85 5F				ora pociskiCharTab,x
   606 5FED 91 6B				sta (pom1),y
   607 						
   608 5FEF BD 8A 5F				lda pociskiAdTab,x		;adres znaku pocisku
   609 5FF2 85 69				sta pom
   610 5FF4 BD 8F 5F				lda pociskiAdTab+5,x
   611 5FF7 05 D1				ora ramka4
   612 5FF9 85 6A				sta pom+1
   613 						
   614 5FFB A5 37				lda pom0
   615 5FFD 29 7F				and #127
   616 5FFF 9D 97 5A				sta pociskiTlo,x
   617 						
   618 6002 C9 03				cmp #3
   619 6004 B0 1D				bcs @+
   620 						
   621 6006 BD BF 5A				lda pociskiDY,x
   622 6009 29 C0				and #%11000000
   623 600B 0A					asl
   624 600C 2A 2A				:2 rol
   625 				 
   626 600E A8					tay
   627 600F 05 3A				ora pom0c
   628 6011 9D C4 5A				sta pociskiDY0,x
   629 6014 B9 67 60				lda pociskiSkokL+4,y		;skok do procedury rysowania
   630 6017 8D 61 60				sta _pociskiJump+1
   631 601A B9 6F 60				lda pociskiSkokH+4,y
   632 601D 8D 62 60				sta _pociskiJump+2
   633 6020 4C 4A 60				jmp @+1			
   634
   635 6023 A8			@		tay
   636 6024 B9 00 15				lda adresZnakL,y			;adres znaku pod pociskiem,tlo
   637 6027 85 6B				sta pom1
   638 6029 B9 00 16				lda adresZnakH,y
   639 602C 05 D1				ora ramka4
   640 602E 85 6C				sta pom1+1
   641 								
   642 6030 BD BF 5A				lda pociskiDY,x
   643 6033 29 C0				and #%11000000
   644 6035 0A					asl
   645 6036 2A 2A				:2 rol
   646
   647 6038 A8					tay
   648 6039 05 3A				ora pom0c
   649 603B 9D C4 5A				sta pociskiDY0,x
   650 603E B9 63 60				lda pociskiSkokL,y		;skok do procedury rysowania
   651 6041 8D 61 60				sta _pociskiJump+1
   652 6044 B9 6B 60				lda pociskiSkokH,y
   653 6047 8D 62 60				sta _pociskiJump+2
   654 						
   655 604A BD B5 5A		@		lda pociskiDX,x
   656 604D 4A 4A 4A 4A 4A			:5 lsr
   657 						
   658 6052 A8					tay
   659 6053 4A					lsr
   660 6054 05 39				ora pom0b
   661 6056 9D BA 5A				sta pociskiDX0,x
   662 						
   663 6059 B9 DD 5A				lda pociskiOra,y
   664 605C 85 38				sta pom0a	;ora dla ksztaltu pocisku
   665
   666 605E A0 00				ldy #0
   667 = 6060			_pociskiJump	equ *
   668 6060 4C FF FF				jmp $ffff			;w procedurach rysowania należy wpisać-> jmp poc_next, wtedy tutaj moze byc jmp zamiast jsr (+6cykli)
   669
   670
   671 6063 73 A3 D1 01		pociskiSkokL	dta b(<pociskiDY00),b(<pociskiDY2),b(<pociskiDY4),b(<pociskiDY6)
   672 6067 2F 51 70 8F						dta b(<pociskiDY00b),b(<pociskiDY2b),b(<pociskiDY4b),b(<pociskiDY6b)
   673 606B 60 60 60 61		pociskiSkokH	dta b(>pociskiDY00),b(>pociskiDY2),b(>pociskiDY4),b(>pociskiDY6)
   674 606F 61 61 61 61						dta b(>pociskiDY00b),b(>pociskiDY2b),b(>pociskiDY4b),b(>pociskiDY6b)
   675 								
   676 = 6073			pociskiDY00	equ *
   677 						.rept 3
   678 						LDA (POM1),Y
   679 						EOR POM0A
   680 						STA (POM),Y
   681 						INY
   682 						.ENDR
   682 						.endr
Source: REPT
   678 6073 B1 6B				LDA (POM1),Y
   678 6075 45 38				EOR POM0A
   678 6077 91 69				STA (POM),Y
   678 6079 C8					INY
   678 607A B1 6B				LDA (POM1),Y
   678 607C 45 38				EOR POM0A
   678 607E 91 69				STA (POM),Y
   678 6080 C8					INY
   678 6081 B1 6B				LDA (POM1),Y
   678 6083 45 38				EOR POM0A
   678 6085 91 69				STA (POM),Y
   678 6087 C8					INY
Source: bantyair.asm
   683 						.rept 4
   684 						LDA (POM1),Y
   685 						STA (POM),Y
   686 						INY
   687 						.ENDR
   687 						.endr
Source: REPT
   684 6088 B1 6B				LDA (POM1),Y
   684 608A 91 69				STA (POM),Y
   684 608C C8					INY
   684 608D B1 6B				LDA (POM1),Y
   684 608F 91 69				STA (POM),Y
   684 6091 C8					INY
   684 6092 B1 6B				LDA (POM1),Y
   684 6094 91 69				STA (POM),Y
   684 6096 C8					INY
   684 6097 B1 6B				LDA (POM1),Y
   684 6099 91 69				STA (POM),Y
   684 609B C8					INY
Source: bantyair.asm
   688 609C B1 6B				lda (pom1),y
   689 609E 91 69				sta (pom),y
   690 60A0 4C 9C 5F				jmp poc_next	
   691 						
   692 = 60A3			pociskiDY2	equ *
   693 60A3 B1 6B				lda (pom1),y
   694 60A5 91 69				sta (pom),y
   695 60A7 C8					iny
   696 60A8 B1 6B				lda (pom1),y
   697 60AA 91 69				sta (pom),y
   698 60AC C8					iny
   699 						.rept 2
   700 						LDA (POM1),Y
   701 						EOR POM0A
   702 						STA (POM),Y
   703 						INY
   704 						.ENDR
   704 						.endr
Source: REPT
   700 60AD B1 6B				LDA (POM1),Y
   700 60AF 45 38				EOR POM0A
   700 60B1 91 69				STA (POM),Y
   700 60B3 C8					INY
   700 60B4 B1 6B				LDA (POM1),Y
   700 60B6 45 38				EOR POM0A
   700 60B8 91 69				STA (POM),Y
   700 60BA C8					INY
Source: bantyair.asm
   705 						.rept 3
   706 						LDA (POM1),Y
   707 						STA (POM),Y
   708 						INY
   709 						.ENDR
   709 						.endr
Source: REPT
   706 60BB B1 6B				LDA (POM1),Y
   706 60BD 91 69				STA (POM),Y
   706 60BF C8					INY
   706 60C0 B1 6B				LDA (POM1),Y
   706 60C2 91 69				STA (POM),Y
   706 60C4 C8					INY
   706 60C5 B1 6B				LDA (POM1),Y
   706 60C7 91 69				STA (POM),Y
   706 60C9 C8					INY
Source: bantyair.asm
   710 60CA B1 6B				lda (pom1),y
   711 60CC 91 69				sta (pom),y
   712 60CE 4C 9C 5F				jmp poc_next
   713 					
   714 = 60D1			pociskiDY4	equ *
   715 						.rept 3
   716 						LDA (POM1),Y
   717 						STA (POM),Y
   718 						INY
   719 						.ENDR
   719 						.endr
Source: REPT
   716 60D1 B1 6B				LDA (POM1),Y
   716 60D3 91 69				STA (POM),Y
   716 60D5 C8					INY
   716 60D6 B1 6B				LDA (POM1),Y
   716 60D8 91 69				STA (POM),Y
   716 60DA C8					INY
   716 60DB B1 6B				LDA (POM1),Y
   716 60DD 91 69				STA (POM),Y
   716 60DF C8					INY
Source: bantyair.asm
   720 						.rept 3
   721 						LDA (POM1),Y
   722 						EOR POM0A
   723 						STA (POM),Y
   724 						INY
   725 						.ENDR
   725 						.endr
Source: REPT
   721 60E0 B1 6B				LDA (POM1),Y
   721 60E2 45 38				EOR POM0A
   721 60E4 91 69				STA (POM),Y
   721 60E6 C8					INY
   721 60E7 B1 6B				LDA (POM1),Y
   721 60E9 45 38				EOR POM0A
   721 60EB 91 69				STA (POM),Y
   721 60ED C8					INY
   721 60EE B1 6B				LDA (POM1),Y
   721 60F0 45 38				EOR POM0A
   721 60F2 91 69				STA (POM),Y
   721 60F4 C8					INY
Source: bantyair.asm
   726 60F5 B1 6B				lda (pom1),y
   727 60F7 91 69				sta (pom),y
   728 60F9 C8					iny
   729 60FA B1 6B				lda (pom1),y
   730 60FC 91 69				sta (pom),y
   731 60FE 4C 9C 5F				jmp poc_next
   732 						
   733 = 6101			pociskiDY6	equ *
   734 						.rept 6
   735 						LDA (POM1),Y
   736 						STA (POM),Y
   737 						INY
   738 						.ENDR
   738 						.endr
Source: REPT
   735 6101 B1 6B				LDA (POM1),Y
   735 6103 91 69				STA (POM),Y
   735 6105 C8					INY
   735 6106 B1 6B				LDA (POM1),Y
   735 6108 91 69				STA (POM),Y
   735 610A C8					INY
   735 610B B1 6B				LDA (POM1),Y
   735 610D 91 69				STA (POM),Y
   735 610F C8					INY
   735 6110 B1 6B				LDA (POM1),Y
   735 6112 91 69				STA (POM),Y
   735 6114 C8					INY
   735 6115 B1 6B				LDA (POM1),Y
   735 6117 91 69				STA (POM),Y
   735 6119 C8					INY
   735 611A B1 6B				LDA (POM1),Y
   735 611C 91 69				STA (POM),Y
   735 611E C8					INY
Source: bantyair.asm
   739 611F B1 6B				lda (pom1),y
   740 6121 45 38				eor pom0a
   741 6123 91 69				sta (pom),y
   742 6125 C8					iny
   743 6126 B1 6B				lda (pom1),y
   744 6128 45 38				eor pom0a
   745 612A 91 69				sta (pom),y
   746 612C 4C 9C 5F				jmp poc_next	
   747
   748 				;rysujemy na pustym znaku
   749 = 612F			pociskiDY00b	equ *
   750
   751 612F A5 38				lda pom0a
   752 6131 91 69				sta (pom),y
   753 6133 C8					iny
   754 6134 A5 38				lda pom0a
   755 6136 91 69				sta (pom),y
   756 6138 C8					iny
   757 6139 A5 38				lda pom0a
   758 613B 91 69				sta (pom),y
   759 613D C8					iny
   760 613E A9 00				lda #0
   761 6140 91 69				sta (pom),y
   762 6142 C8					iny
   763 6143 91 69				sta (pom),y
   764 6145 C8					iny
   765 6146 91 69				sta (pom),y
   766 6148 C8					iny
   767 6149 91 69				sta (pom),y
   768 614B C8					iny
   769 614C 91 69				sta (pom),y
   770
   771 614E 4C 9C 5F				jmp poc_next	
   772 						
   773 = 6151			pociskiDY2b	equ *
   774 6151 98					tya
   775 6152 91 69				sta (pom),y
   776 6154 C8					iny
   777 6155 91 69				sta (pom),y
   778 6157 A0 04				ldy #4
   779 6159 91 69				sta (pom),y
   780 615B C8					iny
   781 615C 91 69				sta (pom),y
   782 615E C8					iny
   783 615F 91 69				sta (pom),y
   784 6161 C8					iny
   785 6162 91 69				sta (pom),y
   786 6164 A0 02				ldy #2
   787 6166 A5 38				lda pom0a
   788 6168 91 69				sta (pom),y
   789 616A C8					iny
   790 616B 91 69				sta (pom),y
   791
   792 616D 4C 9C 5F				jmp poc_next
   793 					
   794 = 6170			pociskiDY4b	equ *
   795 6170 98					tya
   796 6171 91 69				sta (pom),y
   797 6173 C8					iny
   798 6174 91 69				sta (pom),y
   799 6176 C8					iny
   800 6177 91 69				sta (pom),y
   801 6179 A0 06				ldy #6
   802 617B 91 69				sta (pom),y
   803 617D C8					iny
   804 617E 91 69				sta (pom),y
   805 6180 A0 03				ldy #3
   806 6182 A5 38				lda pom0a
   807 6184 91 69				sta (pom),y
   808 6186 C8					iny
   809 6187 91 69				sta (pom),y
   810 6189 C8					iny
   811 618A 91 69				sta (pom),y
   812
   813 618C 4C 9C 5F				jmp poc_next
   814 						
   815 = 618F			pociskiDY6b	equ *
   816 618F 98					tya
   817 6190 91 69				sta (pom),y
   818 6192 C8					iny
   819 6193 91 69				sta (pom),y
   820 6195 C8					iny
   821 6196 91 69				sta (pom),y
   822 6198 C8					iny
   823 6199 91 69				sta (pom),y
   824 619B C8					iny
   825 619C 91 69				sta (pom),y
   826 619E C8					iny
   827 619F 91 69				sta (pom),y
   828 61A1 C8					iny
   829 61A2 A5 38				lda pom0a
   830 61A4 91 69				sta (pom),y
   831 61A6 C8					iny
   832 61A7 91 69				sta (pom),y
   833 						
   834 61A9 4C 9C 5F				jmp poc_next
   327 							
   328 61AC						icl 'wybuch.asm'
Source: wybuch.asm
     1 = 0020			maxWybuchow 	equ 32
     2 						
     3 61AC			wybuchyX0	org *+maxWybuchow		;:maxWybuchow dta b(0)
     4 61CC			wybuchyY0	org *+maxWybuchow		;:maxWybuchow dta b(0)
     5 61EC			wybuchyStart	org *+1				;dta b(0)
     6 61ED			wybuchyStop	org *+1				;dta b(0)
     7 61EE			wybuchyX		org *+maxWybuchow		;:maxWybuchow dta b(0)
     8 620E			wybuchyY		org *+maxWybuchow		;:maxWybuchow dta b(0)
     9 622E			wybuchyLicznik	org *+maxWybuchow		;:maxWybuchow dta b(0)
    10
    11
    12 = 0008			mwyb			equ 8
    13 624E			mwybuchyStart	org *+1	;dta b(0)
    14 624F			mwybuchyStop	org *+1	;dta b(0)
    15 6250			mwybuchyX		org *+mwyb	;:mwyb dta b(0)
    16 6258			mwybuchyY		org *+mwyb	;:mwyb dta b(0)
    17 6260			mwybuchyLicznik	org *+mwyb	;:mwyb dta b(0)
    18 6268			mwybuchyTyp		org *+mwyb	;:mwyb dta b(0)
    19
    20
    21 = 6270			dodajMalyWybuch	equ *
    22 6270-6E91> 84 CC				sty pom0g	;zapamietaj Y
    23 6272 AC 4F 62				ldy mwybuchyStop
    24 						
    25 6275 BD A2 6E				lda rakietyX,x
    26 6278 99 50 62				sta mwybuchyX,y
    27 627B BD B2 6E				lda rakietyY,x
    28 627E 99 58 62				sta mwybuchyY,y
    29 6281 A9 06 99 60 62			mva #6 mwybuchyLicznik,y	
    30 6286 BD 9A 6E				lda rakietyTyp,x
    31 6289 4A					lsr ;podziel przez 2
    32 628A 99 68 62				sta mwybuchyTyp,y
    33 628D C8					iny
    34 628E 98					tya
    35 628F 29 07				and #%111		;max 16 wybuchy
    36 6291 8D 4F 62				sta mwybuchyStop
    37 						
    38 6294 A4 CC				ldy pom0g
    39 6296 60					rts
    40 						
    41 = 6297			rysujmWybuchy	equ *
    42 6297 AD 4E 62				lda mwybuchyStart
    43 629A 29 07				and #%111
    44 629C AA					tax
    45 629D CD 4F 62				cmp mwybuchyStop
    46 62A0 D0 01				bne mrwy1
    47 62A2 60					rts
    48 						
    49 62A3 BD 50 62		mrwy1	lda mwybuchyX,x
    50 62A6 38					sec
    51 62A7 E5 17				sbc posX
    52 62A9 A8					tay
    53 62AA B9 00 13				lda tabX,y
    54 62AD 18					clc
    55 62AE 69 01				adc #1
    56 62B0 C9 22				cmp #34
    57 62B2 B0 50				bcs mrwy2
    58 						
    59 62B4 69 07				adc #7
    60 62B6 85 37				sta pom0
    61 						
    62 62B8 38					sec
    63 62B9 BD 58 62				lda mwybuchyY,x
    64 62BC E5 18				sbc posY
    65 62BE 18					clc
    66 62BF 69 01				adc #1
    67 62C1 C9 1E				cmp #lenDlist+1
    68 62C3 B0 3F				bcs mrwy2
    69 						
    70 62C5 A8					tay
    71 						
    72 62C6 A5 1F				lda ramka
    73 62C8 D0 11				bne @+
    74 						
    75 62CA 18					clc
    76 62CB B9 07 17				lda obraz1La+7,y
    77 62CE 65 37				adc pom0
    78 62D0 85 69				sta pom
    79 62D2 B9 2C 17				lda obraz1Ha+7,y
    80 62D5 69 00				adc #0
    81 62D7 85 6A				sta pom+1
    82 62D9 D0 0F				bne @+1	;skok bezwarunkowy
    83 62DB 18			@		clc
    84 62DC B9 51 17				lda obraz2La+7,y
    85 62DF 65 37				adc pom0
    86 62E1 85 69				sta pom
    87 62E3 B9 76 17				lda obraz2Ha+7,y
    88 62E6 69 00				adc #0
    89 62E8 85 6A				sta pom+1
    90 						
    91 62EA BD 68 62		@		lda mwybuchyTyp,x
    92 62ED D0 0C				bne @+
    93 						
    94 62EF A0 00				ldy #0
    95 62F1 A9 3F				lda #firstMalyWybuchChar
    96 62F3 91 69				sta (pom),y
    97 62F5 A0 30				ldy #48
    98 62F7 91 69				sta (pom),y
    99 62F9 D0 09				bne mrwy2
   100 						
   101 62FB A0 00		@		ldy #0
   102 62FD A9 40				lda #firstMalyWybuchChar+1
   103 62FF 91 69				sta (pom),y
   104 6301 C8					iny
   105 6302 91 69				sta (pom),y
   106 						
   107 6304 DE 60 62		mrwy2	dec mwybuchyLicznik,x
   108 6307 D0 03				bne @+
   109 6309 EE 4E 62				inc mwybuchyStart	
   110 						
   111 630C E8			@		inx
   112 630D 8A					txa 
   113 630E 29 07				and #%111
   114 6310 AA					tax
   115 6311 EC 4F 62				cpx mwybuchyStop
   116 6314 D0 8D				jne mrwy1
   117 						
   118 6316 60					rts
   119
   120 				;dodaje wybuch
   121 = 6317			dodajWybuch		equ *		;X w Aku , Y w y
   122 6317 8E 31 63				stx bufwyb+1
   123 						
   124 631A AE ED 61				ldx wybuchyStop
   125 631D 9D EE 61				sta wybuchyX,x
   126 6320 98					tya
   127 6321 9D 0E 62				sta wybuchyY,x
   128 6324 A9 00 9D 2E 62			mva #0 wybuchyLicznik,x
   129 6329 E8					inx
   130 632A 8A					txa
   131 632B 29 1F				and #%11111		;max 32 wybuchy
   132 632D 8D ED 61				sta wybuchyStop
   133 = 6330			bufwyb	equ *		
   134 6330 A2 00				ldx #0
   135 6332 60					rts
   136 						
   137 						
   138 				;rysuje duze wybuchy		
   139 = 6333			rysujWybuchy	equ *
   140 6333 AD EC 61				lda wybuchyStart
   141 6336 29 1F				and #%11111
   142 6338 AA					tax
   143 6339 CD ED 61				cmp wybuchyStop
   144 633C D0 01				bne rwy1
   145 633E 60					rts
   146
   147 633F BD EE 61		rwy1	lda wybuchyX,x
   148 6342 38					sec
   149 6343 E5 17				sbc posX
   150 6345 A8					tay
   151 6346 B9 00 13				lda tabX,y
   152 6349 9D AC 61				sta wybuchyX0,x
   153 634C 18					clc
   154 634D 69 01				adc #1
   155 634F C9 22				cmp #34
   156 6351 B0 57				bcs rwy2
   157 						
   158 6353 69 07				adc #7
   159 6355 85 37				sta pom0		;pozycja X
   160 						
   161 6357 38					sec
   162 6358 BD 0E 62				lda wybuchyY,x
   163 635B E5 18				sbc posY
   164 635D 9D CC 61				sta wybuchyY0,x
   165 6360 18					clc
   166 6361 69 01				adc #1
   167 6363 C9 1E				cmp #lenDlist+1
   168 6365 B0 43				bcs rwy2
   169 						
   170 6367 A8					tay
   171 						
   172 6368 A5 1F				lda ramka
   173 636A D0 11				bne @+
   174 						
   175 636C 18					clc
   176 636D B9 07 17				lda obraz1La+7,y
   177 6370 65 37				adc pom0
   178 6372 85 69				sta pom
   179 6374 B9 2C 17				lda obraz1Ha+7,y
   180 6377 69 00				adc #0
   181 6379 85 6A				sta pom+1
   182 637B D0 0F				bne @+1	;skok bezwarunkowy
   183 637D 18			@		clc
   184 637E B9 51 17				lda obraz2La+7,y
   185 6381 65 37				adc pom0
   186 6383 85 69				sta pom
   187 6385 B9 76 17				lda obraz2Ha+7,y
   188 6388 69 00				adc #0
   189 638A 85 6A				sta pom+1
   190 						
   191 638C BD 2E 62		@		lda wybuchyLicznik,x
   192 638F 29 FC				and #%11111100
   193 						
   194 6391 18					clc
   195 6392 69 AF				adc #firstWybuchChar+128
   196 						
   197 6394 A0 00				ldy #0
   198 6396 91 69				sta (pom),y
   199 6398 A0 30				ldy #48
   200 639A 69 01				adc #1
   201 639C 91 69				sta (pom),y
   202 639E A0 01				ldy #1
   203 63A0 69 01				adc #1
   204 63A2 91 69				sta (pom),y
   205 63A4 A0 31				ldy #49
   206 63A6 69 01				adc #1
   207 63A8 91 69				sta (pom),y
   208 						
   209 63AA BD 2E 62		rwy2	lda wybuchyLicznik,x
   210 63AD 18					clc
   211 63AE 69 02				adc #2		;3
   212 63B0 C9 0F				cmp #15		;20
   213 63B2 90 03				bcc @+
   214 63B4 EE EC 61				inc wybuchyStart
   215 						
   216 63B7 9D 2E 62		@		sta wybuchyLicznik,x
   217 63BA E8					inx
   218 63BB 8A					txa
   219 63BC 29 1F				and #%11111
   220 63BE AA					tax
   221 63BF EC ED 61				cpx wybuchyStop		;czykoniec?
   222 63C2 F0 03 4C 3F 63			jne rwy1
   223 						
   224 63C7 60					rts
   225 						
   226
   227 						
   228 						
   229 						
   329 63C8						icl 'time.asm'
Source: time.asm
     1 63C8 00			punkty	dta b(0)	
     2 63C9 0A			punkty1	dta b(10)
     3 63CA 03			punkty2	dta b(opoznienieRed)
     4 63CB 07			punkty3	dta b(opoznienieCondition)
     5 63CC 00			kondycja dta b(0)
     6
     7 63CD 00			speedEnemy0	dta b(0)
     8 63CE 00			timeLevel	dta b(0)
     9 63CF 16 15 14 14 13	timeBonus	dta b(22),b(21),(20),b(20),b(19)
    10 = 0001			kondycja_start	equ 1
    11 63D4 10 0E 0C 0A 0A	conYellow		dta b(16),b(14),b(12),b(10),b(10)
    12 63D9 12 11 10 0F 0D	con1enemy		dta b(18),b(17),b(16),b(15),b(13)
    13 63DE 21 1E 1C 1B 1A	con2enemy		dta b(33),b(30),b(28),b(27),b(26)
    14 63E3 4B 3C 2D 22 1B	con3enemy		dta b(75),b(60),b(45),b(34),b(27)
    15 63E8 89 7F 78 75 70	spyend			dta b(137),b(127),b(120),b(117),b(112)
    16 63ED 96 8C 86 80 7C	conred			dta b(150),b(140),b(134),b(128),b(124)
    17 63F2 9A 90 8A 84 80	con45enemy		dta b(154),b(144),b(138),b(132),b(128)
    18 63F7 F0 F0 F0 E6 E6	conUpSpeed		dta b(240),b(240),b(240),b(230),b(230)
    19 = 0003			opoznienieRed		equ 3
    20 = 0007			opoznienieCondition	equ 7
    21 63FC 00			nobanner		dta b(0)
    22 63FD 01			fazaop		dta b(1)
    23
    24 				;zdarzenia czasowe
    25 = 63FE			timeEvents	equ *
    26 63FE CE C8 63				dec punkty		;mryganie "1UP"
    27 6401 D0 0E				bne @+
    28 6403 A9 05 8D C8 63			mva #5 punkty
    29 6408 AD 22 22				lda kolor1up
    30 640B 4D 15 12				eor kolor1ups
    31 640E 8D 22 22				sta kolor1up
    32
    33 						
    34 = 6411			@		equ *
    35 6411 CE C9 63				dec punkty1		;mryganie gwiazd
    36 6414 D0 0F				bne @+
    37 6416 A9 0A 8D C9 63			mva #10 punkty1
    38 641B CE B5 3D				dec gwiazdyLicznik
    39 641E 10 05				bpl @+
    40 6420 A9 02 8D B5 3D			mva #2 gwiazdyLicznik		
    41 = 6425			@		equ *	
    42 						
    43 6425 A5 23				lda trafienie
    44 6427 05 24				ora startMapy
    45 6429 0D 7D 22				ora formacja_stan		;formacja_stan musi byc =0
    46 642C F0 01				beq *+3
    47 642E 60					rts
    48 						
    49 					
    50 642F AE CE 63				ldx timeLevel		;poziom trudnosci
    51 6432 CE CB 63				dec punkty3
    52 6435 F0 03 4C F9 64			jne kmryg
    53 643A A9 07 8D CB 63			mva #opoznienieCondition punkty3
    54 643F AD CC 63				lda kondycja		;ustawiamy kondycje
    55 6442 D0 03 4C 03 65			jeq kmryg1
    56 6447 EE CC 63				inc kondycja
    57 644A C9 01				cmp #1
    58 644C D0 10				bne @+
    59 644E A9 00 8D 0C 85			mva #0 max_Enemy
    60 6453 A8					tay		;0
    61 6454 AD CD 63 8D 19 85			mva speedEnemy0 speedEnemy
    62 645A 20 8A 96				jsr setCondition
    63 645D 60					rts
    64 						
    65 645E DD D4 63		@		cmp conYellow,x
    66 6461 D0 1D				bne @+
    67 						
    68 6463 A9 01 8D FC 63			mva #1 nobanner
    69 6468 85 D0				sta rodzajSpeech
    70 646A 8D 3D 24				sta speech
    71 646D A9 02 85 D5				mva #2 powtorz
    72 6471 AD 9C CF				lda sample+4;poczatek sampla
    73 6474 85 94				sta sam
    74 6476 85 BA				sta sam2
    75 6478 AD 9D CF				lda sample+4+1
    76 647B 85 95				sta sam+1
    77 647D 85 BE				sta sam2s	
    78 							
    79 						
    80 647F 60					rts
    81 						
    82 6480 DD D9 63		@		cmp con1enemy,x
    83 6483 D0 08				bne @+
    84 6485 A0 01 8C 0C 85			mvy #1 max_Enemy
    85 648A 4C 8A 96				jmp setCondition
    86 						
    87 648D DD DE 63		@		cmp con2enemy,x
    88 6490 D0 06				bne @+
    89 6492 A9 02 8D 0C 85			mva #2 max_Enemy
    90 6497 60					rts
    91 						
    92 6498 DD E3 63		@		cmp con3enemy,x
    93 649B D0 06				bne @+
    94 649D A9 03 8D 0C 85			mva #3 max_Enemy
    95 64A2 60					rts
    96 						
    97 64A3 DD ED 63		@		cmp conred,x
    98 64A6 D0 1D				bne @+	
    99 						
   100 						
   101 64A8 A9 01 8D FC 63			mva #1 nobanner
   102 64AD 8D 3D 24				sta speech
   103 64B0 A9 02				lda #2
   104 64B2 85 D5				sta powtorz
   105 64B4 85 D0				sta rodzajSpeech
   106 64B6 AD 9E CF 85 94			mva sample+6 sam		;poczatek sampla
   107 64BB 85 BA				sta sam2
   108 64BD AD 9F CF 85 95			mva sample+6+1 sam+1
   109 64C2 85 BE				sta sam2s
   110 					
   111 64C4 60					rts
   112 						
   113 64C5 DD F2 63		@		cmp con45enemy,x
   114 64C8 D0 1D				bne @+
   115 64CA A0 02				ldy #2
   116 64CC 20 8A 96				jsr setCondition
   117 64CF A9 09 8D 04 88			mva #9 rotate_speed1
   118 64D4 A9 06 8D 06 88			mva #6 rotate_speed2
   119 64D9 A9 05 8D 0C 85			mva #5 max_Enemy
   120 64DE A9 08 8D 29 24			mva #8 opoz_denemy
   121 64E3 8D 11 87				sta dlicz1
   122 64E6 60					rts
   123 						
   124 64E7 DD F7 63		@		cmp conUpSpeed,x
   125 64EA D0 0D				bne kmryg
   126 64EC A9 E0 8D 19 85			mva #7*32 speedEnemy
   127 64F1 A9 00 8D CC 63			mva #0 kondycja
   128 64F6 4C 03 65				jmp kmryg1
   129 						
   130
   131 = 64F9			kmryg		equ *
   132 						
   133 64F9 AD CC 63				lda kondycja				;mryganie
   134 64FC F0 05				beq kmryg1
   135 64FE DD F2 63				cmp con45enemy,x
   136 6501 90 1B				bcc @+	
   137 6503 AD 7D 22		kmryg1	lda formacja_stan
   138 6506 D0 16				bne @+
   139 6508 CE CA 63				dec punkty2
   140 650B D0 11				bne @+
   141 650D A9 03 8D CA 63			mva #opoznienieRed punkty2
   142 6512 AD DF 22				lda conditionColor
   143 6515 4D 8D 8A				eor conditionC+2
   144 6518 8D DF 22				sta conditionColor
   145 651B 8D E7 22				sta conditionColor1
   146 = 651E			@		equ *
   147
   148 651E 60					rts
   149 						
   150 = 651F			schowaj_duszki	equ *	
   151 651F A9 F8				lda #>SPRITES1
   152 6521 8D 07 D4				sta PMBASE
   153 6524 A9 02 8D 15 D0			mva #$02 COLPM+3		;szare tlo panelu
   154 						
   155 6529 A9 00 8D 04 D0			mva #0 HPOSM			;schowaj pociski
   156 652E 8D 05 D0 8D 06 D0 + 		:3 sta HPOSM+1+#
   157 						
   158 6537 A9 B8				lda #pozWyniki+7		;kolor i pozycja duszka na panelu
   159 6539 8D 02 D0				sta HPOSP+2
   160 653C A9 01 8D 0A D0			mva #1 SIZEP+2
   161 						
   162 6541 A9 6C				lda #pozWyniki-1-68		;statek srodek 108
   163 6543 8D 00 D0				sta HPOSP
   164 6546 8D 01 D0				sta HPOSP+1
   165 6549 A9 0C 8D 12 D0			mva #kolorLiczby COLPM
   166 654E AD 12 12 8D 13 D0			mva kolorCzerwony COLPM+1
   167 						
   168 6554 A5 D0				lda rodzajSpeech
   169 						
   170 6556 C9 03		@		cmp #3		;alarm!alarm!
   171 6558 B0 06				bcs sdu1
   172 						
   173 655A 20 A3 67				jsr picAlarm
   174 655D 20 46 68				jsr picEnemy
   175
   176 						
   177 6560 C9 04		sdu1	cmp #4		;gameover
   178 6562 D0 06				bne sdu2
   179 						
   180 6564 20 74 65				jsr clrAlarm
   181
   182 6567 4C E3 68				jmp picSkull
   183 					
   184 656A C9 03		sdu2	cmp #3	;spy!
   185 656C D0 03				bne sdu3
   186 						
   187 656E 4C 8E 6A				jmp picSpy
   188
   189 								
   190 6571 4C C8 65		sdu3	jmp picFormation
   191
   192 = 6574			clrAlarm	equ *
   193 6574 A9 00				lda #0
   194 6576 8D 30 FE 8D 31 FE + 		:27 sta sprites1+$630+#
   195 65C7 60					rts
   196 						
   197 = 65C8			picFormation	equ *
   198 						.rept 79, #
   199 						LDA FORMATIONSHAPE+:1
   200 						STA SPRITES1+$670+:1
   201 						.ENDR
   201 						.endr
Source: REPT
   199 65C8 AD 63 6C				LDA FORMATIONSHAPE+0
   199 65CB 8D 70 FE				STA SPRITES1+$670+0
   199 65CE AD 64 6C				LDA FORMATIONSHAPE+1
   199 65D1 8D 71 FE				STA SPRITES1+$670+1
   199 65D4 AD 65 6C				LDA FORMATIONSHAPE+2
   199 65D7 8D 72 FE				STA SPRITES1+$670+2
   199 65DA AD 66 6C				LDA FORMATIONSHAPE+3
   199 65DD 8D 73 FE				STA SPRITES1+$670+3
   199 65E0 AD 67 6C				LDA FORMATIONSHAPE+4
   199 65E3 8D 74 FE				STA SPRITES1+$670+4
   199 65E6 AD 68 6C				LDA FORMATIONSHAPE+5
   199 65E9 8D 75 FE				STA SPRITES1+$670+5
   199 65EC AD 69 6C				LDA FORMATIONSHAPE+6
   199 65EF 8D 76 FE				STA SPRITES1+$670+6
   199 65F2 AD 6A 6C				LDA FORMATIONSHAPE+7
   199 65F5 8D 77 FE				STA SPRITES1+$670+7
   199 65F8 AD 6B 6C				LDA FORMATIONSHAPE+8
   199 65FB 8D 78 FE				STA SPRITES1+$670+8
   199 65FE AD 6C 6C				LDA FORMATIONSHAPE+9
   199 6601 8D 79 FE				STA SPRITES1+$670+9
   199 6604 AD 6D 6C				LDA FORMATIONSHAPE+10
   199 6607 8D 7A FE				STA SPRITES1+$670+10
   199 660A AD 6E 6C				LDA FORMATIONSHAPE+11
   199 660D 8D 7B FE				STA SPRITES1+$670+11
   199 6610 AD 6F 6C				LDA FORMATIONSHAPE+12
   199 6613 8D 7C FE				STA SPRITES1+$670+12
   199 6616 AD 70 6C				LDA FORMATIONSHAPE+13
   199 6619 8D 7D FE				STA SPRITES1+$670+13
   199 661C AD 71 6C				LDA FORMATIONSHAPE+14
   199 661F 8D 7E FE				STA SPRITES1+$670+14
   199 6622 AD 72 6C				LDA FORMATIONSHAPE+15
   199 6625 8D 7F FE				STA SPRITES1+$670+15
   199 6628 AD 73 6C				LDA FORMATIONSHAPE+16
   199 662B 8D 80 FE				STA SPRITES1+$670+16
   199 662E AD 74 6C				LDA FORMATIONSHAPE+17
   199 6631 8D 81 FE				STA SPRITES1+$670+17
   199 6634 AD 75 6C				LDA FORMATIONSHAPE+18
   199 6637 8D 82 FE				STA SPRITES1+$670+18
   199 663A AD 76 6C				LDA FORMATIONSHAPE+19
   199 663D 8D 83 FE				STA SPRITES1+$670+19
   199 6640 AD 77 6C				LDA FORMATIONSHAPE+20
   199 6643 8D 84 FE				STA SPRITES1+$670+20
   199 6646 AD 78 6C				LDA FORMATIONSHAPE+21
   199 6649 8D 85 FE				STA SPRITES1+$670+21
   199 664C AD 79 6C				LDA FORMATIONSHAPE+22
   199 664F 8D 86 FE				STA SPRITES1+$670+22
   199 6652 AD 7A 6C				LDA FORMATIONSHAPE+23
   199 6655 8D 87 FE				STA SPRITES1+$670+23
   199 6658 AD 7B 6C				LDA FORMATIONSHAPE+24
   199 665B 8D 88 FE				STA SPRITES1+$670+24
   199 665E AD 7C 6C				LDA FORMATIONSHAPE+25
   199 6661 8D 89 FE				STA SPRITES1+$670+25
   199 6664 AD 7D 6C				LDA FORMATIONSHAPE+26
   199 6667 8D 8A FE				STA SPRITES1+$670+26
   199 666A AD 7E 6C				LDA FORMATIONSHAPE+27
   199 666D 8D 8B FE				STA SPRITES1+$670+27
   199 6670 AD 7F 6C				LDA FORMATIONSHAPE+28
   199 6673 8D 8C FE				STA SPRITES1+$670+28
   199 6676 AD 80 6C				LDA FORMATIONSHAPE+29
   199 6679 8D 8D FE				STA SPRITES1+$670+29
   199 667C AD 81 6C				LDA FORMATIONSHAPE+30
   199 667F 8D 8E FE				STA SPRITES1+$670+30
   199 6682 AD 82 6C				LDA FORMATIONSHAPE+31
   199 6685 8D 8F FE				STA SPRITES1+$670+31
   199 6688 AD 83 6C				LDA FORMATIONSHAPE+32
   199 668B 8D 90 FE				STA SPRITES1+$670+32
   199 668E AD 84 6C				LDA FORMATIONSHAPE+33
   199 6691 8D 91 FE				STA SPRITES1+$670+33
   199 6694 AD 85 6C				LDA FORMATIONSHAPE+34
   199 6697 8D 92 FE				STA SPRITES1+$670+34
   199 669A AD 86 6C				LDA FORMATIONSHAPE+35
   199 669D 8D 93 FE				STA SPRITES1+$670+35
   199 66A0 AD 87 6C				LDA FORMATIONSHAPE+36
   199 66A3 8D 94 FE				STA SPRITES1+$670+36
   199 66A6 AD 88 6C				LDA FORMATIONSHAPE+37
   199 66A9 8D 95 FE				STA SPRITES1+$670+37
   199 66AC AD 89 6C				LDA FORMATIONSHAPE+38
   199 66AF 8D 96 FE				STA SPRITES1+$670+38
   199 66B2 AD 8A 6C				LDA FORMATIONSHAPE+39
   199 66B5 8D 97 FE				STA SPRITES1+$670+39
   199 66B8 AD 8B 6C				LDA FORMATIONSHAPE+40
   199 66BB 8D 98 FE				STA SPRITES1+$670+40
   199 66BE AD 8C 6C				LDA FORMATIONSHAPE+41
   199 66C1 8D 99 FE				STA SPRITES1+$670+41
   199 66C4 AD 8D 6C				LDA FORMATIONSHAPE+42
   199 66C7 8D 9A FE				STA SPRITES1+$670+42
   199 66CA AD 8E 6C				LDA FORMATIONSHAPE+43
   199 66CD 8D 9B FE				STA SPRITES1+$670+43
   199 66D0 AD 8F 6C				LDA FORMATIONSHAPE+44
   199 66D3 8D 9C FE				STA SPRITES1+$670+44
   199 66D6 AD 90 6C				LDA FORMATIONSHAPE+45
   199 66D9 8D 9D FE				STA SPRITES1+$670+45
   199 66DC AD 91 6C				LDA FORMATIONSHAPE+46
   199 66DF 8D 9E FE				STA SPRITES1+$670+46
   199 66E2 AD 92 6C				LDA FORMATIONSHAPE+47
   199 66E5 8D 9F FE				STA SPRITES1+$670+47
   199 66E8 AD 93 6C				LDA FORMATIONSHAPE+48
   199 66EB 8D A0 FE				STA SPRITES1+$670+48
   199 66EE AD 94 6C				LDA FORMATIONSHAPE+49
   199 66F1 8D A1 FE				STA SPRITES1+$670+49
   199 66F4 AD 95 6C				LDA FORMATIONSHAPE+50
   199 66F7 8D A2 FE				STA SPRITES1+$670+50
   199 66FA AD 96 6C				LDA FORMATIONSHAPE+51
   199 66FD 8D A3 FE				STA SPRITES1+$670+51
   199 6700 AD 97 6C				LDA FORMATIONSHAPE+52
   199 6703 8D A4 FE				STA SPRITES1+$670+52
   199 6706 AD 98 6C				LDA FORMATIONSHAPE+53
   199 6709 8D A5 FE				STA SPRITES1+$670+53
   199 670C AD 99 6C				LDA FORMATIONSHAPE+54
   199 670F 8D A6 FE				STA SPRITES1+$670+54
   199 6712 AD 9A 6C				LDA FORMATIONSHAPE+55
   199 6715 8D A7 FE				STA SPRITES1+$670+55
   199 6718 AD 9B 6C				LDA FORMATIONSHAPE+56
   199 671B 8D A8 FE				STA SPRITES1+$670+56
   199 671E AD 9C 6C				LDA FORMATIONSHAPE+57
   199 6721 8D A9 FE				STA SPRITES1+$670+57
   199 6724 AD 9D 6C				LDA FORMATIONSHAPE+58
   199 6727 8D AA FE				STA SPRITES1+$670+58
   199 672A AD 9E 6C				LDA FORMATIONSHAPE+59
   199 672D 8D AB FE				STA SPRITES1+$670+59
   199 6730 AD 9F 6C				LDA FORMATIONSHAPE+60
   199 6733 8D AC FE				STA SPRITES1+$670+60
   199 6736 AD A0 6C				LDA FORMATIONSHAPE+61
   199 6739 8D AD FE				STA SPRITES1+$670+61
   199 673C AD A1 6C				LDA FORMATIONSHAPE+62
   199 673F 8D AE FE				STA SPRITES1+$670+62
   199 6742 AD A2 6C				LDA FORMATIONSHAPE+63
   199 6745 8D AF FE				STA SPRITES1+$670+63
   199 6748 AD A3 6C				LDA FORMATIONSHAPE+64
   199 674B 8D B0 FE				STA SPRITES1+$670+64
   199 674E AD A4 6C				LDA FORMATIONSHAPE+65
   199 6751 8D B1 FE				STA SPRITES1+$670+65
   199 6754 AD A5 6C				LDA FORMATIONSHAPE+66
   199 6757 8D B2 FE				STA SPRITES1+$670+66
   199 675A AD A6 6C				LDA FORMATIONSHAPE+67
   199 675D 8D B3 FE				STA SPRITES1+$670+67
   199 6760 AD A7 6C				LDA FORMATIONSHAPE+68
   199 6763 8D B4 FE				STA SPRITES1+$670+68
   199 6766 AD A8 6C				LDA FORMATIONSHAPE+69
   199 6769 8D B5 FE				STA SPRITES1+$670+69
   199 676C AD A9 6C				LDA FORMATIONSHAPE+70
   199 676F 8D B6 FE				STA SPRITES1+$670+70
   199 6772 AD AA 6C				LDA FORMATIONSHAPE+71
   199 6775 8D B7 FE				STA SPRITES1+$670+71
   199 6778 AD AB 6C				LDA FORMATIONSHAPE+72
   199 677B 8D B8 FE				STA SPRITES1+$670+72
   199 677E AD AC 6C				LDA FORMATIONSHAPE+73
   199 6781 8D B9 FE				STA SPRITES1+$670+73
   199 6784 AD AD 6C				LDA FORMATIONSHAPE+74
   199 6787 8D BA FE				STA SPRITES1+$670+74
   199 678A AD AE 6C				LDA FORMATIONSHAPE+75
   199 678D 8D BB FE				STA SPRITES1+$670+75
   199 6790 AD AF 6C				LDA FORMATIONSHAPE+76
   199 6793 8D BC FE				STA SPRITES1+$670+76
   199 6796 AD B0 6C				LDA FORMATIONSHAPE+77
   199 6799 8D BD FE				STA SPRITES1+$670+77
   199 679C AD B1 6C				LDA FORMATIONSHAPE+78
   199 679F 8D BE FE				STA SPRITES1+$670+78
Source: time.asm
   202 67A2 60					rts
   203 = 67A3			picAlarm	equ *
   204 						.rept 27, #
   205 						LDA ALARMSHAPE+:1
   206 						STA SPRITES1+$630+:1
   207 						.ENDR
   207 						.endr
Source: REPT
   205 67A3 AD 3B 6C				LDA ALARMSHAPE+0
   205 67A6 8D 30 FE				STA SPRITES1+$630+0
   205 67A9 AD 3C 6C				LDA ALARMSHAPE+1
   205 67AC 8D 31 FE				STA SPRITES1+$630+1
   205 67AF AD 3D 6C				LDA ALARMSHAPE+2
   205 67B2 8D 32 FE				STA SPRITES1+$630+2
   205 67B5 AD 3E 6C				LDA ALARMSHAPE+3
   205 67B8 8D 33 FE				STA SPRITES1+$630+3
   205 67BB AD 3F 6C				LDA ALARMSHAPE+4
   205 67BE 8D 34 FE				STA SPRITES1+$630+4
   205 67C1 AD 40 6C				LDA ALARMSHAPE+5
   205 67C4 8D 35 FE				STA SPRITES1+$630+5
   205 67C7 AD 41 6C				LDA ALARMSHAPE+6
   205 67CA 8D 36 FE				STA SPRITES1+$630+6
   205 67CD AD 42 6C				LDA ALARMSHAPE+7
   205 67D0 8D 37 FE				STA SPRITES1+$630+7
   205 67D3 AD 43 6C				LDA ALARMSHAPE+8
   205 67D6 8D 38 FE				STA SPRITES1+$630+8
   205 67D9 AD 44 6C				LDA ALARMSHAPE+9
   205 67DC 8D 39 FE				STA SPRITES1+$630+9
   205 67DF AD 45 6C				LDA ALARMSHAPE+10
   205 67E2 8D 3A FE				STA SPRITES1+$630+10
   205 67E5 AD 46 6C				LDA ALARMSHAPE+11
   205 67E8 8D 3B FE				STA SPRITES1+$630+11
   205 67EB AD 47 6C				LDA ALARMSHAPE+12
   205 67EE 8D 3C FE				STA SPRITES1+$630+12
   205 67F1 AD 48 6C				LDA ALARMSHAPE+13
   205 67F4 8D 3D FE				STA SPRITES1+$630+13
   205 67F7 AD 49 6C				LDA ALARMSHAPE+14
   205 67FA 8D 3E FE				STA SPRITES1+$630+14
   205 67FD AD 4A 6C				LDA ALARMSHAPE+15
   205 6800 8D 3F FE				STA SPRITES1+$630+15
   205 6803 AD 4B 6C				LDA ALARMSHAPE+16
   205 6806 8D 40 FE				STA SPRITES1+$630+16
   205 6809 AD 4C 6C				LDA ALARMSHAPE+17
   205 680C 8D 41 FE				STA SPRITES1+$630+17
   205 680F AD 4D 6C				LDA ALARMSHAPE+18
   205 6812 8D 42 FE				STA SPRITES1+$630+18
   205 6815 AD 4E 6C				LDA ALARMSHAPE+19
   205 6818 8D 43 FE				STA SPRITES1+$630+19
   205 681B AD 4F 6C				LDA ALARMSHAPE+20
   205 681E 8D 44 FE				STA SPRITES1+$630+20
   205 6821 AD 50 6C				LDA ALARMSHAPE+21
   205 6824 8D 45 FE				STA SPRITES1+$630+21
   205 6827 AD 51 6C				LDA ALARMSHAPE+22
   205 682A 8D 46 FE				STA SPRITES1+$630+22
   205 682D AD 52 6C				LDA ALARMSHAPE+23
   205 6830 8D 47 FE				STA SPRITES1+$630+23
   205 6833 AD 53 6C				LDA ALARMSHAPE+24
   205 6836 8D 48 FE				STA SPRITES1+$630+24
   205 6839 AD 54 6C				LDA ALARMSHAPE+25
   205 683C 8D 49 FE				STA SPRITES1+$630+25
   205 683F AD 55 6C				LDA ALARMSHAPE+26
   205 6842 8D 4A FE				STA SPRITES1+$630+26
Source: time.asm
   208 6845 60					rts
   209 						
   210 = 6846			picEnemy	equ *
   211 						.rept 13, #
   212 							LDA ENEMYSHAPE+:1
   213 							STA SPRITES1+$670+:1*4
   214 							STA SPRITES1+$670+:1*4+1
   215 							STA SPRITES1+$670+:1*4+2
   216 						.ENDR
   216 						.endr
Source: REPT
   212 6846 AD 56 6C					LDA ENEMYSHAPE+0
   212 6849 8D 70 FE					STA SPRITES1+$670+0*4
   212 684C 8D 71 FE					STA SPRITES1+$670+0*4+1
   212 684F 8D 72 FE					STA SPRITES1+$670+0*4+2
   212 6852 AD 57 6C					LDA ENEMYSHAPE+1
   212 6855 8D 74 FE					STA SPRITES1+$670+1*4
   212 6858 8D 75 FE					STA SPRITES1+$670+1*4+1
   212 685B 8D 76 FE					STA SPRITES1+$670+1*4+2
   212 685E AD 58 6C					LDA ENEMYSHAPE+2
   212 6861 8D 78 FE					STA SPRITES1+$670+2*4
   212 6864 8D 79 FE					STA SPRITES1+$670+2*4+1
   212 6867 8D 7A FE					STA SPRITES1+$670+2*4+2
   212 686A AD 59 6C					LDA ENEMYSHAPE+3
   212 686D 8D 7C FE					STA SPRITES1+$670+3*4
   212 6870 8D 7D FE					STA SPRITES1+$670+3*4+1
   212 6873 8D 7E FE					STA SPRITES1+$670+3*4+2
   212 6876 AD 5A 6C					LDA ENEMYSHAPE+4
   212 6879 8D 80 FE					STA SPRITES1+$670+4*4
   212 687C 8D 81 FE					STA SPRITES1+$670+4*4+1
   212 687F 8D 82 FE					STA SPRITES1+$670+4*4+2
   212 6882 AD 5B 6C					LDA ENEMYSHAPE+5
   212 6885 8D 84 FE					STA SPRITES1+$670+5*4
   212 6888 8D 85 FE					STA SPRITES1+$670+5*4+1
   212 688B 8D 86 FE					STA SPRITES1+$670+5*4+2
   212 688E AD 5C 6C					LDA ENEMYSHAPE+6
   212 6891 8D 88 FE					STA SPRITES1+$670+6*4
   212 6894 8D 89 FE					STA SPRITES1+$670+6*4+1
   212 6897 8D 8A FE					STA SPRITES1+$670+6*4+2
   212 689A AD 5D 6C					LDA ENEMYSHAPE+7
   212 689D 8D 8C FE					STA SPRITES1+$670+7*4
   212 68A0 8D 8D FE					STA SPRITES1+$670+7*4+1
   212 68A3 8D 8E FE					STA SPRITES1+$670+7*4+2
   212 68A6 AD 5E 6C					LDA ENEMYSHAPE+8
   212 68A9 8D 90 FE					STA SPRITES1+$670+8*4
   212 68AC 8D 91 FE					STA SPRITES1+$670+8*4+1
   212 68AF 8D 92 FE					STA SPRITES1+$670+8*4+2
   212 68B2 AD 5F 6C					LDA ENEMYSHAPE+9
   212 68B5 8D 94 FE					STA SPRITES1+$670+9*4
   212 68B8 8D 95 FE					STA SPRITES1+$670+9*4+1
   212 68BB 8D 96 FE					STA SPRITES1+$670+9*4+2
   212 68BE AD 60 6C					LDA ENEMYSHAPE+10
   212 68C1 8D 98 FE					STA SPRITES1+$670+10*4
   212 68C4 8D 99 FE					STA SPRITES1+$670+10*4+1
   212 68C7 8D 9A FE					STA SPRITES1+$670+10*4+2
   212 68CA AD 61 6C					LDA ENEMYSHAPE+11
   212 68CD 8D 9C FE					STA SPRITES1+$670+11*4
   212 68D0 8D 9D FE					STA SPRITES1+$670+11*4+1
   212 68D3 8D 9E FE					STA SPRITES1+$670+11*4+2
   212 68D6 AD 62 6C					LDA ENEMYSHAPE+12
   212 68D9 8D A0 FE					STA SPRITES1+$670+12*4
   212 68DC 8D A1 FE					STA SPRITES1+$670+12*4+1
   212 68DF 8D A2 FE					STA SPRITES1+$670+12*4+2
Source: time.asm
   217 68E2 60					rts
   218 						
   219 = 68E3			picSkull	equ *
   220 						.rept 71, #
   221 						LDA SKULLSHAPE+:1
   222 						STA SPRITES1+$660+:1
   223 						.ENDR
   223 						.endr
Source: REPT
   221 68E3 AD F4 6B				LDA SKULLSHAPE+0
   221 68E6 8D 60 FE				STA SPRITES1+$660+0
   221 68E9 AD F5 6B				LDA SKULLSHAPE+1
   221 68EC 8D 61 FE				STA SPRITES1+$660+1
   221 68EF AD F6 6B				LDA SKULLSHAPE+2
   221 68F2 8D 62 FE				STA SPRITES1+$660+2
   221 68F5 AD F7 6B				LDA SKULLSHAPE+3
   221 68F8 8D 63 FE				STA SPRITES1+$660+3
   221 68FB AD F8 6B				LDA SKULLSHAPE+4
   221 68FE 8D 64 FE				STA SPRITES1+$660+4
   221 6901 AD F9 6B				LDA SKULLSHAPE+5
   221 6904 8D 65 FE				STA SPRITES1+$660+5
   221 6907 AD FA 6B				LDA SKULLSHAPE+6
   221 690A 8D 66 FE				STA SPRITES1+$660+6
   221 690D AD FB 6B				LDA SKULLSHAPE+7
   221 6910 8D 67 FE				STA SPRITES1+$660+7
   221 6913 AD FC 6B				LDA SKULLSHAPE+8
   221 6916 8D 68 FE				STA SPRITES1+$660+8
   221 6919 AD FD 6B				LDA SKULLSHAPE+9
   221 691C 8D 69 FE				STA SPRITES1+$660+9
   221 691F AD FE 6B				LDA SKULLSHAPE+10
   221 6922 8D 6A FE				STA SPRITES1+$660+10
   221 6925 AD FF 6B				LDA SKULLSHAPE+11
   221 6928 8D 6B FE				STA SPRITES1+$660+11
   221 692B AD 00 6C				LDA SKULLSHAPE+12
   221 692E 8D 6C FE				STA SPRITES1+$660+12
   221 6931 AD 01 6C				LDA SKULLSHAPE+13
   221 6934 8D 6D FE				STA SPRITES1+$660+13
   221 6937 AD 02 6C				LDA SKULLSHAPE+14
   221 693A 8D 6E FE				STA SPRITES1+$660+14
   221 693D AD 03 6C				LDA SKULLSHAPE+15
   221 6940 8D 6F FE				STA SPRITES1+$660+15
   221 6943 AD 04 6C				LDA SKULLSHAPE+16
   221 6946 8D 70 FE				STA SPRITES1+$660+16
   221 6949 AD 05 6C				LDA SKULLSHAPE+17
   221 694C 8D 71 FE				STA SPRITES1+$660+17
   221 694F AD 06 6C				LDA SKULLSHAPE+18
   221 6952 8D 72 FE				STA SPRITES1+$660+18
   221 6955 AD 07 6C				LDA SKULLSHAPE+19
   221 6958 8D 73 FE				STA SPRITES1+$660+19
   221 695B AD 08 6C				LDA SKULLSHAPE+20
   221 695E 8D 74 FE				STA SPRITES1+$660+20
   221 6961 AD 09 6C				LDA SKULLSHAPE+21
   221 6964 8D 75 FE				STA SPRITES1+$660+21
   221 6967 AD 0A 6C				LDA SKULLSHAPE+22
   221 696A 8D 76 FE				STA SPRITES1+$660+22
   221 696D AD 0B 6C				LDA SKULLSHAPE+23
   221 6970 8D 77 FE				STA SPRITES1+$660+23
   221 6973 AD 0C 6C				LDA SKULLSHAPE+24
   221 6976 8D 78 FE				STA SPRITES1+$660+24
   221 6979 AD 0D 6C				LDA SKULLSHAPE+25
   221 697C 8D 79 FE				STA SPRITES1+$660+25
   221 697F AD 0E 6C				LDA SKULLSHAPE+26
   221 6982 8D 7A FE				STA SPRITES1+$660+26
   221 6985 AD 0F 6C				LDA SKULLSHAPE+27
   221 6988 8D 7B FE				STA SPRITES1+$660+27
   221 698B AD 10 6C				LDA SKULLSHAPE+28
   221 698E 8D 7C FE				STA SPRITES1+$660+28
   221 6991 AD 11 6C				LDA SKULLSHAPE+29
   221 6994 8D 7D FE				STA SPRITES1+$660+29
   221 6997 AD 12 6C				LDA SKULLSHAPE+30
   221 699A 8D 7E FE				STA SPRITES1+$660+30
   221 699D AD 13 6C				LDA SKULLSHAPE+31
   221 69A0 8D 7F FE				STA SPRITES1+$660+31
   221 69A3 AD 14 6C				LDA SKULLSHAPE+32
   221 69A6 8D 80 FE				STA SPRITES1+$660+32
   221 69A9 AD 15 6C				LDA SKULLSHAPE+33
   221 69AC 8D 81 FE				STA SPRITES1+$660+33
   221 69AF AD 16 6C				LDA SKULLSHAPE+34
   221 69B2 8D 82 FE				STA SPRITES1+$660+34
   221 69B5 AD 17 6C				LDA SKULLSHAPE+35
   221 69B8 8D 83 FE				STA SPRITES1+$660+35
   221 69BB AD 18 6C				LDA SKULLSHAPE+36
   221 69BE 8D 84 FE				STA SPRITES1+$660+36
   221 69C1 AD 19 6C				LDA SKULLSHAPE+37
   221 69C4 8D 85 FE				STA SPRITES1+$660+37
   221 69C7 AD 1A 6C				LDA SKULLSHAPE+38
   221 69CA 8D 86 FE				STA SPRITES1+$660+38
   221 69CD AD 1B 6C				LDA SKULLSHAPE+39
   221 69D0 8D 87 FE				STA SPRITES1+$660+39
   221 69D3 AD 1C 6C				LDA SKULLSHAPE+40
   221 69D6 8D 88 FE				STA SPRITES1+$660+40
   221 69D9 AD 1D 6C				LDA SKULLSHAPE+41
   221 69DC 8D 89 FE				STA SPRITES1+$660+41
   221 69DF AD 1E 6C				LDA SKULLSHAPE+42
   221 69E2 8D 8A FE				STA SPRITES1+$660+42
   221 69E5 AD 1F 6C				LDA SKULLSHAPE+43
   221 69E8 8D 8B FE				STA SPRITES1+$660+43
   221 69EB AD 20 6C				LDA SKULLSHAPE+44
   221 69EE 8D 8C FE				STA SPRITES1+$660+44
   221 69F1 AD 21 6C				LDA SKULLSHAPE+45
   221 69F4 8D 8D FE				STA SPRITES1+$660+45
   221 69F7 AD 22 6C				LDA SKULLSHAPE+46
   221 69FA 8D 8E FE				STA SPRITES1+$660+46
   221 69FD AD 23 6C				LDA SKULLSHAPE+47
   221 6A00 8D 8F FE				STA SPRITES1+$660+47
   221 6A03 AD 24 6C				LDA SKULLSHAPE+48
   221 6A06 8D 90 FE				STA SPRITES1+$660+48
   221 6A09 AD 25 6C				LDA SKULLSHAPE+49
   221 6A0C 8D 91 FE				STA SPRITES1+$660+49
   221 6A0F AD 26 6C				LDA SKULLSHAPE+50
   221 6A12 8D 92 FE				STA SPRITES1+$660+50
   221 6A15 AD 27 6C				LDA SKULLSHAPE+51
   221 6A18 8D 93 FE				STA SPRITES1+$660+51
   221 6A1B AD 28 6C				LDA SKULLSHAPE+52
   221 6A1E 8D 94 FE				STA SPRITES1+$660+52
   221 6A21 AD 29 6C				LDA SKULLSHAPE+53
   221 6A24 8D 95 FE				STA SPRITES1+$660+53
   221 6A27 AD 2A 6C				LDA SKULLSHAPE+54
   221 6A2A 8D 96 FE				STA SPRITES1+$660+54
   221 6A2D AD 2B 6C				LDA SKULLSHAPE+55
   221 6A30 8D 97 FE				STA SPRITES1+$660+55
   221 6A33 AD 2C 6C				LDA SKULLSHAPE+56
   221 6A36 8D 98 FE				STA SPRITES1+$660+56
   221 6A39 AD 2D 6C				LDA SKULLSHAPE+57
   221 6A3C 8D 99 FE				STA SPRITES1+$660+57
   221 6A3F AD 2E 6C				LDA SKULLSHAPE+58
   221 6A42 8D 9A FE				STA SPRITES1+$660+58
   221 6A45 AD 2F 6C				LDA SKULLSHAPE+59
   221 6A48 8D 9B FE				STA SPRITES1+$660+59
   221 6A4B AD 30 6C				LDA SKULLSHAPE+60
   221 6A4E 8D 9C FE				STA SPRITES1+$660+60
   221 6A51 AD 31 6C				LDA SKULLSHAPE+61
   221 6A54 8D 9D FE				STA SPRITES1+$660+61
   221 6A57 AD 32 6C				LDA SKULLSHAPE+62
   221 6A5A 8D 9E FE				STA SPRITES1+$660+62
   221 6A5D AD 33 6C				LDA SKULLSHAPE+63
   221 6A60 8D 9F FE				STA SPRITES1+$660+63
   221 6A63 AD 34 6C				LDA SKULLSHAPE+64
   221 6A66 8D A0 FE				STA SPRITES1+$660+64
   221 6A69 AD 35 6C				LDA SKULLSHAPE+65
   221 6A6C 8D A1 FE				STA SPRITES1+$660+65
   221 6A6F AD 36 6C				LDA SKULLSHAPE+66
   221 6A72 8D A2 FE				STA SPRITES1+$660+66
   221 6A75 AD 37 6C				LDA SKULLSHAPE+67
   221 6A78 8D A3 FE				STA SPRITES1+$660+67
   221 6A7B AD 38 6C				LDA SKULLSHAPE+68
   221 6A7E 8D A4 FE				STA SPRITES1+$660+68
   221 6A81 AD 39 6C				LDA SKULLSHAPE+69
   221 6A84 8D A5 FE				STA SPRITES1+$660+69
   221 6A87 AD 3A 6C				LDA SKULLSHAPE+70
   221 6A8A 8D A6 FE				STA SPRITES1+$660+70
Source: time.asm
   224 6A8D 60					rts
   225 						
   226 = 6A8E			picSpy		equ *
   227 						.rept 51, #
   228 						LDA SPYSHAPE+:1
   229 						STA SPRITES1+$680+:1
   230 						.ENDR
   230 						.endr
Source: REPT
   228 6A8E AD C1 6B				LDA SPYSHAPE+0
   228 6A91 8D 80 FE				STA SPRITES1+$680+0
   228 6A94 AD C2 6B				LDA SPYSHAPE+1
   228 6A97 8D 81 FE				STA SPRITES1+$680+1
   228 6A9A AD C3 6B				LDA SPYSHAPE+2
   228 6A9D 8D 82 FE				STA SPRITES1+$680+2
   228 6AA0 AD C4 6B				LDA SPYSHAPE+3
   228 6AA3 8D 83 FE				STA SPRITES1+$680+3
   228 6AA6 AD C5 6B				LDA SPYSHAPE+4
   228 6AA9 8D 84 FE				STA SPRITES1+$680+4
   228 6AAC AD C6 6B				LDA SPYSHAPE+5
   228 6AAF 8D 85 FE				STA SPRITES1+$680+5
   228 6AB2 AD C7 6B				LDA SPYSHAPE+6
   228 6AB5 8D 86 FE				STA SPRITES1+$680+6
   228 6AB8 AD C8 6B				LDA SPYSHAPE+7
   228 6ABB 8D 87 FE				STA SPRITES1+$680+7
   228 6ABE AD C9 6B				LDA SPYSHAPE+8
   228 6AC1 8D 88 FE				STA SPRITES1+$680+8
   228 6AC4 AD CA 6B				LDA SPYSHAPE+9
   228 6AC7 8D 89 FE				STA SPRITES1+$680+9
   228 6ACA AD CB 6B				LDA SPYSHAPE+10
   228 6ACD 8D 8A FE				STA SPRITES1+$680+10
   228 6AD0 AD CC 6B				LDA SPYSHAPE+11
   228 6AD3 8D 8B FE				STA SPRITES1+$680+11
   228 6AD6 AD CD 6B				LDA SPYSHAPE+12
   228 6AD9 8D 8C FE				STA SPRITES1+$680+12
   228 6ADC AD CE 6B				LDA SPYSHAPE+13
   228 6ADF 8D 8D FE				STA SPRITES1+$680+13
   228 6AE2 AD CF 6B				LDA SPYSHAPE+14
   228 6AE5 8D 8E FE				STA SPRITES1+$680+14
   228 6AE8 AD D0 6B				LDA SPYSHAPE+15
   228 6AEB 8D 8F FE				STA SPRITES1+$680+15
   228 6AEE AD D1 6B				LDA SPYSHAPE+16
   228 6AF1 8D 90 FE				STA SPRITES1+$680+16
   228 6AF4 AD D2 6B				LDA SPYSHAPE+17
   228 6AF7 8D 91 FE				STA SPRITES1+$680+17
   228 6AFA AD D3 6B				LDA SPYSHAPE+18
   228 6AFD 8D 92 FE				STA SPRITES1+$680+18
   228 6B00 AD D4 6B				LDA SPYSHAPE+19
   228 6B03 8D 93 FE				STA SPRITES1+$680+19
   228 6B06 AD D5 6B				LDA SPYSHAPE+20
   228 6B09 8D 94 FE				STA SPRITES1+$680+20
   228 6B0C AD D6 6B				LDA SPYSHAPE+21
   228 6B0F 8D 95 FE				STA SPRITES1+$680+21
   228 6B12 AD D7 6B				LDA SPYSHAPE+22
   228 6B15 8D 96 FE				STA SPRITES1+$680+22
   228 6B18 AD D8 6B				LDA SPYSHAPE+23
   228 6B1B 8D 97 FE				STA SPRITES1+$680+23
   228 6B1E AD D9 6B				LDA SPYSHAPE+24
   228 6B21 8D 98 FE				STA SPRITES1+$680+24
   228 6B24 AD DA 6B				LDA SPYSHAPE+25
   228 6B27 8D 99 FE				STA SPRITES1+$680+25
   228 6B2A AD DB 6B				LDA SPYSHAPE+26
   228 6B2D 8D 9A FE				STA SPRITES1+$680+26
   228 6B30 AD DC 6B				LDA SPYSHAPE+27
   228 6B33 8D 9B FE				STA SPRITES1+$680+27
   228 6B36 AD DD 6B				LDA SPYSHAPE+28
   228 6B39 8D 9C FE				STA SPRITES1+$680+28
   228 6B3C AD DE 6B				LDA SPYSHAPE+29
   228 6B3F 8D 9D FE				STA SPRITES1+$680+29
   228 6B42 AD DF 6B				LDA SPYSHAPE+30
   228 6B45 8D 9E FE				STA SPRITES1+$680+30
   228 6B48 AD E0 6B				LDA SPYSHAPE+31
   228 6B4B 8D 9F FE				STA SPRITES1+$680+31
   228 6B4E AD E1 6B				LDA SPYSHAPE+32
   228 6B51 8D A0 FE				STA SPRITES1+$680+32
   228 6B54 AD E2 6B				LDA SPYSHAPE+33
   228 6B57 8D A1 FE				STA SPRITES1+$680+33
   228 6B5A AD E3 6B				LDA SPYSHAPE+34
   228 6B5D 8D A2 FE				STA SPRITES1+$680+34
   228 6B60 AD E4 6B				LDA SPYSHAPE+35
   228 6B63 8D A3 FE				STA SPRITES1+$680+35
   228 6B66 AD E5 6B				LDA SPYSHAPE+36
   228 6B69 8D A4 FE				STA SPRITES1+$680+36
   228 6B6C AD E6 6B				LDA SPYSHAPE+37
   228 6B6F 8D A5 FE				STA SPRITES1+$680+37
   228 6B72 AD E7 6B				LDA SPYSHAPE+38
   228 6B75 8D A6 FE				STA SPRITES1+$680+38
   228 6B78 AD E8 6B				LDA SPYSHAPE+39
   228 6B7B 8D A7 FE				STA SPRITES1+$680+39
   228 6B7E AD E9 6B				LDA SPYSHAPE+40
   228 6B81 8D A8 FE				STA SPRITES1+$680+40
   228 6B84 AD EA 6B				LDA SPYSHAPE+41
   228 6B87 8D A9 FE				STA SPRITES1+$680+41
   228 6B8A AD EB 6B				LDA SPYSHAPE+42
   228 6B8D 8D AA FE				STA SPRITES1+$680+42
   228 6B90 AD EC 6B				LDA SPYSHAPE+43
   228 6B93 8D AB FE				STA SPRITES1+$680+43
   228 6B96 AD ED 6B				LDA SPYSHAPE+44
   228 6B99 8D AC FE				STA SPRITES1+$680+44
   228 6B9C AD EE 6B				LDA SPYSHAPE+45
   228 6B9F 8D AD FE				STA SPRITES1+$680+45
   228 6BA2 AD EF 6B				LDA SPYSHAPE+46
   228 6BA5 8D AE FE				STA SPRITES1+$680+46
   228 6BA8 AD F0 6B				LDA SPYSHAPE+47
   228 6BAB 8D AF FE				STA SPRITES1+$680+47
   228 6BAE AD F1 6B				LDA SPYSHAPE+48
   228 6BB1 8D B0 FE				STA SPRITES1+$680+48
   228 6BB4 AD F2 6B				LDA SPYSHAPE+49
   228 6BB7 8D B1 FE				STA SPRITES1+$680+49
   228 6BBA AD F3 6B				LDA SPYSHAPE+50
   228 6BBD 8D B2 FE				STA SPRITES1+$680+50
Source: time.asm
   231 6BC0 60					rts
   232
   233
   234 = 6BC1			spyShape	equ *
   235 6BC1 08 08				:2 dta b(%00001000)
   236 6BC3 00					dta b(0)
   237 6BC4 08					dta b(%00001000)
   238 6BC5 1C 1C				:2 dta b(%00011100)
   239 6BC7 00					dta b(0)
   240 6BC8 3E 3E 3E				:3 dta b(%00111110)
   241 6BCB 00					dta b(0)
   242 6BCC 2A					dta b(%00101010)
   243 6BCD 6B 6B				:2 dta b(%01101011)
   244 6BCF 00					dta b(0)
   245 6BD0 6B 6B 6B				:3 dta b(%01101011)
   246 6BD3 00					dta b(0)
   247 6BD4 7F 7F 7F				:3 dta b(%01111111)
   248 6BD7 00					dta b(0)
   249 6BD8 7F 7F 7F				:3 dta b(%01111111)
   250 6BDB 00					dta b(0)
   251 6BDC 5D 5D				:2 dta b(%01011101)
   252 6BDE 49					dta b(%01001001)
   253 6BDF 00					dta b(0)
   254 6BE0 49 49 49				:3 dta b(%01001001)
   255 6BE3 00					dta b(0)
   256 6BE4 49 49 49				:3 dta b(%01001001)
   257 6BE7 00					dta b(0)
   258 6BE8 49 49 49				:3 dta b(%01001001)
   259 6BEB 00					dta b(0)
   260 6BEC 08 08 08				:3 dta b(%00001000)
   261 6BEF 00 00 00 00 00			:5 dta b(0)
   262 						
   263 = 6BF4			skullShape	equ *
   264 6BF4 18 18				:2 dta b(%00011000)
   265 6BF6 3C 3C				:2 dta b(%00111100)
   266 6BF8 00					dta b(0)
   267 6BF9 7E 7E 7E				:3 dta b(%01111110)
   268 6BFC 00					dta b(0)
   269 6BFD FF FF FF				:3 dta b(%11111111)
   270 6C00 00					dta b(0)
   271 6C01 99 99 99				:3 dta b(%10011001)
   272 6C04 00					dta b(0)
   273 6C05 99 99				:2 dta b(%10011001)
   274 6C07 DB					dta b(%11011011)
   275 6C08 00					dta b(0)
   276 6C09 FF FF FF				:3 dta b(%11111111)
   277 6C0C 00					dta b(0)
   278 6C0D FF FF FF				:3 dta b(%11111111)
   279 6C10 00					dta b(0)
   280 6C11 7E 7E 7E				:3 dta b(%01111110)
   281 6C14 00					dta b(0)
   282 6C15 7E					dta b(%01111110)
   283 6C16 3C					dta b(%00111100)
   284 6C17 24					dta b(%00100100)
   285 6C18 00					dta b(0)
   286 6C19 24 24 24				:3 dta b(%00100100)
   287 6C1C 00					dta b(0)
   288 6C1D 24					dta b(%00100100)
   289 6C1E 3C					dta b(%00111100)
   290 6C1F 18					dta b(%00011000)
   291 6C20 00					dta b(0)
   292 6C21 18 18 18				:3 dta b(%00011000)
   293 6C24 00					dta b(0)
   294 6C25 42 42 42				:3 dta b(%01000010)
   295 6C28 00					dta b(0)
   296 6C29 C3 C3 C3				:3 dta b(%11000011)
   297 6C2C 00					dta b(0)
   298 6C2D 24 24				:2 dta b(%00100100)
   299 6C2F 18 18				:2 dta b(%00011000)
   300 6C31 24 24				:2 dta b(%00100100)
   301 6C33 00					dta b(0)
   302 6C34 C3 C3 C3				:3 dta b(%11000011)
   303 6C37 00					dta b(0)
   304 6C38 42 42 42				:3 dta b(%01000010)
   305 						
   306 = 6C3B			alarmShape	equ *
   307 6C3B 08 08 08				:3 dta b(%00001000)
   308 6C3E 00 00 00				:3 dta b(0)
   309 6C41 41					dta b(%01000001)
   310 6C42 49 49				:2 dta b(%01001001)
   311 6C44 00					dta b(0)
   312 6C45 1C 1C				:2 dta b(%00011100)
   313 6C47 00					dta b(0)
   314 6C48 3E 3E				:2 dta b(%00111110)
   315 6C4A 00					dta b(0)
   316 6C4B 3E 3E				:2 dta b(%00111110)
   317 6C4D 00					dta b(0)
   318 6C4E 3E 3E				:2 dta b(%00111110)
   319 6C50 41					dta b(%01000001)
   320 6C51 7F 7F 7F 7F 7F			:5 dta b(%01111111)
   321 						
   322 = 6C56			enemyShape	equ *
   323 6C56 08					dta b(%00001000)
   324 6C57 1C					dta b(%00011100)
   325 6C58 14					dta b(%00010100)
   326 6C59 36					dta b(%00110110)
   327 6C5A 3E 3E				:2 dta b(%00111110)
   328 6C5C 77					dta b(%01110111)
   329 6C5D 63 63				:2 dta b(%01100011)
   330 6C5F 41 41 41 41				:4 dta b(%01000001)
   331 					
   332 = 6C63			formationShape	equ	*
   333 6C63 10 10				:2 dta b(%00010000)
   334 6C65 38 38				:2 dta b(%00111000)
   335 6C67 28 28				:2 dta b(%00101000)
   336 6C69 6C 6C				:2 dta b(%01101100)
   337 6C6B 7C 7C 7C				:3 dta b(%01111100)
   338 6C6E EE EE				:2 dta b(%11101110)
   339 6C70 C6 C6 C6 C6				:4 dta b(%11000110)
   340 6C74 82 82 82 82 82 82 + 		:8 dta b(%10000010)
   341 6C7C 00 00				dta b(0,0)
   342 6C7E 08 08				:2 dta b(%00001000)
   343 6C80 1C 1C				:2 dta b(%00011100)
   344 6C82 14 14				:2 dta b(%00010100)
   345 6C84 36 36				:2 dta b(%00110110)
   346 6C86 3E 3E 3E				:3 dta b(%00111110)
   347 6C89 77 77				:2 dta b(%01110111)
   348 6C8B 63 63 63 63				:4 dta b(%01100011)
   349 6C8F 41 41 41 41 41 41 + 		:8 dta b(%01000001)
   350 6C97 00 00				dta b(0,0)
   351 6C99 10 10				:2 dta b(%00010000)
   352 6C9B 38 38				:2 dta b(%00111000)
   353 6C9D 28 28				:2 dta b(%00101000)
   354 6C9F 6C 6C				:2 dta b(%01101100)
   355 6CA1 7C 7C 7C				:3 dta b(%01111100)
   356 6CA4 EE EE				:2 dta b(%11101110)
   357 6CA6 C6 C6 C6 C6				:4 dta b(%11000110)
   358 6CAA 82 82 82 82 82 82 + 		:8 dta b(%10000010)
   359 						
   360 = 6CB2			pokaz_duszki	equ *
   361 6CB2 A9 18				lda #>SPRITES
   362 6CB4 8D 07 D4				sta PMBASE
   363 						
   364 6CB7 A9 00 8D 0A D0			mva #0 SIZEP+2
   365 6CBC A9 00 8D 15 D0			mva #$0 COLPM+3
   366 6CC1 A9 B1				lda #pozWyniki
   367 6CC3 8D 00 D0				sta HPOSP 
   368 6CC6 A9 B9				lda #pozWyniki+8
   369 6CC8 8D 01 D0				sta HPOSP+1
   370
   371 6CCB A9 00				lda #0		
   372 6CCD 8D 60 FE 8D 61 FE + 		:105 sta sprites1+$660+#
   373 						
   374 6E08 60					rts
   375
   376 6E09 00			opoz_denemy1	dta b(0)
   377 						
   378 				;po zbiciu bazy zmniejsz kondycję o ustalona wartośc i ustaw odpowiedni stan kondycji (green,yellow,red)
   379 = 6E0A			zmniejszKondycja	equ *
   380 6E0A AE CE 63				ldx timeLevel
   381 6E0D AD CC 63				lda kondycja
   382 6E10 DD ED 63				cmp conRed,x
   383 6E13 90 29				bcc zmKondycja1
   384 						
   385 6E15 BD DE 63				lda con2enemy,x
   386 6E18 8D CC 63				sta kondycja
   387 6E1B AD CD 63 8D 19 85			mva speedEnemy0 speedEnemy	;=yellow po red
   388 6E21 AD 09 6E 8D 29 24			mva opoz_denemy1 opoz_denemy
   389 6E27 AD 05 88 8D 04 88			mva rotate_speed1d rotate_speed1
   390 6E2D AD 07 88 8D 06 88			mva rotate_speed2d rotate_speed2
   391 6E33 AD 2A 24 8D 46 70			mva opoz_dlosuj losuj1
   392 6E39 A0 01				ldy #1
   393 6E3B 4C 8A 96				jmp setCondition		;ustaw yellow
   394
   395 = 6E3E			zmKondycja1	equ *	
   396 6E3E 38					sec
   397 6E3F AD CC 63				lda kondycja
   398 6E42 D0 02				bne @+
   399 6E44 A9 FF				lda #255
   400 6E46 AE CE 63		@		ldx timeLevel
   401 6E49 FD CF 63				sbc timeBonus,x
   402 6E4C F0 02				beq @+	;jesli zero, lub <0 to ustaw kondycja_start
   403 6E4E B0 06				bcs @+1	
   404 6E50 A9 02		@		lda #kondycja_start+1	
   405 6E52 8D CC 63				sta kondycja
   406 6E55 60					rts
   407
   408 6E56 8D CC 63		@		sta kondycja
   409 6E59 DD D4 63				cmp conYellow,x
   410 6E5C D0 04				bne zm1
   411 6E5E EE CC 63				inc kondycja	;nie wlaczaj sampla
   412 6E61 60					rts				;=yellow
   413 6E62 B0 08		zm1		bcs @+
   414 						
   415 6E64 A0 00 8C 0C 85			mvy #0 max_Enemy		;<yellow, czyli green
   416 6E69 4C 8A 96				jmp setCondition		;ustaw green
   417 						
   418 6E6C DD D9 63		@		cmp con1enemy,x
   419 6E6F D0 01				bne *+3
   420 6E71 60					rts 
   421 6E72 B0 01				bcs @+
   422 						
   423 6E74 60					rts		;<con1enemy
   424 						
   425 6E75 DD DE 63		@		cmp con2enemy,x
   426 6E78 D0 01				bne *+3
   427 6E7A 60					rts		;=con2enemy
   428 6E7B B0 06				bcs @+
   429 						
   430 6E7D A9 01 8D 0C 85			mva #1 max_Enemy
   431 6E82 60					rts		;<con2enemy czyli = con1enemy
   432 						
   433 6E83 DD E3 63		@		cmp con3enemy,x
   434 6E86 D0 01				bne *+3
   435 6E88 60					rts
   436 6E89 B0 06				bcs @+
   437 						
   438 6E8B A0 02				ldy #2
   439 6E8D 8C 0C 85				sty max_Enemy	;<con3enemy, czyli con2enemy
   440 6E90 60					rts
   441 						
   442 6E91 60			@		rts
   443 						
   330 6E92						icl 'rakiety.asm'
Source: rakiety.asm
     1 6E92			rakietyStan	org *+8	;:8 dta b(0)
     2 6E9A			rakietyTyp	org *+8	;:8 dta b(0)
     3 6EA2			rakietyX		org *+8	;:8 dta b(0)
     4 6EAA			rakietyX0	org *+8	;:8 dta b(0)
     5 6EB2			rakietyY		org *+8	;:8 dta b(0)
     6 6EBA			rakietyY0	org *+8	;:8 dta b(0)
     7 6EC2			rakietyMove	org *+8	;:8 dta b(0)
     8
     9 				;obsluga rakiet
    10 = 6ECA			rakiety		equ *
    11 6ECA-850C> A2 07					ldx #7
    12 = 6ECC			rak0		equ *
    13 6ECC BD 92 6E		@			lda rakietyStan,x
    14 6ECF D0 04					bne @+
    15 6ED1 CA			rak1		dex
    16 6ED2 10 F8					bpl @-
    17 6ED4 60						rts			
    18 								
    19 6ED5 BD 9A 6E		@			lda rakietyTyp,x
    20 6ED8 4A						lsr 
    21 6ED9 F0 03 4C 67 6F				jne rakPoziom
    22 							
    23 = 6EDE			rakPion		equ *
    24 6EDE 38						sec
    25 6EDF BD B2 6E					lda rakietyY,x
    26 6EE2 E5 18					sbc posY
    27 6EE4 9D BA 6E					sta rakietyY0,x
    28 6EE7 18						clc
    29 6EE8 69 01					adc #1
    30 6EEA C9 1E					cmp #30
    31 6EEC B0 11					bcs @+
    32 							
    33 6EEE 38						sec
    34 6EEF BD A2 6E					lda rakietyX,x
    35 6EF2 E5 17					sbc posX		;c=1
    36 6EF4 A8						tay
    37 6EF5 B9 00 13					lda tabX,y
    38 6EF8 9D AA 6E					sta rakietyX0,x
    39 6EFB C9 21					cmp #33
    40 6EFD 90 18					bcc @+1
    41 6EFF BD C2 6E		@			lda rakietyMove,x
    42 6F02 F0 CD					beq rak1
    43 6F04 BC 92 6E					ldy rakietyStan,x
    44 6F07 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
    45 6F0C A9 00					lda #0
    46 6F0E 9D 92 6E					sta rakietyStan,x
    47 6F11 9D C2 6E					sta rakietyMove,x
    48 6F14 4C D1 6E					jmp rak1
    49
    50 6F17 69 08		@			adc #8
    51 6F19 85 3D					sta pom0f
    52 6F1B BC BA 6E					ldy rakietyY0,x
    53 6F1E C8						iny
    54 							
    55 6F1F A5 1F					lda ramka
    56 6F21 D0 22					bne @+
    57 							
    58 6F23 18						clc
    59 6F24 B9 07 17					lda obraz1La+7,y
    60 6F27 65 3D					adc pom0f
    61 6F29 85 69					sta pom
    62 6F2B B9 2C 17					lda obraz1Ha+7,y
    63 6F2E 69 00					adc #0
    64 6F30 85 6A					sta pom+1
    65 							
    66 6F32 BD 9A 6E					lda rakietyTyp,x
    67 6F35 0A						asl 
    68 6F36 69 A7					adc #firstRakietaChar+128
    69 							
    70 6F38 A0 00					ldy #0
    71 6F3A 91 69					sta (pom),y
    72 6F3C A0 30					ldy #48
    73 6F3E 69 01					adc #1
    74 6F40 91 69					sta (pom),y
    75 6F42 4C D1 6E					jmp rak1
    76 							
    77 6F45 18			@			clc
    78 6F46 B9 51 17					lda obraz2La+7,y
    79 6F49 65 3D					adc pom0f
    80 6F4B 85 69					sta pom
    81 6F4D B9 76 17					lda obraz2Ha+7,y
    82 6F50 69 00					adc #0
    83 6F52 85 6A					sta pom+1
    84
    85 6F54 BD 9A 6E					lda rakietyTyp,x
    86 6F57 0A						asl @
    87 6F58 69 A7					adc #firstRakietaChar+128
    88 							
    89 6F5A A0 00					ldy #0
    90 6F5C 91 69					sta (pom),y
    91 6F5E A0 30					ldy #48
    92 6F60 69 01					adc #1
    93 6F62 91 69					sta (pom),y
    94 6F64 4C D1 6E					jmp rak1
    95
    96
    97 = 6F67			rakPoziom	equ *
    98 6F67 38						sec
    99 6F68 BD B2 6E					lda rakietyY,x
   100 6F6B E5 18					sbc posY
   101 6F6D 9D BA 6E					sta rakietyY0,x
   102 6F70 C9 1D					cmp #29
   103 6F72 B0 14					bcs @+
   104 							
   105 6F74 38						sec
   106 6F75 BD A2 6E					lda rakietyX,x
   107 6F78 E5 17					sbc posX		;c=1
   108 6F7A A8						tay
   109 6F7B B9 00 13					lda tabX,y
   110 6F7E 9D AA 6E					sta rakietyX0,x
   111 6F81 18						clc
   112 6F82 69 01					adc #1
   113 6F84 C9 22					cmp #34
   114 6F86 90 1B					bcc @+1
   115 6F88 BD C2 6E		@			lda rakietyMove,x
   116 6F8B D0 03 4C D1 6E				jeq rak1
   117 6F90 BC 92 6E					ldy rakietyStan,x
   118 6F93 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
   119 6F98 A9 00					lda #0
   120 6F9A 9D 92 6E					sta rakietyStan,x
   121 6F9D 9D C2 6E					sta rakietyMove,x
   122 6FA0 4C D1 6E					jmp rak1
   123
   124 6FA3 69 07		@			adc #7
   125 6FA5 85 3D					sta pom0f
   126 6FA7 BC BA 6E					ldy rakietyY0,x
   127 							
   128 6FAA A5 1F					lda ramka
   129 6FAC D0 21					bne @+
   130 							
   131 6FAE 18						clc
   132 6FAF B9 08 17					lda obraz1La+8,y
   133 6FB2 65 3D					adc pom0f
   134 6FB4 85 69					sta pom
   135 6FB6 B9 2D 17					lda obraz1Ha+8,y
   136 6FB9 69 00					adc #0
   137 6FBB 85 6A					sta pom+1
   138 							
   139 6FBD BD 9A 6E					lda rakietyTyp,x
   140 6FC0 0A						asl @
   141 6FC1 69 A7					adc #firstRakietaChar+128
   142 							
   143 6FC3 A0 00					ldy #0
   144 6FC5 91 69					sta (pom),y
   145 6FC7 C8						iny
   146 6FC8 69 01					adc #1
   147 6FCA 91 69					sta (pom),y
   148
   149 6FCC 4C D1 6E					jmp rak1
   150 							
   151 6FCF 18			@			clc
   152 6FD0 B9 52 17					lda obraz2La+8,y
   153 6FD3 65 3D					adc pom0f
   154 6FD5 85 69					sta pom
   155 6FD7 B9 77 17					lda obraz2Ha+8,y
   156 6FDA 69 00					adc #0
   157 6FDC 85 6A					sta pom+1
   158
   159 6FDE BD 9A 6E					lda rakietyTyp,x
   160 6FE1 0A						asl @
   161 6FE2 69 A7					adc #firstRakietaChar+128
   162 							
   163 6FE4 A0 00					ldy #0
   164 6FE6 91 69					sta (pom),y
   165 6FE8 C8						iny
   166 6FE9 69 01					adc #1
   167 6FEB 91 69					sta (pom),y
   168
   169 6FED 4C D1 6E					jmp rak1
   170 							
   171 				;poruszaj rakietami
   172 = 6FF0			moveRakiety	equ *
   173 6FF0 A2 07					ldx #7
   174 6FF2 BD C2 6E		mra2		lda rakietyMove,x
   175 6FF5 D0 04					bne mra1
   176 6FF7 CA						dex
   177 6FF8 10 F8					bpl mra2
   178 6FFA 60						rts
   179 										
   180 6FFB BD 9A 6E		mra1		lda rakietyTyp,x
   181 6FFE D0 07					bne @+
   182 7000 DE B2 6E					dec rakietyY,x
   183 7003 CA						dex
   184 7004 10 EC					bpl mra2
   185 7006 60						rts
   186 7007 C9 01		@			cmp #1
   187 7009 D0 07					bne @+
   188 700B FE B2 6E					inc rakietyY,x
   189 700E CA						dex
   190 700F 10 E1					bpl mra2
   191 7011 60						rts
   192 7012 C9 03		@			cmp #3
   193 7014 B0 0E					bcs @+		
   194 7016 BD A2 6E					lda rakietyX,x
   195 7019 E9 00					sbc #0	;c=0 czyli odejmij 1
   196 701B 29 7F					and #127
   197 701D 9D A2 6E					sta rakietyX,x
   198 7020 CA						dex
   199 7021 10 CF					bpl mra2
   200 7023 60						rts
   201 7024 BD A2 6E		@			lda rakietyX,x
   202 7027 69 00					adc #0		;c=1 czyli dodaj 1
   203 7029 29 7F					and #127
   204 702B 9D A2 6E					sta rakietyX,x
   205 702E CA						dex
   206 702F 10 C1					bpl mra2
   207 7031 60						rts
   208
   209 7032 00			rak_flag	dta b(0)
   210 							
   211 				;uruchom rakiety przy bazach typu A	pionowe, typ 0 i 1
   212 				odpalRakietyA	.macro	;equ *
   213 				
   214 							ldy #7
   215 							mva #0 rak_flag
   216 				odpraka0	ldx rakietyStan,y
   217 							beq odpraka1
   218 							
   219 							lda rakietyTyp,y
   220 							and #%10
   221 							bne odpraka1
   222 							sta bazyRakieta-1,x			;wyczysc numer rakiety przypisanej do bazy,A=0
   223 							mva #1 rakietyMove,y		;uwolnienie rakiety
   224 							sta rak_flag
   225 				odpraka1	dey
   226 							bpl odpraka0
   227 							lda rak_flag
   228 							beq odpraka2
   229 							lda #15*2
   230 							sta SFX_RAKIETA
   231 				odpraka2	equ *	;lda licznikJadroA
   232 							
   233 							.endm
   234 							
   235 							
   236 							
   237 							
   238 				odpalRakietyB	.macro	;equ *		;poziome typ 2 i 3
   239 				
   240 							ldy #7
   241 							mva #0 rak_flag
   242 				odprakb0	ldx rakietyStan,y
   243 							beq odprakb1
   244 							
   245 							lda rakietyTyp,y
   246 							and #%10
   247 							beq odprakb1
   248 							sta rakietyMove,y	;mva #1 rakietyMove,y		;uwolnienie rakiety
   249 							sta rak_flag
   250 							mva #0 bazyRakieta-1,x		;wyczysc numer rakiety przypisanej do bazy
   251 				odprakb1	dey
   252 							bpl odprakb0
   253 							lda rak_flag
   254 							beq odprakb2
   255 							lda #15*2
   256 							sta SFX_RAKIETA
   257 				odprakb2	equ *	;lda licznikJadroB
   258 							
   259 							.endm
   260 							
   261 					
   262 				;rakiety bazy A
   263 				DODAJRAKIETAA	.macro	
   264 							lda licznikJadroA
   265 							cmp #5
   266 							bcc dra1
   267 							cmp #16
   268 							bcs dra1
   269 							
   270 							szukajRakieta		;MACRO
   271 							sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
   272 							
   273 							txa
   274 							sta rakietyStan,y
   275 							lda bazyX-1,x
   276 							clc
   277 							adc #4
   278 							sta rakietyX,y
   279 							
   280 							lda bazyY0-1,x		;nad czy pod statkiem ?
   281 							clc
   282 							adc #8
   283 							cmp #10+8
   284 							bcc dra2
   285 							
   286 							mva #0 rakietyTyp,y		;w gore
   287 							lda bazyY-1,x
   288 							clc
   289 							adc #2
   290 							sta rakietyY,y
   291 							jmp dra1
   292 							
   293 				dra2		mva #1 rakietyTyp,y		;w dol
   294 							lda bazyY-1,x
   295 							clc
   296 							adc #4
   297 							sta rakietyY,y
   298 										
   299 				dra1		equ *
   300 							.endm
   301
   302 				;poszukaj nieaktywna rakiete
   303 				szukajRakieta	.macro	;equ *
   304 				
   305 							ldy #7
   306 				szrak0		lda rakietyStan,y
   307 							beq szrak1
   308 							dey
   309 							bpl szrak0
   310 				szrak1		tya
   311 							
   312 							.endm
   313 							
   314
   315 				;rakiety bazy B
   316 				DODAJRAKIETAB	.macro
   317 							lda licznikJadroB
   318 							cmp #5
   319 							bcc drb1
   320 							cmp #16
   321 							bcs drb1
   322 							
   323 							szukajRakieta		;MACRO
   324 							sta bazyRakieta-1,x		;wpisz numer przypisanej rakiety
   325 							
   326 							txa
   327 							sta rakietyStan,y
   328 							lda bazyY-1,x
   329 							clc
   330 							adc #4
   331 							sta rakietyY,y
   332 							
   333 							lda bazyX0-1,x		;po lewo czy po prawo od statku?
   334 							clc
   335 							adc #8
   336 							cmp #12+8
   337 							bcc drb2
   338 							
   339 							mva #2 rakietyTyp,y		;w lewo
   340 							lda bazyX-1,x
   341 							clc
   342 							adc #2
   343 							sta rakietyX,y
   344 							jmp drb1
   345 							
   346 				drb2		mva #3 rakietyTyp,y		;w prawo
   347 							lda bazyX-1,x
   348 							clc
   349 							adc #4
   350 							sta rakietyX,y
   351 									
   352 				drb1		equ *			
   353 							.endm
   354 							
   355 							
   356 							
   357 							
   358
   359 							
   331 							
   332 7033						icl 'spy.asm'
Source: spy.asm
     1 7033 00			jestSpy		dta b(0)		;czy pojawil sie spy
     2 7034 03 21 13 FE		spyTab1	dta b(3,33,19,-2)
     3 7038 FE 16 1D 09				dta b(-2,22,29,9)
     4
     5 703C 06 0C 00 04				dta b(6,12,0,4)
     6 7040 00			spylicznik	dta b(0)	
     7 7041 00			spylicznik1	dta b(0)
     8 7042 01 FF		spyTab3		dta b(1,-1)	
     9 7044 00			spyScoreRysuj	dta b(0)
    10
    11
    12 7045 00			licznikSpyScore	dta b(0)
    13 7046 00			losuj1 	dta b(0)
    14
    15 = 7047			przepisz5duszka	equ *
    16 7047 A2 00				ldx #0
    17 7049 BD B7 17		@		lda enemy,x		;poszukaj pustego duszka
    18 704C F0 03				beq @+
    19 704E E8					inx
    20 704F D0 F8				bne @-
    21 						
    22 7051 AD 67 31		@		lda enemyEkran+5			;kopiuj obecnego przeciwnika na pozycję 0
    23 7054 9D 62 31				sta enemyEkran,x
    24 7057 AD 73 31				lda enemyWybuch+5
    25 705A 9D 6E 31				sta enemyWybuch,x
    26 705D A9 01 9D B7 17			mva #1 enemy,x
    27 7062 8D 67 31				sta enemyEkran+5
    28 7065 A9 00 8D BC 17			mva #0 enemy+5
    29 706A 8D 73 31				sta enemyWybuch+5
    30 706D AD 61 31				lda enemyNegatyw+5
    31 7070 9D 5C 31				sta enemyNegatyw,x
    32 7073 AD EC 17				lda enemyBank+5
    33 7076 9D E7 17				sta enemyBank,x
    34 7079 AD F2 17				lda enemyShapeH+5
    35 707C 9D ED 17				sta enemyShapeH,x
    36 707F AD E6 17				lda enemyFaza+5
    37 7082 9D E1 17				sta enemyFaza,x
    38 7085 AD DA 17				lda enemyDX+5
    39 7088 9D D5 17				sta enemyDX,x
    40 708B AD E0 17				lda enemyDY+5
    41 708E 9D DB 17				sta enemyDY,x
    42 7091 AD C2 17				lda enemyX+5
    43 7094 9D BD 17				sta enemyX,x
    44 7097 AD CE 17				lda enemyY+5
    45 709A 9D C9 17				sta enemyY,x
    46 709D AD 12 85				lda enLicznik+5
    47 70A0 9D 0D 85				sta enLicznik,x
    48 70A3 AD 18 85				lda enRotate+5
    49 70A6 9D 13 85				sta enRotate,x
    50 						
    51 70A9 60					rts
    52
    53 = 70AA			losuj	equ *
    54 70AA AD 75 8A				lda poziom
    55 70AD C9 03				cmp #spy_from_level			;spy od 2 poziomu
    56 70AF B0 01				bcs *+3
    57 70B1 60					rts
    58 70B2 CE 46 70		@		dec losuj1
    59 70B5 F0 01				beq @+
    60 70B7 60					rts
    61 70B8 AD 2A 24 8D 46 70	@		mva opoz_dlosuj losuj1
    62 70BE AD 0B 85				lda ile_enemy
    63 70C1 C9 04				cmp #4			;jeśli na ekranie jest więcej niż 3 przeciwnikow to wyjdz
    64 70C3 90 01				bcc @+
    65 70C5 60					rts
    66 70C6 AD 33 70		@		lda jestSpy		;nie może być szpiega
    67 70C9 0D 3D 24				ora speech		;jesli sampel, to wyjdz
    68 70CC 0D 73 31				ora enemyWybuch+5 ;brak wybuchu szpiega
    69 70CF 0D 44 70				ora spyScoreRysuj	;brak punktów po szpiegu
    70 70D2 0D 7D 22				ora formacja_stan	;brak formacji
    71 70D5 F0 01				beq *+3
    72 70D7 60					rts
    73 70D8 AE CE 63				ldx timeLevel
    74 70DB AD CC 63				lda kondycja
    75 70DE DD D9 63				cmp con1enemy,x
    76 70E1 B0 01				bcs *+3
    77 70E3 60					rts
    78 70E4 DD E8 63				cmp spyEnd,x
    79 70E7 90 01				bcc *+3
    80 70E9 60					rts
    81 						
    82 70EA AD 0A D2				lda random
    83 70ED 29 1F				and #%00011111
    84 70EF C9 03				cmp #%011
    85 70F1 F0 04				beq @+
    86 70F3 C9 05				cmp #%101
    87 70F5 D0 20				bne @+1
    88 						
    89 70F7 A9 01 8D FC 63	@		mva #1 nobanner		;spy ship sighted
    90 70FC 8D 33 70				sta jestSpy
    91 70FF 8D 3D 24				sta speech
    92 7102 85 D5				sta powtorz
    93 7104 A9 03 85 D0				mva #3 rodzajSpeech
    94 7108 AD A0 CF 85 94			mva sample+8 sam		;poczatek sampla  8
    95 710D 85 BA				sta sam2
    96 710F AD A1 CF 85 95			mva sample+8+1 sam+1
    97 7114 85 BE				sta sam2s			
    98 					
    99 7116 60					rts
   100 						
   101 7117 C9 0B		@		cmp #%1011
   102 7119 F0 05				beq @+
   103 711B C9 09				cmp #%1001
   104 711D F0 01				beq @+
   105 						
   106 711F 60					rts
   107 						
   108 7120 AD 75 8A		@		lda poziom
   109 7123 C9 04				cmp #formation_from_level			;formacja od 4 poziomu
   110 7125 B0 01				bcs *+3
   111 7127 60					rts
   112 7128 EE 7D 22		@		inc formacja_stan
   113 712B A2 05				ldx #5
   114 712D BD B7 17		@		lda enemy,x
   115 7130 F0 0A				beq @+
   116 7132 A9 00 9D 0D 85			mva #0 enLicznik,x	;przyspiesz opuszczenie ekranu przez wrogów
   117 7137 A9 01 9D 13 85			mva #1 enRotate,x
   118 713C CA			@		dex
   119 713D 10 EE				bpl @-1
   120 						
   121 713F AD 0A D2				lda random		;losujemy typ formacji
   122 7142 2D 26 24				and formacja_maska		;0,1 lub 3
   123 7145 18					clc
   124 7146 69 01				adc #1
   125 7148 8D 24 24				sta formacja_typ
   126
   127 714B A9 01 8D FC 63			mva #1 nobanner		;battle station
   128 7150 8D 3D 24				sta speech
   129 7153 A9 01				lda #1
   130 7155 85 D5				sta powtorz
   131 7157 A9 05 85 D0				mva #5 rodzajSpeech
   132 715B AD A2 CF 85 94			mva sample+10 sam		;poczatek sampla  8
   133 7160 85 BA				sta sam2
   134 7162 AD A3 CF 85 95			mva sample+10+1 sam+1
   135 7167 85 BE				sta sam2s
   136 					
   137 						
   138 7169 A9 26 8D E7 22			mva #$26 conditionColor1
   139 716E A9 34 8D DF 22			mva #$34 conditionColor
   140 7173 60					rts
   141 						
   142
   143 = 7174			spy		equ *
   144 7174 AD 33 70				lda jestSpy
   145 7177 D0 01				bne @+
   146 7179 60					rts
   147 						
   148 717A C9 01		@		cmp #1
   149 717C D0 06				bne @+
   150 717E CD 3D 24				cmp speech
   151 7181 D0 05				bne dodajSpy
   152 7183 60					rts		;jeszcze jest odgrywany sampel
   153 7184 C9 02		@		cmp #2		;zabezpieczenie , inna procedura moze przerwac sampla i dodac odrazu spy
   154 7186 D0 67				bne moveSpy
   155 						;beq dodajSpy
   156 						;jmp moveSpy		;jesli jestSpy>2 to animuj 
   157 						
   158 						
   159 = 7188			dodajSpy	equ *
   160 7188 AD FC 63				lda nobanner
   161 718B F0 01				beq *+3
   162 718D 60					rts
   163 						
   164 718E A9 03 8D 33 70			mva #3 jestSpy
   165 7193 AD BC 17				lda enemy+5		;czy czasami nie jest zajety?
   166 7196 F0 03				beq @+
   167 						
   168 7198 20 47 70				jsr przepisz5duszka
   169 						
   170 719B A9 01 8D BC 17	@		mva #1 enemy+5
   171 71A0 AD 0A D2				lda Random
   172 71A3 29 03				and #%11
   173 71A5 AA					tax
   174 						
   175 71A6 18					clc
   176 71A7 A5 17				lda posX
   177 71A9 7D 34 70				adc spyTab1,x
   178 71AC 29 7F				and #127
   179 71AE 8D C2 17				sta enemyX+5
   180 71B1 18					clc
   181 71B2 A5 18				lda posY
   182 71B4 7D 38 70				adc spyTab1+4,x
   183 71B7 8D CE 17				sta enemyY+5
   184 71BA BD 3C 70				lda spyTab1+8,x
   185 71BD 8D E6 17				sta enemyFaza+5
   186 71C0 AD 0A D2				lda random
   187 71C3 29 F0				and #%11110000
   188 71C5 8D DA 17				sta enemyDX+5
   189 71C8 AD 0A D2				lda random
   190 71CB 29 F0				and #%11110000
   191 71CD 8D E0 17				sta enemyDY+5
   192 71D0 A9 80 8D 61 31			mva #EKOLOR1 enemyNegatyw+5
   193 71D5 A9 00				lda #0
   194 71D7 8D 73 31				sta enemyWybuch+5
   195 71DA A9 E6 8D EC 17			mva #BANK3 enemyBank+5
   196 71DF A9 40 8D F2 17			mva >enemy5shapetab enemyShapeH+5 
   197 71E4 A9 0A 8D 40 70			mva #20-10 spylicznik	;opoznienie zmiany kierunku
   198 71E9 A9 F0 8D 41 70			mva #240 spylicznik1	;jak dlugo duszek musi byc na ekranie
   199 71EE 60					rts
   200
   201 71EF AD 73 31		moveSpy	lda enemyWybuch+5
   202 71F2 0D BC 17				ora enemy+5
   203 71F5 D0 26				bne @+1
   204 71F7 8D 33 70				sta jestSpy			;po zakończeniu wybuchu, A=0
   205 71FA AD 7C 8A				lda spyScore
   206 71FD 10 07				bpl @+
   207 71FF AD 2A 24 8D 46 70			mva opoz_dlosuj losuj1
   208 7205 60					rts
   209 						
   210 7206 A9 01 8D 44 70	@		mva #1 spyScoreRysuj	;narysuj wylosowane punkty	
   211 720B A9 19 8D 45 70			mva #25 licznikSpyScore
   212 7210 AD C2 17 8D 7D 8A			mva enemyX+5 spyscoreX
   213 7216 AD CE 17 8D 7E 8A			mva enemyY+5 spyscoreY
   214 721C 60					rts
   215 						
   216 721D AD 73 31		@		lda enemyWybuch+5
   217 7220 F0 01				beq @+
   218 						;lda #50		;jesli spy zostal zestrzelony to nie bedzie kary (condition red)
   219 						;sta spylicznik1
   220 7222 60					rts
   221 							
   222 7223 AD E6 17		@		lda enemyFaza+5			;przesun duszka
   223 7226 0D E1 8F				ora spySpeed		;predkosc szpiega
   224 7229 AC 41 70				ldy spylicznik1
   225 722C C0 E8				cpy #232
   226 722E 90 04				bcc @+
   227 7230 29 1F				and #%00011111
   228 7232 09 E0				ora #224
   229 7234 A8			@		tay
   230 7235 AD DA 17				lda enemyDX+5
   231 7238 79 56 85				adc enemyTab2,y
   232 						
   233 723B 8D DA 17				sta enemyDX+5
   234 723E 90 11				bcc @+			
   235 7240 B9 56 85				lda enemyTab2,y
   236 7243 30 1B				bmi @+1		;przepełnienie było spowodowane odejmowaniem
   237 7245 EE C2 17				inc enemyX+5
   238 7248 10 16				bpl @+1
   239 724A A9 00 8D C2 17			mva #0 enemyX+5
   240 724F F0 0F				beq @+1	;jmp
   241 7251 B9 56 85		@		lda enemyTab2,y
   242 7254 10 0A				bpl @+
   243 7256 CE C2 17				dec enemyX+5
   244 7259 10 05				bpl @+
   245 725B A9 7F 8D C2 17			mva #127 enemyX+5
   246 						
   247 7260 18			@		clc
   248 7261 AD E0 17				lda enemyDY+5
   249 7264 79 66 85				adc enemyTab2+16,y
   250 7267 8D E0 17				sta enemyDY+5
   251 726A 90 0B				bcc @+
   252 726C B9 66 85				lda enemyTab2+16,y
   253 726F 30 0E				bmi @+1
   254 7271 EE CE 17				inc enemyY+5
   255 7274 4C 7F 72				jmp @+1
   256 7277 B9 66 85		@		lda enemyTab2+16,y
   257 727A 10 03				bpl @+
   258 727C CE CE 17				dec enemyY+5		
   259 								
   260 727F A5 1F		@		lda ramka		;zmniejszaj licznik tylko przy parzystej ramce
   261 7281 D0 2C				bne @+1
   262 7283 AD 41 70				lda spylicznik1
   263 7286 F0 05				beq @+
   264 7288 CE 41 70				dec spylicznik1
   265 728B D0 22				bne @+1
   266 728D AD 67 31		@		lda enemyEkran+5
   267 7290 F0 1D				beq @+
   268 7292 A9 00 8D BC 17			mva #0 enemy+5		;wyłącz spy
   269 7297 8D 33 70				sta jestSpy
   270 729A AE CE 63		msp1	ldx timeLevel	;poziom trudnosci
   271 729D AD CC 63				lda kondycja
   272 72A0 DD D4 63				cmp conYellow,x	;jesli con=green to daruj ucieczke szpiega
   273 72A3 B0 01				bcs *+3
   274 72A5 60					rts
   275 72A6 BD ED 63				lda conred,x
   276 						;sec
   277 72A9 E9 02				sbc #2
   278 72AB 8D CC 63				sta kondycja		;przejdź natychmiast do condition red
   279 72AE 60					rts		
   280
   281 						
   282 72AF CE 40 70		@		dec spylicznik
   283 72B2 F0 01				beq @+
   284 72B4 60					rts	
   285 										
   286 72B5 A9 08 8D 40 70	@		mva #8 spylicznik
   287 72BA AD 67 31				lda enemyEkran+5
   288 72BD D0 13				bne @+
   289
   290 72BF AD 0A D2				lda random
   291 72C2 29 01				and #1
   292 72C4 AA					tax
   293 72C5 18					clc
   294 72C6 AD E6 17				lda enemyFaza+5
   295 72C9 7D 42 70				adc spyTab3,x
   296 72CC 29 0F				and #15
   297 72CE 8D E6 17				sta enemyFaza+5	
   298 						
   299 72D1 60					rts	
   300
   301 				;korekcja lotu szpiega poza ekranem		
   302 72D2 A2 05		@		ldx #5
   303 72D4 4C 93 86				jmp korekcjaLotu
   304 							
   305 						
   306 				;print spy score
   307 = 72D7			printSpyScore	equ *
   308 72D7 AD 44 70				lda spyScoreRysuj
   309 72DA D0 01				bne *+3
   310 72DC 60					rts
   311 72DD CE 45 70				dec licznikSpyScore
   312 72E0 D0 06				bne @+
   313 72E2 A9 00 8D 44 70	prss1	mva #0 spyScoreRysuj		;nie rysuj już punktow
   314 72E7 60					rts
   315
   316 72E8 AD 45 70		@		lda licznikSpyScore
   317 72EB C9 18				cmp #24
   318 72ED 90 25				bcc @+
   319 						;lda spyscoreX
   320 						;sta enemyX+5
   321 72EF AD 7E 8A				lda spyscoreY
   322 72F2 8D CE 17				sta enemyY+5
   323 72F5 A9 40 8D DA 17			mva #64 enemyDX+5
   324 72FA AD 7C 8A 8D E6 17			mva spyScore enemyFaza+5
   325 7300 A9 00 8D E0 17			mva #0 enemyDY+5
   326 7305 A9 EE 8D EC 17			mva #BANK1 enemyBank+5
   327 730A A9 66 8D F2 17			mva #>bonus_shapetab enemyShapeH+5
   328 730F A9 00 8D 61 31			mva #EKOLOR0 enemyNegatyw+5
   329 						
   330 7314 AD 7D 8A		@		lda spyscoreX
   331 7317 8D C2 17				sta enemyX+5
   332 731A A2 05				ldx #5
   333 731C 20 87 31				jsr duszkiPrint
   334 731F A2 00 8E C2 17			mvx #0 enemyX+5
   335 7324 E8					inx
   336 7325 8E 67 31				stx enemyEkran+5		;nie sprawdzaj kolizji z napisem
   337 7328 60					rts
   338 						
   339
   333
   334 7329						icl 'formation.asm'
Source: formation.asm
     1
     2
     3 				;formation
     4 = 7329			formacja	equ *
     5 7329 AD 7D 22				lda formacja_stan	;stan musi byc =0, >0 formacja jest juz wlaczona
     6 732C D0 01				bne *+3
     7 732E 60					rts
     8 						
     9 732F C9 01				cmp #1
    10 7331 D0 15				jne frm0a
    11 							
    12 7333 AD 3D 24				lda speech		; jesli stan =1 to odgrywany jest sampel
    13 7336 F0 01				beq *+3
    14 7338 60					rts
    15 						
    16 7339 AD 0B 85				lda ile_enemy
    17 733C F0 01				beq @+
    18 733E 60					rts
    19 						
    20 733F A9 00 8D 0F 12	@		mva #0 formacja_zbite
    21 7344 EE 7D 22				inc formacja_stan
    22 7347 60					rts
    23 						
    24 7348 C9 02		frm0a	cmp #2
    25 734A F0 03 4C 14 74			jne frm0
    26 						
    27 734F A9 00				lda #0
    28 7351 20 DA 27				jsr cisza
    29 						
    30 						;mva speedEnemy0 speedEnemy
    31 					;obliczamy pozycje startowa formacji
    32 7354 AD 0A D2				lda RANDOM
    33 7357 29 8F				and #%10001111
    34 7359 09 10				ora #%00010000
    35 735B 18					clc
    36 735C 65 17				adc posX
    37 735E 18					clc
    38 735F 69 11				adc #17
    39 7361 29 7F				and #127
    40 7363 8D C2 17				sta enemyX+5		;pozycja X formacji,duszek 0 dowodca
    41 						
    42 7366 AD 0A D2				lda RANDOM		;rand(192)
    43 7369 29 8F				and #%10001111
    44 736B 09 20				ora #%00100000
    45 736D 18					clc
    46 736E 65 18				adc posY
    47 7370 18					clc
    48 7371 69 0E				adc #14
    49 7373 8D CE 17				sta enemyY+5
    50 						
    51 7376 AE 24 24				ldx formacja_typ
    52 7379 E0 01				cpx #1
    53 737B D0 0B				bne @+
    54 737D 38					sec
    55 737E E5 18				sbc posY
    56 7380 38					sec
    57 7381 E9 0E				sbc #14
    58 7383 30 03				bmi @+
    59 7385 CE 24 24				dec formacja_typ		;=4 w dol
    60 								
    61 7388 A9 00 8D DA 17	@		mva #0 enemyDX+5
    62 738D 8D D6 17				sta enemyDX+1
    63 7390 8D D7 17				sta enemyDX+2
    64 7393 8D D8 17				sta enemyDX+3
    65 7396 8D D9 17				sta enemyDX+4
    66 7399 8D E0 17				sta enemyDY+5
    67 739C 8D DC 17				sta enemyDY+1
    68 739F 8D DD 17				sta enemyDY+2
    69 73A2 8D DE 17				sta enemyDY+3
    70 73A5 8D DF 17				sta enemyDY+4
    71 73A8 A9 00				lda #EKOLOR0
    72 73AA 8D 61 31				sta enemyNegatyw+5
    73 73AD 8D 5D 31				sta enemyNegatyw+1
    74 73B0 8D 5E 31				sta enemyNegatyw+2
    75 73B3 8D 5F 31				sta enemyNegatyw+3
    76 73B6 8D 60 31				sta enemyNegatyw+4
    77 73B9 AD 0A D2				lda random
    78 73BC 29 01				and #1
    79 73BE F0 04				beq @+
    80 73C0 A9 EE				lda #BANK1
    81 73C2 D0 02				bne @+1
    82 73C4 A9 EA		@		lda #BANK2
    83 73C6 8D EC 17		@		sta enemyBank+5
    84 73C9 8D E8 17				sta enemyBank+1
    85 73CC 8D E9 17				sta enemyBank+2
    86 73CF 8D EA 17				sta enemyBank+3
    87 73D2 8D EB 17				sta enemyBank+4
    88 73D5 A9 41 8D F2 17			mva >enemy2shapetab enemyShapeH+5
    89 73DA A9 40 8D EE 17			mva >enemy1shapetab enemyShapeH+1
    90 73DF 8D EF 17				sta enemyShapeH+2
    91 73E2 8D F0 17				sta enemyShapeH+3
    92 73E5 8D F1 17				sta enemyShapeH+4
    93 73E8 A9 01 8D BC 17			mva #1 enemy+5
    94 73ED 8D B8 17 8D B9 17 + 		:4 sta enemy+1+#
    95 						;mva #128 enemyNegatyw+5
    96
    97 73F9 18					clc
    98 73FA AD 0B 85				lda ile_enemy
    99 73FD 69 05				adc #5
   100 73FF 8D 0B 85				sta ile_enemy
   101 7402 20 BA 75				jsr ksztaltFormacji
   102 						
   103 7405 EE 7D 22				inc formacja_stan		;uciekli juz wszyscy ustaw 3
   104 7408 EE 25 24				inc formacja_radar		;rysuj na radarze formacje
   105 740B AD 0A D2				lda random
   106 740E 29 1F				and #%11111
   107 7410 8D 0D 12				sta formacjaX
   108 									
   109 7413 60					rts
   110
   111 				;formacjaX	dta b(0)
   112 						
   113 				; formacja goni ekran z naszym statkiem	
   114 7414 C9 03		frm0	cmp #3
   115 7416 F0 03 4C BB 74			jne frm2
   116 						
   117 741B AD 63 31				lda enemyEkran+1
   118 741E 2D 64 31				and enemyEkran+2
   119 7421 2D 65 31				and enemyEkran+3
   120 7424 2D 66 31				and enemyEkran+4
   121 7427 2D 67 31				and enemyEkran+5
   122 742A D0 0B				bne @+
   123 						
   124 742C EE 7D 22				inc formacja_stan
   125 742F A9 06 8D 0E 12			mva #6 forLicznik
   126 7434 4C 04 75				jmp frm2a	;przejdz od razu do nastepnej fazy
   127 						
   128 7437 18			@		clc
   129 7438 A2 00				ldx #0
   130 743A AD 0D 12				lda formacjaX
   131 743D 65 17				adc posX
   132 743F 29 7F				and #127
   133 7441 38					sec
   134 7442 ED C2 17				sbc enemyX+5
   135 7445 F0 42				beq frmY	;ta sama pozycja X
   136 7447 10 22				bpl @+1		;enemy po lewo od statku
   137 7449 29 7F				and #127
   138 744B C9 40				cmp #64
   139 744D 90 0E				bcc @+
   140 744F AD C2 17				lda enemyX+5
   141 7452 E9 01				sbc #1
   142 7454 29 7F				and #127
   143 7456 8D C2 17				sta enemyX+5
   144 7459 A2 02				ldx #2	;lewo
   145 745B D0 2C				bne frmY	;jmp
   146 745D AD C2 17		@		lda enemyX+5
   147 7460 69 01				adc #1
   148 7462 29 7F				and #127
   149 7464 8D C2 17				sta enemyX+5
   150 7467 A2 01				ldx #1	;prawo
   151 7469 D0 1E				bne frmY	;jmp
   152 746B C9 40		@		cmp #64
   153 746D B0 0E				bcs @+
   154 746F AD C2 17				lda enemyX+5
   155 7472 69 01				adc #1
   156 7474 29 7F				and #127
   157 7476 8D C2 17				sta enemyX+5
   158 7479 A2 01				ldx #1 	;prawo
   159 747B D0 0C				bne frmY	;jmp
   160 747D AD C2 17		@		lda enemyX+5
   161 7480 E9 01				sbc #1
   162 7482 29 7F				and #127
   163 7484 8D C2 17				sta enemyX+5
   164 7487 A2 02				ldx #2	;lewo
   165 						
   166 = 7489			frmY	equ *	; zmiana pozycji Y
   167 7489 18					clc
   168 748A A5 18				lda posY
   169 748C 69 0E				adc #14
   170 748E 38					sec
   171 748F ED CE 17				sbc enemyY+5
   172 7492 F0 13				beq frm1	;pozycja docelowa
   173 7494 30 0A				bmi @+
   174 7496 EE CE 17				inc enemyY+5
   175 7499 8A					txa
   176 749A 09 04				ora #4		;dol
   177 749C AA					tax		
   178 749D 4C A7 74				jmp frm1
   179 74A0 CE CE 17		@		dec enemyY+5
   180 74A3 8A					txa
   181 74A4 09 08				ora #8		;gora
   182 74A6 AA					tax
   183
   184 = 74A7			frm1	equ *	
   185
   186 74A7 BD AF 75				lda frm1tab,x
   187 74AA 8D E6 17				sta enemyFaza+5
   188 						
   189 74AD 20 BA 75				jsr ksztaltFormacji
   190 						
   191 74B0 AD B7 17				lda enemy		;dodatkowy enemy podczas formacji
   192 74B3 F0 01				beq @+
   193 74B5 60					rts
   194 						
   195 74B6 A2 00		@		ldx #0
   196 74B8 4C 42 87				jmp dod_en1		;dodaj przeciwnika jeśli można
   197 						
   198 						
   199
   200 				;forLicznik	dta b(8)
   201 				;formacja_zbite	dta b(0)
   202
   203 = 74BB			frm2	equ *	;formacja jest na ekranie, ściga gracza
   204 74BB C9 04				cmp #4
   205 74BD F0 03 4C 70 75			jne frm3
   206 						
   207 74C2 AD 73 31				lda enemyWybuch+5		;jesli zbity dowodca to nastepna faza
   208 74C5 F0 3D				beq frm2a
   209 						
   210 74C7 A9 05				lda #$5			;5 punktów extra za dowodcę
   211 74C9 20 E2 8F				jsr dodajPunkty
   212 						
   213 74CC EE 7D 22				inc formacja_stan
   214 74CF A9 80				lda #128
   215 74D1 20 DA 27				jsr cisza
   216
   217 74D4 A9 00 8D 3A 24			mva #0 sfxlicznik1
   218 74D9 8D 25 24				sta formacja_radar
   219 74DC 20 B5 99				jsr piszCondition
   220 74DF AC 8E 8A				ldy kondycja_stan		;poprzednia kondycja
   221 74E2 20 8A 96				jsr setCondition
   222 						;mva formacja_speed speedEnemy
   223 74E5 A9 00				lda #0		
   224 74E7 8D 0E 85				sta enLicznik+1		;można usuwać jeśli poza ekranem
   225 74EA 8D 0F 85				sta enLicznik+2
   226 74ED 8D 10 85				sta enLicznik+3
   227 74F0 8D 11 85				sta enLicznik+4
   228 74F3 A9 01				lda #1
   229 74F5 8D 14 85				sta enRotate+1		;od razu można obracać
   230 74F8 8D 15 85				sta enRotate+2
   231 74FB 8D 16 85				sta enRotate+3
   232 74FE 8D 17 85				sta enRotate+4
   233 						;sprawdzmy ile statkow z formacji zostalo zestrzelonych		
   234 7501 4C 70 75				jmp frm3
   235 						
   236 7504 CE 0E 12		frm2a	dec forLicznik
   237 7507 D0 08				bne @+
   238 7509 20 CD 77				jsr korekcjaFormacji
   239 750C A9 04 8D 0E 12			mva #4 forLicznik
   240 						
   241 7511 AD E6 17		@		lda enemyFaza+5			;przesun duszka
   242 7514 0D 27 24				ora formacja_speed		;0 normalna predkosc , 32 podwojna predkosc, 64 - srednia, 96 - pomiedzy srednia a podwojna
   243 7517 A8					tay
   244 7518 18					clc
   245 7519 AD DA 17				lda enemyDX+5
   246 751C 79 56 85				adc enemyTab2,y
   247 751F 8D DA 17				sta enemyDX+5
   248 						
   249 7522 90 11				bcc @+			
   250 7524 B9 56 85				lda enemyTab2,y
   251 7527 30 1B				bmi @+1		;przepełnienie było spowodowane odejmowaniem
   252 7529 EE C2 17				inc enemyX+5
   253 752C 10 16				bpl @+1
   254 752E A9 00 8D C2 17			mva #0 enemyX+5
   255 7533 F0 0F				beq @+1	;jmp
   256 7535 B9 56 85		@		lda enemyTab2,y
   257 7538 10 0A				bpl @+
   258 753A CE C2 17				dec enemyX+5
   259 753D 10 05				bpl @+
   260 753F A9 7F 8D C2 17			mva #127 enemyX+5
   261 						
   262 7544 18			@		clc
   263 7545 AD E0 17				lda enemyDY+5
   264 7548 79 66 85				adc enemyTab2+16,y
   265 754B 8D E0 17				sta enemyDY+5
   266 754E 90 0B				bcc @+
   267 7550 B9 66 85				lda enemyTab2+16,y
   268 7553 30 0E				bmi @+1
   269 7555 EE CE 17				inc enemyY+5
   270 7558 4C 63 75				jmp @+1
   271 755B B9 66 85		@		lda enemyTab2+16,y
   272 755E 10 03				bpl @+
   273 7560 CE CE 17				dec enemyY+5
   274 						
   275 7563 AD B7 17		@		lda enemy
   276 7566 D0 05				bne @+
   277 						
   278 7568 A2 00				ldx #0		;jeśli można dodaj przeciwnika
   279 756A 20 42 87				jsr dod_en1	
   280 						
   281 756D 4C BA 75		@		jmp ksztaltFormacji
   282 						
   283 					
   284 = 7570			frm3	equ *
   285 7570 AD 0B 85				lda ile_enemy		;czekamy na opuszczenie ekranu przez reszte wrogów
   286 7573 F0 13				beq frm4			;formacja_stan=5
   287 7575 C9 01				cmp #1
   288 7577 D0 05				bne @+				;jesli zostal 1 enemy to tylko enemy nr 0
   289 7579 CD B7 17				cmp enemy
   290 757C F0 0A				beq frm4
   291 						
   292 757E AD B7 17		@		lda enemy
   293 7581 F0 01				beq @+
   294 7583 60					rts
   295 7584 AA			@		tax				;jesli mozna dodaj enemy
   296 7585 4C 42 87				jmp dod_en1
   297 						
   298 				;posprzątaj po formacji
   299 = 7588			frm4	equ *
   300 7588 AD 0F 12				lda formacja_zbite
   301 758B C9 06				cmp #6
   302 758D D0 14				bne @+
   303 						
   304 758F A9 80				lda #$80
   305 7591 20 E2 8F				jsr dodajPunkty
   306 7594 A9 01 8D 44 70			mva #1 spyScoreRysuj	;narysuj wylosowane punkty
   307 7599 A9 19 8D 45 70			mva #25 licznikSpyScore
   308 759E A9 03 8D 7C 8A			mva #3 spyscore	;800
   309 						
   310
   311 75A3 A9 00 8D 7D 22	@		mva #0 formacja_stan
   312 75A8 AD CD 63 8D 19 85			mva speedEnemy0 speedEnemy
   313 75AE 60					rts
   314 						
   315 75AF 00 04 0C 00 08 06 + frm1tab	dta b(0,4,12,0,8,6,10,0,0,2,14)		;kierunki (max 10)	
   316 				;dowodca	dta b(3)
   317
   318 = 75BA			ksztaltFormacji	equ *
   319 75BA AD E6 17				lda enemyFaza+5
   320 75BD 8D E2 17 8D E3 17 + 		:4 sta enemyFaza+1+#
   321 						
   322 						
   323 75C9 CE 10 12				dec dowodca
   324 75CC D0 11				bne @+1
   325 75CE A9 02 8D 10 12			mva #2 dowodca
   326 75D3 A9 41				lda #>enemy2shapetab
   327 75D5 CD F2 17				cmp enemyshapeH+5
   328 75D8 D0 02				bne @+
   329 75DA A9 40				lda #>enemy1shapetab		
   330 75DC 8D F2 17		@		sta enemyshapeH+5
   331 						
   332 75DF AD 24 24		@		lda formacja_typ
   333 75E2 D0 7B				bne @+1
   334 					
   335 75E4 18					clc					;strzala w gore ^  =0
   336 75E5 AD E0 17				lda enemyDY+5
   337 75E8 69 40				adc #%01000000
   338 75EA 8D DC 17				sta enemyDY+1
   339 75ED 8D DD 17				sta enemyDY+2
   340 75F0 AD CE 17				lda enemyY+5
   341 75F3 69 02				adc #2
   342 75F5 8D CA 17				sta enemyY+1
   343 75F8 8D CB 17				sta enemyY+2
   344 						
   345 75FB 18					clc
   346 75FC AD DC 17				lda enemyDY+1
   347 75FF 69 40				adc #%01000000
   348 7601 8D DE 17				sta enemyDY+3
   349 7604 8D DF 17				sta enemyDY+4
   350 7607 AD CA 17				lda enemyY+1
   351 760A 69 02				adc #2
   352 760C 8D CC 17				sta enemyY+3
   353 760F 8D CD 17				sta enemyY+4
   354 						
   355 7612 38			@		sec
   356 7613 AD DA 17				lda enemyDX+5
   357 7616 E9 40				sbc #%01000000
   358 7618 8D D6 17				sta enemyDX+1
   359 761B AD C2 17				lda enemyX+5
   360 761E E9 02				sbc #2
   361 7620 29 7F				and #127
   362 7622 8D BE 17				sta enemyX+1
   363 						
   364 7625 38					sec
   365 7626 AD D6 17				lda enemyDX+1
   366 7629 E9 40				sbc #%01000000
   367 762B 8D D8 17				sta enemyDX+3
   368 762E AD BE 17				lda enemyX+1
   369 7631 E9 02				sbc #2
   370 7633 29 7F				and #127
   371 7635 8D C0 17				sta enemyX+3
   372 						
   373 7638 18					clc
   374 7639 AD DA 17				lda enemyDX+5
   375 763C 69 40				adc #%01000000
   376 763E 8D D7 17				sta enemyDX+2
   377 7641 AD C2 17				lda enemyX+5
   378 7644 69 02				adc #2
   379 7646 29 7F				and #127
   380 7648 8D BF 17				sta enemyX+2
   381 						
   382 764B 18					clc
   383 764C AD D7 17				lda enemyDX+2
   384 764F 69 40				adc #%01000000
   385 7651 8D D9 17				sta enemyDX+4
   386 7654 AD BF 17				lda enemyX+2
   387 7657 69 02				adc #2
   388 7659 29 7F				and #127
   389 765B 8D C1 17				sta enemyX+4
   390 						
   391 765E 60					rts
   392 						
   393 765F C9 01		@		cmp #1		;\/
   394 7661 D0 31				bne @+
   395 						
   396 7663 38					sec					;strzala w dol
   397 7664 AD E0 17				lda enemyDY+5
   398 7667 E9 40				sbc #%01000000
   399 7669 8D DC 17				sta enemyDY+1
   400 766C 8D DD 17				sta enemyDY+2
   401 766F AD CE 17				lda enemyY+5
   402 7672 E9 02				sbc #2
   403 7674 8D CA 17				sta enemyY+1
   404 7677 8D CB 17				sta enemyY+2
   405 						
   406 767A 38					sec
   407 767B AD DC 17				lda enemyDY+1
   408 767E E9 40				sbc #%01000000
   409 7680 8D DE 17				sta enemyDY+3
   410 7683 8D DF 17				sta enemyDY+4
   411 7686 AD CA 17				lda enemyY+1
   412 7689 E9 02				sbc #2
   413 768B 8D CC 17				sta enemyY+3
   414 768E 8D CD 17				sta enemyY+4	
   415
   416 7691 4C 12 76				jmp @-1
   417 						
   418 						
   419
   420 7694 C9 02		@		cmp #2
   421 7696 D0 63				bne @+
   422
   423 7698 AD DA 17				lda enemyDX+5		;linia
   424 769B 8D D6 17 8D D7 17 + 		:4 sta enemyDX+1+#
   425 						
   426 76A7 AD C2 17				lda enemyX+5
   427 76AA 8D BE 17 8D BF 17 + 		:4 sta enemyX+1+#
   428
   429 76B6 38					sec
   430 76B7 AD E0 17				lda enemyDY+5
   431 76BA E9 40				sbc #%01000000
   432 76BC 8D DD 17				sta enemyDY+2
   433 76BF AD CE 17				lda enemyY+5
   434 76C2 E9 02				sbc #2
   435 76C4 8D CB 17				sta enemyY+2
   436 						
   437 76C7 38					sec
   438 76C8 AD DD 17				lda enemyDY+2
   439 76CB E9 40				sbc #%01000000
   440 76CD 8D DC 17				sta enemyDY+1
   441 76D0 AD CB 17				lda enemyY+2
   442 76D3 E9 02				sbc #2
   443 76D5 8D CA 17				sta enemyY+1
   444 						
   445 76D8 18					clc
   446 76D9 AD E0 17				lda enemyDY+5
   447 76DC 69 40				adc #%01000000
   448 76DE 8D DE 17				sta enemyDY+3
   449 76E1 AD CE 17				lda enemyY+5
   450 76E4 69 02				adc #2
   451 76E6 8D CC 17				sta enemyY+3
   452 						
   453 76E9 18					clc
   454 76EA AD DE 17				lda enemyDY+3
   455 76ED 69 40				adc #%01000000
   456 76EF 8D DF 17				sta enemyDY+4
   457 76F2 AD CC 17				lda enemyY+3
   458 76F5 69 02				adc #2
   459 76F7 8D CD 17				sta enemyY+4
   460 						
   461 76FA 60					rts
   462
   463
   464 						;wybor ksztaltu
   465 76FB C9 03		@		cmp #3			;czy x
   466 76FD D0 61				bne @+
   467 						
   468 76FF 38					sec
   469 7700 AD DA 17				lda enemyDX+5
   470 7703 E9 40				sbc #%01000000
   471 7705 8D D6 17				sta enemyDX+1
   472 7708 8D D8 17				sta enemyDX+3
   473 770B AD C2 17				lda enemyX+5
   474 770E E9 02				sbc #2
   475 7710 29 7F				and #127
   476 7712 8D BE 17				sta enemyX+1
   477 7715 8D C0 17				sta enemyX+3
   478 						
   479 7718 18					clc
   480 7719 AD DA 17				lda enemyDX+5
   481 771C 69 40				adc #%01000000
   482 771E 8D D7 17				sta enemyDX+2
   483 7721 8D D9 17				sta enemyDX+4
   484 7724 AD C2 17				lda enemyX+5
   485 7727 69 02				adc #2
   486 7729 29 7F				and #127
   487 772B 8D BF 17				sta enemyX+2
   488 772E 8D C1 17				sta enemyX+4
   489 						
   490 7731 38					sec
   491 7732 AD E0 17				lda enemyDY+5
   492 7735 E9 40				sbc #%01000000
   493 7737 8D DC 17				sta enemyDY+1
   494 773A 8D DD 17				sta enemyDY+2
   495 773D AD CE 17				lda enemyY+5
   496 7740 E9 02				sbc #2
   497 7742 8D CA 17				sta enemyY+1
   498 7745 8D CB 17				sta enemyY+2
   499 						
   500 7748 18					clc
   501 7749 AD E0 17				lda enemyDY+5
   502 774C 69 40				adc #%01000000
   503 774E 8D DE 17				sta enemyDY+3
   504 7751 8D DF 17				sta enemyDY+4
   505 7754 AD CE 17				lda enemyY+5
   506 7757 69 02				adc #2
   507 7759 8D CC 17				sta enemyY+3
   508 775C 8D CD 17				sta enemyY+4
   509 						
   510 775F 60					rts
   511 						
   512 7760 AD DA 17		@		lda enemyDX+5		;czy +
   513 7763 8D D6 17				sta enemyDX+1
   514 7766 8D D8 17				sta enemyDX+3
   515 7769 AD C2 17				lda enemyX+5
   516 776C 8D BE 17				sta enemyX+1
   517 776F 8D C0 17				sta enemyX+3
   518 						
   519 7772 38					sec
   520 7773 AD E0 17				lda enemyDY+5
   521 7776 E9 40				sbc #%01000000
   522 7778 8D DC 17				sta enemyDY+1
   523 777B AD CE 17				lda enemyY+5
   524 777E E9 02				sbc #2
   525 7780 8D CA 17				sta enemyY+1
   526 						
   527 7783 18					clc
   528 7784 AD E0 17				lda enemyDY+5
   529 7787 69 40				adc #%01000000
   530 7789 8D DE 17				sta enemyDY+3
   531 778C AD CE 17				lda enemyY+5
   532 778F 69 02				adc #2
   533 7791 8D CC 17				sta enemyY+3
   534 						
   535 7794 AD E0 17				lda enemyDY+5
   536 7797 8D DD 17				sta enemyDY+2
   537 779A 8D DF 17				sta enemyDY+4
   538 779D AD CE 17				lda enemyY+5
   539 77A0 8D CB 17				sta enemyY+2
   540 77A3 8D CD 17				sta enemyY+4
   541 						
   542 77A6 18					clc
   543 77A7 AD DA 17				lda enemyDX+5
   544 77AA 69 40				adc #%01000000
   545 77AC 8D D7 17				sta enemyDX+2
   546 77AF AD C2 17				lda enemyX+5
   547 77B2 69 02				adc #2
   548 77B4 29 7F				and #127
   549 77B6 8D BF 17				sta enemyX+2
   550 						
   551 77B9 38					sec
   552 77BA AD DA 17				lda enemyDX+5
   553 77BD E9 40				sbc #%01000000
   554 77BF 8D D9 17				sta enemyDX+4
   555 77C2 AD C2 17				lda enemyX+5
   556 77C5 E9 02				sbc #2
   557 77C7 29 7F				and #127
   558 77C9 8D C1 17				sta enemyX+4
   559 						
   560 77CC 60					rts
   561 						
   562
   563 						
   564 				;korekcja kątu lotu
   565 = 77CD			korekcjaFormacji	equ *
   566 77CD A0 00				ldy #0
   567 77CF AD D4 17				lda enemyY0+5
   568 77D2 10 02				bpl @+		;jesli wartosc ujemna to przyjmij 0
   569 77D4 A9 00				lda #0
   570 77D6 4A			@		lsr
   571 77D7 C9 07				cmp #7
   572 77D9 90 0A				bcc @+
   573 77DB A0 02				ldy #2
   574 77DD 49 FF				eor #255
   575 77DF 69 0D				adc #13		;c=1 +1
   576 77E1 10 02				bpl @+
   577 77E3 A9 00				lda #0
   578 77E5 0A			@		asl 
   579 77E6 0A					asl
   580 77E7 0A					asl
   581 77E8 85 37				sta pom0
   582
   583 77EA AD C8 17				lda enemyX0+5
   584 77ED 10 02				bpl @+
   585 77EF A9 00				lda #0
   586 77F1 4A			@		lsr
   587 77F2 C9 08				cmp #8
   588 77F4 90 09				bcc @+
   589 77F6 C8					iny
   590 77F7 49 FF				eor #255		;II lub III cwiartka
   591 77F9 69 0F				adc #15		;c=1 +1 zmiana znaku
   592 77FB 10 02				bpl @+
   593 77FD A9 00				lda #0
   594 77FF 05 37		@		ora pom0
   595 7801 8C 09 78				sty cwiartka1+1
   596 7804 A8					tay
   597 7805 B9 45 78				lda formacjaTab,y
   598 = 7808			cwiartka1 equ *
   599 7808 A0 FF				ldy #$ff
   600 						
   601 780A C0 01				cpy #1
   602 780C F0 04				beq @+
   603 780E C0 02				cpy #2
   604 7810 D0 05				bne @+1
   605 						
   606 7812 49 FF		@		eor #255
   607 7814 38					sec
   608 7815 69 08				adc #8
   609 						
   610 7817 C0 00		@		cpy #0
   611 7819 F0 07				beq @+
   612 781B C0 02				cpy #2
   613 781D F0 03				beq @+
   614 						
   615 781F 18					clc
   616 7820 69 08				adc #8
   617 								
   618 7822 38			@		sec
   619 7823 ED E6 17				sbc enemyFaza+5
   620
   621 7826 29 0F				and #%1111
   622 7828 D0 01				bne @+
   623 782A 60					rts			;nie zmieniaj fazy , sa równe
   624 						
   625 782B C9 08		@		cmp #8
   626 782D B0 0B				bcs @+
   627 						;clc
   628 782F AD E6 17				lda enemyFaza+5
   629 7832 69 01				adc #1
   630 7834 29 0F				and #%1111
   631 7836 8D E6 17				sta enemyFaza+5
   632 7839 60					rts
   633 783A AD E6 17		@		lda enemyFaza+5
   634 						;sec
   635 783D E9 01				sbc #1
   636 783F 29 0F				and #%1111
   637 7841 8D E6 17				sta enemyFaza+5
   638 7844 60					rts		
   639 					
   640 7845 05 05 06 06 06 06 + formacjaTab	dta b(5,5,6,6,6,6,8,9)
   641 784D 06 05 06 07 07 06 + 			dta b(6,5,6,7,7,6,8,9)
   642 7855 05 06 07 04 06 06 + 			dta b(5,6,7,4,6,6,8,9)
   643 785D 06 06 06 07 04 06 + 			dta b(6,6,6,7,4,6,8,9)
   644 7865 07 06 06 07 07 05 + 			dta b(7,6,6,7,7,5,6,9)
   645 786D 04 04 04 04 04 05 + 			dta b(4,4,4,4,4,5,6,8)
   646 7875 03 03 03 03 03 03 + 			dta b(3,3,3,3,3,3,4,6)
   647 						
   335 							
   336 							
   337 787D						icl 'kolizje.asm'
Source: kolizje.asm
     1 				;kolizje strzaly z rakietami
     2 = 787D			kolStrzalyRakiety	equ *
     3 787D A5 D3					lda czyRakiety
     4 787F D0 01					bne *+3
     5 7881 60						rts
     6 							
     7 7882 A2 07					ldx #7
     8 7884 BD C2 6E		@			lda rakietyMove,x
     9 7887 D0 04					bne @+
    10 7889 CA			kolsr2		dex
    11 788A 10 F8					bpl @-
    12 788C 60						rts	;jmp kolsr1		;next strzal
    13 							
    14 788D A0 03		@			ldy #3
    15 788F B9 00 01		@			lda strzal,y
    16 7892 F0 09					beq kolsr1
    17 7894 B9 28 01					lda strzalTlo,y
    18 7897 29 7F					and #127
    19 7899 C9 27					cmp #firstRakietaChar		;pomijamy znaki gwiazd,bazy,meteory i bomby
    20 789B B0 06					bcs @+
    21 789D 88			kolsr1		dey
    22 789E 10 EF					bpl @-
    23 78A0 4C 89 78					jmp kolsr2
    24 							
    25 78A3 BD 9A 6E		@			lda rakietyTyp,x
    26 78A6 29 02					and #%10
    27 78A8 F0 21					beq kolsr3		;pion
    28 							
    29 				;poziome rakiety <>	
    30 78AA BD BA 6E					lda rakietyY0,x		
    31 78AD 0A						asl
    32 78AE 0A						asl
    33 78AF 49 FF					eor #255
    34 78B1 38						sec		;+1
    35 78B2 79 1C 01					adc strzalY3,y
    36 78B5 C9 04					cmp #4
    37 78B7 B0 E4					bcs kolsr1		;next strzal
    38 						
    39 78B9 BD AA 6E					lda rakietyX0,x	
    40 78BC 0A						asl
    41 78BD 0A						asl
    42 78BE 49 FF					eor #255
    43 78C0 38						sec	;+1
    44 78C1 79 10 01					adc strzalX3,y
    45 78C4 C9 08					cmp #8
    46 78C6 B0 D5					bcs kolsr1		;next strzal	
    47
    48 78C8 4C E9 78					jmp kolsr4
    49 				;pionowe rakiety ^			
    50 78CB BD AA 6E		kolsr3		lda rakietyX0,x	
    51 78CE 0A						asl
    52 78CF 0A						asl
    53 78D0 49 FF					eor #255
    54 78D2 38						sec	;+1
    55 78D3 79 10 01					adc strzalX3,y
    56 78D6 C9 03					cmp #3
    57 78D8 B0 C3					bcs kolsr1		;next strzal	
    58 							
    59 78DA BD BA 6E					lda rakietyY0,x		
    60 78DD 0A						asl
    61 78DE 0A						asl
    62 78DF 49 FF					eor #255
    63 78E1 38						sec		;+1
    64 78E2 79 1C 01					adc strzalY3,y
    65 78E5 C9 08					cmp #8
    66 78E7 B0 B4					bcs kolsr1		;next strzal			
    67 							
    68 78E9 A9 00		kolsr4		lda #0
    69 78EB 99 00 01					sta strzal,y		;wylacz strzal
    70 78EE BC 92 6E					ldy rakietyStan,x
    71 78F1 9D 92 6E					sta rakietyStan,x
    72 78F4 9D C2 6E					sta rakietyMove,x
    73
    74 78F7 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
    75
    76 78FC 20 70 62					jsr dodajMalyWybuch
    77 78FF A9 07					lda #$7
    78 7901 20 E2 8F					jsr dodajPunkty
    79 							
    80 7904 4C 89 78					jmp kolsr2		;next rakieta
    81 							
    82 				;kolizje enemy z obiektami
    83 = 7907			kolObiektyEnemy	equ *
    84 7907 AC 20 3D					ldy licznikBombyEkran
    85 790A D0 01					bne @+
    86 790C 60						rts
    87 							
    88 790D B9 2C 3D		@			lda bombyEkran-1,y
    89 7910 C9 FF					cmp #255
    90 7912 D0 04					bne @+
    91 = 7914			obe2		equ *
    92 7914 88						dey
    93 7915 D0 F6					bne @-
    94 7917 60						rts
    95 							
    96 7918 A2 05		@			ldx #5
    97 791A BD 62 31		@			lda enemyEkran,x
    98 791D 1D 6E 31					ora enemyWybuch,x
    99 7920 F0 06					beq @+
   100 7922 CA			obe3		dex
   101 7923 10 F5					bpl @-
   102 7925 4C 14 79					jmp obe2		
   103 							
   104 7928 B9 4C 3D		@			lda bombX0-1,y		;od 0 do 33 (+1)
   105 792B 0A						asl @
   106 792C 0A						asl @
   107 792D 69 03					adc #2+1	;c=0, pozycja bomby jest powiekszona o 1 , po dzialaniu c=0, dodajemy wiec +1 i sec przy odejmowaniu jest niepotrzebne
   108 							;sec		;zbedne
   109 792F FD 01 12					sbc enemyPosX,x
   110 7932 C9 0D					cmp #13
   111 7934 B0 EC					bcs obe3
   112 							
   113 							
   114 7936 B9 6C 3D					lda bombY0-1,y	;jak powyzej
   115 7939 0A						asl @
   116 793A 0A						asl @
   117 793B 69 03					adc #2+1
   118 							
   119 							;sec
   120 793D FD 07 12					sbc enemyPosY,x
   121 7940 C9 0D					cmp #13
   122 7942 B0 DE					bcs obe3
   123 							
   124 7944 BD E1 17 9D 68 31				mva enemyFaza,x enemyLastFaza,x
   125 794A A9 08 9D 6E 31				mva #8 enemyWybuch,x
   126 794F A9 80 9D 5C 31				mva #EKOLOR1 enemyNegatyw,x
   127 7954 A9 E6 9D E7 17				mva #BANK3 enemyBank,x
   128 7959 A9 41 9D ED 17				mva >explo_shapetab enemyShapeH,x	
   129
   130
   131 795E E0 05		@			cpx #5
   132 7960 D0 0A					bne @+
   133 7962 AD 33 70					lda jestSpy	;czySpy?
   134 7965 F0 05					beq @+
   135 7967 A9 FF 8D 7C 8A				mva #$ff spyScore
   136 										
   137 796C A9 0A 8D 36 24	@			mva #5*2 sfx_enemyHit
   138 7971 A9 02					lda #$2					;20 pkt jak enemy wpadnie na obiekt
   139 7973 20 E2 8F					jsr dodajPunkty
   140
   141 						
   142 7976 BE 2C 3D					ldx bombyEkran-1,y
   143 7979 BD FF 19					lda bombRodzaj-1,x
   144 797C F0 1D					beq @+
   145 797E A9 FF 9D FF 19				mva #255 bombRodzaj-1,x
   146 7983 99 2C 3D					sta bombyEkran-1,y
   147 7986 A9 0A 8D 36 24				mva #5*2 sfx_enemyHit
   148 							
   149 798B BD 7F 8C					lda bombX-1,x
   150 798E 84 37					sty pom0
   151 7990 BC FF 8C					ldy bombY-1,x
   152 7993 20 17 63					jsr dodajWybuch
   153 7996 A4 37					ldy pom0
   154 7998 4C 14 79					jmp obe2
   155 							
   156 799B A9 FF 9D FF 19	@			mva #255 bombRodzaj-1,x
   157 79A0 99 2C 3D					sta bombyEkran-1,y
   158 79A3 BD 7F 8C					lda bombX-1,x
   159 79A6 38						sec
   160 79A7 E9 01					sbc #1
   161 79A9 84 37					sty pom0
   162 79AB BC FF 8C					ldy bombY-1,x
   163 79AE 88						dey
   164 79AF 20 FC 7F					jsr bombExplo
   165 79B2 A4 37					ldy pom0
   166 79B4 4C 14 79					jmp obe2
   167 							
   168 				;oblicz pozycje xi y enemy
   169 = 79B7			obliczEnemyXY	equ *
   170 							.rept 6, #
   171 							LDA ENEMYEKRAN+:1
   172 							ORA ENEMYWYBUCH+:1
   173 							BNE OBE1:1
   174 							
   175 							LDA ENEMYX0+:1
   176 							ASL
   177 							ASL
   178 							ORA ENEMYDX0+:1
   179 							STA ENEMYPOSX+:1
   180 							
   181 							LDA ENEMYY0+:1
   182 							ASL
   183 							ASL
   184 							ORA ENEMYDY0+:1
   185 							STA ENEMYPOSY+:1
   186 							
   187 				OBE1:1		EQU *
   188 							.ENDR
   188 							.endr
Source: REPT
   171 79B7 AD 62 31					LDA ENEMYEKRAN+0
   171 79BA 0D 6E 31					ORA ENEMYWYBUCH+0
   171 79BD D0 16					BNE OBE10
   171 							
   171 79BF AD C3 17					LDA ENEMYX0+0
   171 79C2 0A						ASL
   171 79C3 0A						ASL
   171 79C4 0D F3 17					ORA ENEMYDX0+0
   171 79C7 8D 01 12					STA ENEMYPOSX+0
   171 							
   171 79CA AD CF 17					LDA ENEMYY0+0
   171 79CD 0A						ASL
   171 79CE 0A						ASL
   171 79CF 0D F9 17					ORA ENEMYDY0+0
   171 79D2 8D 07 12					STA ENEMYPOSY+0
   171 							
   171 = 79D5			OBE10		EQU *
   171 79D5 AD 63 31					LDA ENEMYEKRAN+1
   171 79D8 0D 6F 31					ORA ENEMYWYBUCH+1
   171 79DB D0 16					BNE OBE11
   171 							
   171 79DD AD C4 17					LDA ENEMYX0+1
   171 79E0 0A						ASL
   171 79E1 0A						ASL
   171 79E2 0D F4 17					ORA ENEMYDX0+1
   171 79E5 8D 02 12					STA ENEMYPOSX+1
   171 							
   171 79E8 AD D0 17					LDA ENEMYY0+1
   171 79EB 0A						ASL
   171 79EC 0A						ASL
   171 79ED 0D FA 17					ORA ENEMYDY0+1
   171 79F0 8D 08 12					STA ENEMYPOSY+1
   171 							
   171 = 79F3			OBE11		EQU *
   171 79F3 AD 64 31					LDA ENEMYEKRAN+2
   171 79F6 0D 70 31					ORA ENEMYWYBUCH+2
   171 79F9 D0 16					BNE OBE12
   171 							
   171 79FB AD C5 17					LDA ENEMYX0+2
   171 79FE 0A						ASL
   171 79FF 0A						ASL
   171 7A00 0D F5 17					ORA ENEMYDX0+2
   171 7A03 8D 03 12					STA ENEMYPOSX+2
   171 							
   171 7A06 AD D1 17					LDA ENEMYY0+2
   171 7A09 0A						ASL
   171 7A0A 0A						ASL
   171 7A0B 0D FB 17					ORA ENEMYDY0+2
   171 7A0E 8D 09 12					STA ENEMYPOSY+2
   171 							
   171 = 7A11			OBE12		EQU *
   171 7A11 AD 65 31					LDA ENEMYEKRAN+3
   171 7A14 0D 71 31					ORA ENEMYWYBUCH+3
   171 7A17 D0 16					BNE OBE13
   171 							
   171 7A19 AD C6 17					LDA ENEMYX0+3
   171 7A1C 0A						ASL
   171 7A1D 0A						ASL
   171 7A1E 0D F6 17					ORA ENEMYDX0+3
   171 7A21 8D 04 12					STA ENEMYPOSX+3
   171 							
   171 7A24 AD D2 17					LDA ENEMYY0+3
   171 7A27 0A						ASL
   171 7A28 0A						ASL
   171 7A29 0D FC 17					ORA ENEMYDY0+3
   171 7A2C 8D 0A 12					STA ENEMYPOSY+3
   171 							
   171 = 7A2F			OBE13		EQU *
   171 7A2F AD 66 31					LDA ENEMYEKRAN+4
   171 7A32 0D 72 31					ORA ENEMYWYBUCH+4
   171 7A35 D0 16					BNE OBE14
   171 							
   171 7A37 AD C7 17					LDA ENEMYX0+4
   171 7A3A 0A						ASL
   171 7A3B 0A						ASL
   171 7A3C 0D F7 17					ORA ENEMYDX0+4
   171 7A3F 8D 05 12					STA ENEMYPOSX+4
   171 							
   171 7A42 AD D3 17					LDA ENEMYY0+4
   171 7A45 0A						ASL
   171 7A46 0A						ASL
   171 7A47 0D FD 17					ORA ENEMYDY0+4
   171 7A4A 8D 0B 12					STA ENEMYPOSY+4
   171 							
   171 = 7A4D			OBE14		EQU *
   171 7A4D AD 67 31					LDA ENEMYEKRAN+5
   171 7A50 0D 73 31					ORA ENEMYWYBUCH+5
   171 7A53 D0 16					BNE OBE15
   171 							
   171 7A55 AD C8 17					LDA ENEMYX0+5
   171 7A58 0A						ASL
   171 7A59 0A						ASL
   171 7A5A 0D F8 17					ORA ENEMYDX0+5
   171 7A5D 8D 06 12					STA ENEMYPOSX+5
   171 							
   171 7A60 AD D4 17					LDA ENEMYY0+5
   171 7A63 0A						ASL
   171 7A64 0A						ASL
   171 7A65 0D FE 17					ORA ENEMYDY0+5
   171 7A68 8D 0C 12					STA ENEMYPOSY+5
   171 							
   171 = 7A6B			OBE15		EQU *
Source: kolizje.asm
   189 7A6B 60						rts
   190
   191
   192 				;kolizje pociskow z przeciwnikami
   193 = 7A6C			kolPociskiEnemy	equ *
   194 7A6C AE 91 5A					ldx maxPociskow
   195 7A6F BD 92 5A		@			lda pociski,x
   196 							
   197 7A72 30 07					bmi kolpe1
   198 7A74 BD 97 5A					lda pociskiTlo,x			;szukaj kolizji jesli znak pod pociskiem to znak jakiegos duszka >73
   199 7A77 C9 4A					cmp #74
   200 7A79 B0 04					bcs @+
   201 							
   202 7A7B CA			kolpe1		dex
   203 7A7C 10 F1					bpl @-
   204 7A7E 60						rts
   205
   206 7A7F A0 05		@			ldy #5
   207 7A81 B9 62 31		@			lda enemyEkran,Y
   208 7A84 19 6E 31					ora enemyWybuch,y
   209 7A87 F0 06					beq @+
   210 7A89 88			kolpe2		dey
   211 7A8A 10 F5					bpl @-
   212 7A8C 4C 7B 7A					jmp kolpe1
   213 							
   214 7A8F BD BA 5A		@			lda pociskiDX0,x
   215 7A92 38						sec	
   216 7A93 F9 01 12					sbc enemyPosX,y
   217 7A96 C9 08					cmp #8	
   218 7A98 B0 EF					bcs kolpe2
   219 							
   220 7A9A BD C4 5A					lda pociskiDY0,x
   221 7A9D 38						sec	
   222 7A9E F9 07 12					sbc enemyPosY,y
   223 7AA1 C9 08					cmp #8
   224 7AA3 B0 E4					bcs kolpe2
   225 							
   226 							
   227 7AA5 A9 81 9D 92 5A				mva #129 pociski,x
   228 7AAA CE 8F 5A					dec liczbaPociskow
   229 							
   230 7AAD B9 E1 17 99 68 31				mva enemyFaza,y enemyLastFaza,y
   231 7AB3 A9 08 99 6E 31				mva #8 enemyWybuch,y
   232 7AB8 A9 80 99 5C 31				mva #EKOLOR1 enemyNegatyw,y
   233 7ABD A9 E6 99 E7 17				mva #BANK3 enemyBank,y
   234 7AC2 A9 41 99 ED 17				mva >explo_shapetab enemyShapeH,y	
   235 							
   236 7AC7 C0 05					cpy #5
   237 7AC9 D0 12					bne @+
   238 7ACB AD 33 70					lda jestSpy	;czySpy?
   239 7ACE F0 0D					beq @+
   240 							;lda #$ff
   241 							;jsr dodajPunkty
   242 7AD0 A9 FF 8D 7C 8A				mva #$ff spyScore
   243 7AD5 A9 04 8D 36 24				mva #2*2 sfx_enemyHit
   244 7ADA 4C 7B 7A					jmp kolpe1
   245
   246 							
   247 7ADD A9 05		@			lda #$5
   248 7ADF 20 E2 8F					jsr dodajPunkty
   249 7AE2 A9 0A 8D 36 24				mva #5*2 sfx_enemyHit
   250 							
   251 7AE7 4C 7B 7A					jmp kolpe1
   252
   253 				;fazaWybuch	dta b(0)
   254
   255 				;kolizje strzalow z przeciwnikami
   256 = 7AEA			kolStrzalyEnemy	equ *
   257 7AEA A2 03					ldx #3
   258 7AEC BD 00 01		@			lda strzal,x
   259 							
   260 7AEF F0 09					beq kolse1
   261 7AF1 BD 28 01		_tlo2		lda strzalTlo,x
   262 7AF4 29 7F					and #127
   263 7AF6 C9 4A					cmp #74		;sprawdzaj tylko jeśli pod strzałem jest znak duszka
   264 7AF8 B0 04					bcs @+	
   265 							
   266 7AFA CA			kolse1		dex
   267 7AFB 10 EF					bpl @-
   268 7AFD 60						rts
   269 							
   270 7AFE A0 00		@			ldy #0
   271 7B00 B9 62 31		@			lda enemyEkran,y
   272 7B03 19 6E 31					ora enemyWybuch,y
   273 7B06 F0 08					beq @+
   274 7B08 C8			kolse2		iny
   275 7B09 C0 06					cpy #6						;spy sprawdzamy na koncu
   276 7B0B 90 F3					bcc @-
   277 7B0D 4C FA 7A					jmp kolse1
   278 							
   279 7B10 BD 10 01		@			lda strzalX3,x
   280 7B13 38						sec	
   281 7B14 F9 01 12					sbc enemyPosX,y
   282 7B17 C9 08					cmp #8
   283 7B19 B0 ED					bcs kolse2
   284 							
   285 7B1B BD 1C 01					lda strzalY3,x
   286 7B1E 38						sec	
   287 7B1F F9 07 12					sbc enemyPosY,y
   288 7B22 C9 08					cmp #8 
   289 7B24 B0 E2					bcs kolse2
   290 							
   291 7B26 A9 00 9D 00 01				mva #0 strzal,x
   292 7B2B B9 E1 17 99 68 31				mva enemyFaza,y enemyLastFaza,y
   293 7B31 A9 08 99 6E 31				mva #8 enemyWybuch,y
   294 7B36 A9 80 99 5C 31				mva #EKOLOR1 enemyNegatyw,y
   295 7B3B A9 E6 99 E7 17				mva #BANK3 enemyBank,y
   296 7B40 A9 41 99 ED 17				mva >explo_shapetab enemyShapeH,y
   297 							
   298 7B45 C0 00					cpy #0
   299 7B47 F0 0A					beq @+
   300 7B49 AD 0F 12					lda formacja_zbite
   301 7B4C C9 04					cmp #4
   302 7B4E D0 03					bne @+
   303 7B50 EE 0F 12					inc formacja_zbite		;jesli ostatni z formacji		
   304 							
   305 7B53 AD 7D 22		@			lda formacja_stan		;zapamietaj pozycje ostatnio zbitego statku formacji
   306 7B56 C9 05					cmp #5
   307 7B58 D0 10					bne @+
   308 7B5A C0 00					cpy #0
   309 7B5C F0 0C					beq @+
   310 7B5E B9 BD 17					lda enemyX,y
   311 7B61 8D 7D 8A					sta spyscoreX
   312 7B64 B9 C9 17					lda enemyY,y
   313 7B67 8D 7E 8A					sta spyscoreY
   314 							
   315 							
   316 7B6A C0 05		@			cpy #5
   317 7B6C D0 12					bne @+
   318 7B6E AD 33 70					lda jestSpy	;czySpy?
   319 7B71 F0 0D					beq @+
   320 7B73 A9 FF					lda #$ff
   321 7B75 20 E2 8F					jsr dodajPunkty
   322 7B78 A9 04 8D 36 24				mva #2*2 sfx_enemyHit
   323 7B7D 4C FA 7A					jmp kolse1
   324
   325 							
   326 7B80 A9 05		@			lda #$5
   327 7B82 20 E2 8F					jsr dodajPunkty
   328 7B85 A9 0A 8D 36 24				mva #5*2 sfx_enemyHit
   329 							
   330 7B8A 4C FA 7A					jmp kolse1
   331 								
   332 							
   333 				;kolizja statku z wrogiem
   334 = 7B8D			kolStatekEnemy	equ *
   335 7B8D A2 05					ldx #5
   336 7B8F BD 62 31		@			lda enemyEkran,x
   337 7B92 1D 6E 31					ora enemyWybuch,x
   338 7B95 F0 04					beq @+
   339 7B97 CA			kolen1		dex
   340 7B98 10 F5					bpl @-
   341 7B9A 60						rts		
   342 							
   343 7B9B BD 01 12		@			lda enemyPosX,x
   344 7B9E 18						clc 	;-1
   345 7B9F E5 1B					sbc movX0
   346 							;sec				;można pominąć, jeśli poprzedni wynik jest ujemny to i tak poza zakresem
   347 7BA1 E9 36					sbc #54	;+2
   348 7BA3 C9 0D					cmp #13
   349 7BA5 B0 F0					bcs kolen1
   350 							
   351 7BA7 BD 07 12					lda enemyPosY,x
   352 7BAA 38						sec
   353 7BAB E5 1C					sbc movY0
   354 							;sec				; jak wyżej
   355 7BAD E9 2E					sbc #46	;+1
   356 7BAF C9 0D					cmp #13		
   357 7BB1 B0 E4					bcs kolen1
   358 										
   359 7BB3 A9 3E 8D 00 12				mva #62 fazaWybuch
   360 7BB8 A9 01 85 23					mva #1 trafienie
   361 7BBC A9 12 8D 34 24				mva #9*2 sfx_dead
   362 							
   363 7BC1 60						rts
   364 							
   365 				;kolizje statku z bazami
   366 = 7BC2			kolStatekBazy	equ *
   367 7BC2 AE 1F 3D					ldx licznikBazyEkran
   368 7BC5 D0 01					bne *+3
   369 7BC7 60						rts
   370
   371 7BC8 BD 20 3D		kolst1		lda bazyEkran-1,x
   372 7BCB 30 52					bmi kolst2
   373 7BCD A8						tay
   374 7BCE B9 FF 89					lda bazyRodzaj-1,y
   375 7BD1 30 4C					bmi kolst2
   376 							
   377 7BD3 D0 25					bne @+		;baza b
   378
   379 					;baza A
   380 7BD5 B9 3F 8A					lda bazyX0-1,y
   381 							;bmi kolst2
   382 7BD8 0A						asl @
   383 7BD9 0A						asl @
   384 7BDA 18						clc
   385 7BDB E5 1B					sbc movX0
   386 7BDD E9 19					sbc #60-35
   387 7BDF C9 2B					cmp #43
   388 7BE1 B0 3C					bcs kolst2
   389 7BE3 8D 31 7C					sta spra1_
   390 							
   391 7BE6 B9 5F 8A					lda bazyY0-1,y
   392 							;bmi kolst2
   393 7BE9 0A						asl @
   394 7BEA 0A						asl @
   395 7BEB 38						sec
   396 7BEC E5 1C					sbc movY0
   397 7BEE E9 15					sbc #52-31
   398 7BF0 C9 27					cmp #39
   399 7BF2 B0 2B					bcs kolst2
   400 7BF4 8D 40 7C					sta spra2_
   401 							
   402 							;tutaj dokladne sprawdzenie bazy A
   403 7BF7 4C 23 7C					jmp sprawdzBazaA		;skok bezwarunkowy
   404 							
   405 					;baza B
   406 7BFA B9 3F 8A		@			lda bazyX0-1,y
   407 							;bmi kolst2
   408 7BFD 0A						asl @
   409 7BFE 0A						asl @
   410 7BFF 18						clc
   411 7C00 E5 1B					sbc movX0
   412 7C02 E9 1D					sbc #60-31
   413 7C04 C9 27					cmp #39
   414 7C06 B0 17					bcs kolst2
   415 7C08 8D 8B 7C					sta sprb1_
   416 							
   417 7C0B B9 5F 8A					lda bazyY0-1,y
   418 							;bmi kolst2
   419 7C0E 0A						asl @
   420 7C0F 0A						asl @
   421 7C10 38						sec
   422 7C11 E5 1C					sbc movY0
   423 7C13 E9 11					sbc #52-35
   424 7C15 C9 2B					cmp #43
   425 7C17 B0 06					bcs kolst2
   426 7C19 8D 99 7C					sta sprb2_
   427 							
   428 7C1C 4C 7D 7C					jmp sprawdzBazaB
   429 							
   430 7C1F			kolst2		;ldx pom0f
   431 7C1F CA						dex
   432 7C20 D0 A6					bne kolst1
   433 7C22 60						rts
   434
   435 				;sprawdz czy statek jest na bazie A
   436 = 7C23			sprawdzBazaA	equ *
   437 7C23 84 38					sty pom0a		;zapamietaj numer bazy
   438 							
   439 7C25 A6 D6					ldx sJoy
   440 7C27 BD D7 7C					lda kolTab1,x
   441 7C2A AA						tax				;znajdz dane dla danego wygladu statku
   442 							
   443 7C2B A9 03 85 3C					mva #3 pom0e		;licznik petli
   444 							
   445 7C2F 38			sprba2		sec
   446 = 7C31			spra1_		equ *+1				
   447 7C30 A9 FF					lda #$ff
   448 7C32 FD E2 7C					sbc kolTab2,x	;pozycja X punktu testowego
   449 7C35 C9 24					cmp #36			;9*4
   450 7C37 B0 3E					bcs sprba1		;nastepny punkt, poza zakresem lub ujemna
   451 7C39 0A						asl @
   452 7C3A 29 F8					and #%11111000	;X bylo *4 wiec wystarczy *2 i obciecie najmlodszych bitow
   453 7C3C 85 3A					sta pom0c
   454 							
   455 7C3E 38						sec
   456 = 7C40			spra2_		equ *+1
   457 7C3F A9 FF					lda #$ff
   458 7C41 FD FA 7C					sbc kolTab2+24,x	;pozycja Y punktu testowego
   459 7C44 C9 20					cmp #32			;8*4
   460 7C46 B0 2F					bcs sprba1
   461 7C48 4A						lsr @
   462 7C49 4A						lsr @
   463 									
   464 7C4A 05 3A					ora pom0c
   465 7C4C A8						tay
   466 7C4D B9 72 81					lda bazaA2,y
   467 7C50 F0 25					beq sprba1	
   468 							
   469 7C52 C9 80		@			cmp #128
   470 7C54 90 0D					bcc @+
   471 							
   472 7C56 29 7F					and #127			;czy zbity element dzialka
   473 7C58 A8						tay
   474 7C59 B9 EE 82					lda tabKol0,y
   475 7C5C A4 38					ldy pom0a
   476 7C5E 39 0F 8A					and bazyStan-1,y
   477 7C61 F0 14					beq sprba1
   478 							
   479 7C63 A4 38		@			ldy pom0a
   480 7C65 20 94 82					jsr usunBazeA			
   481 7C68 A9 3E 8D 00 12				mva #62 fazaWybuch
   482 7C6D A9 01 85 23					mva #1 trafienie
   483 7C71 A9 12 8D 34 24				mva #9*2 sfx_dead
   484 7C76 60						rts
   485 							
   486 7C77 E8			sprba1		inx
   487 7C78 C6 3C					dec pom0e
   488 7C7A D0 B3					bne sprba2
   489 							
   490 7C7C 60						rts
   491 							
   492 = 7C7D			sprawdzBazaB	equ *
   493 7C7D 84 38					sty pom0a		;zapamietaj numer bazy
   494 							
   495 7C7F A6 D6					ldx sJoy
   496 7C81 BD D7 7C					lda kolTab1,x
   497 7C84 AA						tax				;znajdz dane dla danego wygladu statku
   498 							
   499 7C85 A9 03 85 3C					mva #3 pom0e		;licznik petli
   500 							
   501 7C89 38			sprba4		sec	
   502 = 7C8B			sprb1_		equ *+1			
   503 7C8A A9 FF					lda #$ff
   504 7C8C FD E2 7C					sbc kolTab2,x	;pozycja X punktu testowego
   505 7C8F C9 20					cmp #32		;8*4
   506 7C91 B0 3E					bcs sprba3
   507 7C93 4A						lsr @
   508 7C94 4A						lsr @
   509 7C95 85 3A					sta pom0c
   510 							
   511 							
   512 7C97 38						sec
   513 = 7C99			sprb2_		equ *+1
   514 7C98 A9 FF					lda #$ff
   515 7C9A FD FA 7C					sbc kolTab2+24,x	;pozycja Y punktu testowego
   516 7C9D C9 24					cmp #36		;9*4
   517 7C9F B0 30					bcs sprba3
   518 7CA1 0A						asl @
   519 7CA2 29 F8					and #%11111000
   520 							
   521 7CA4 05 3A					ora pom0c
   522 7CA6 A8						tay
   523 7CA7 B9 90 83					lda bazaB2,y
   524 7CAA F0 25					beq sprba3
   525 							
   526 7CAC C9 80		@			cmp #128
   527 7CAE 90 0D					bcc @+
   528 							
   529 7CB0 29 7F					and #127			;czy zbity element dzialka
   530 7CB2 A8						tay
   531 7CB3 B9 EE 82					lda tabKol0,y
   532 7CB6 A4 38					ldy pom0a
   533 7CB8 39 0F 8A					and bazyStan-1,y
   534 7CBB F0 14					beq sprba3
   535 							
   536 7CBD A4 38		@			ldy pom0a
   537 7CBF 20 B1 84					jsr usunBazeB			
   538 7CC2 A9 3E 8D 00 12				mva #62 fazaWybuch
   539 7CC7 A9 01 85 23					mva #1 trafienie
   540 7CCB A9 12 8D 34 24				mva #9*2 sfx_dead
   541 7CD0 60						rts
   542 							
   543 7CD1 E8			sprba3		inx
   544 7CD2 C6 3C					dec pom0e
   545 7CD4 D0 B3					bne sprba4
   546
   547 7CD6 60						rts
   548
   549 7CD7 00 0C 00 00 06 09 + kolTab1		dta b(0,12,0,0,6,9,3,0,18,15,21)
   550 7CE2 04 07 00 00 06 01 + kolTab2		dta b(4,7,0,0,6,1,0,4,4,6,1,0,6,0,3,7,6,1,7,3,3,7,6,1)
   551 7CFA 07 02 02 07 06 01 + 			dta b(7,2,2,7,6,1,4,7,0,1,6,0,5,5,0,0,6,1,4,7,0,7,1,6)
   552 7D12 2D 32		tabRak1		dta b(45,50)		;granice Y
   553 7D14 3B 36					dta b(59,54)		;granice X
   554 							
   555 							
   556 				;kolizje rakiety ze statkiem
   557 = 7D16			kolRakietyStatek	equ *
   558 7D16 A5 D3					lda czyRakiety
   559 7D18 D0 01					bne *+3
   560 7D1A 60						rts
   561
   562 7D1B A2 07					ldx #7
   563 7D1D BD C2 6E		@			lda rakietyMove,x
   564 7D20 D0 04					bne @+1
   565 							
   566 7D22 CA			@			dex
   567 7D23 10 F8					bpl @-1
   568 							
   569 7D25 60						rts
   570 							
   571 7D26 BD 9A 6E		@			lda rakietyTyp,x
   572 7D29 4A						lsr @
   573 7D2A A8						tay
   574 							
   575 7D2B BD BA 6E					lda rakietyY0,x
   576 7D2E 0A						asl @
   577 7D2F 0A						asl @
   578 7D30 38						sec
   579 7D31 E5 1C					sbc movY0
   580 7D33 D9 12 7D					cmp tabRak1,y
   581 7D36 90 EA					bcc @-1
   582 7D38 C9 3C					cmp #60
   583 7D3A B0 E6					bcs @-1
   584 							
   585 7D3C BD AA 6E					lda rakietyX0,x
   586 7D3F 0A						asl @
   587 7D40 0A						asl @
   588 7D41 38						sec
   589 7D42 E5 1B					sbc movX0
   590 7D44 D9 14 7D					cmp tabRak1+2,y
   591 7D47 90 D9					bcc @-1
   592 7D49 C9 44					cmp #68
   593 7D4B B0 D5					bcs @-1
   594 							
   595 							
   596 7D4D A9 3E 8D 00 12				mva #62 fazaWybuch
   597 7D52 A9 01 85 23					mva #1 trafienie
   598 7D56 A9 12 8D 34 24				mva #9*2 sfx_dead
   599 7D5B 60						rts
   600 							
   601 				;kolizja rakiety z obiektami
   602 = 7D5C			kolRakietyObiekty	equ *
   603 7D5C A5 D3					lda czyRakiety
   604 7D5E D0 01					bne *+3
   605 7D60 60						rts
   606 							
   607 7D61 AC 20 3D					ldy licznikBombyEkran		;czy sa jakies bomby na ekranie
   608 7D64 D0 01					bne *+3
   609 7D66 60						rts
   610 							
   611 7D67 A2 07					ldx #7
   612 7D69 BD C2 6E		@			lda rakietyMove,x
   613 7D6C D0 04					bne @+
   614 7D6E CA			kolrak3		dex
   615 7D6F 10 F8					bpl @-
   616 7D71 60						rts
   617 							
   618 7D72 AC 20 3D		@			ldy licznikBombyEkran
   619 7D75 BD 9A 6E					lda rakietyTyp,x
   620 7D78 29 02					and #%10
   621 7D7A D0 33					bne kolrak2b
   622 							
   623 7D7C B9 2C 3D		kolrak2		lda bombyEkran-1,y
   624 7D7F 84 37					sty pom0
   625 7D81 A8						tay
   626 7D82 B9 FF 19					lda bombRodzaj-1,y
   627 7D85 30 20					bmi kolrak1
   628 							
   629 7D87 85 38					sta pom0a
   630 7D89 A4 37					ldy pom0
   631 							
   632 7D8B B9 4C 3D					lda bombX0-1,y
   633 7D8E 38						sec
   634 7D8F FD AA 6E					sbc rakietyX0,x
   635 7D92 C9 02					cmp #2
   636 7D94 B0 0B					bcs kolrak1b
   637 							
   638 7D96 B9 6C 3D					lda bombY0-1,y
   639 7D99 38						sec
   640 7D9A FD BA 6E					sbc rakietyY0,x
   641 7D9D C9 03					cmp #3
   642 7D9F 90 41					bcc @+
   643 							
   644 							
   645 							
   646 7DA1 88			kolrak1b	dey
   647 7DA2 D0 D8					bne kolrak2
   648 7DA4 4C 6E 7D					jmp kolrak3
   649 							
   650 = 7DA7			kolrak1		equ *
   651 7DA7 A4 37					ldy pom0
   652 7DA9 88						dey
   653 7DAA D0 D0					bne kolrak2
   654 7DAC 4C 6E 7D					jmp kolrak3			
   655
   656
   657 7DAF B9 2C 3D		kolrak2b	lda bombyEkran-1,y
   658 7DB2 84 37					sty pom0
   659 7DB4 A8						tay
   660 7DB5 B9 FF 19					lda bombRodzaj-1,y
   661 7DB8 30 20					bmi kolrak1z
   662 							
   663 7DBA 85 38					sta pom0a
   664 7DBC A4 37					ldy pom0
   665 							
   666 7DBE B9 4C 3D					lda bombX0-1,y
   667 7DC1 38						sec
   668 7DC2 FD AA 6E					sbc rakietyX0,x
   669 7DC5 C9 03					cmp #3
   670 7DC7 B0 0B					bcs kolrak1c
   671 							
   672 7DC9 B9 6C 3D					lda bombY0-1,y
   673 7DCC 38						sec
   674 7DCD FD BA 6E					sbc rakietyY0,x
   675 7DD0 C9 02					cmp #2
   676 7DD2 90 0E					bcc @+
   677 							
   678 7DD4 88			kolrak1c	dey
   679 7DD5 D0 D8					bne kolrak2b
   680 7DD7 4C 6E 7D					jmp kolrak3
   681 							
   682 = 7DDA			kolrak1z	equ *
   683 7DDA A4 37					ldy pom0
   684 7DDC 88						dey
   685 7DDD D0 9D					bne kolrak2
   686 7DDF 4C 6E 7D					jmp kolrak3					
   687 							
   688 7DE2 B9 2C 3D		@			lda bombyEkran-1,y
   689 7DE5 A8						tay
   690 7DE6 B9 FF 19					lda bombRodzaj-1,y
   691 7DE9 48						pha
   692 7DEA A9 FF 99 FF 19				mva #255 bombRodzaj-1,y
   693 							
   694 7DEF 68						pla
   695 7DF0 F0 26					beq @+
   696 7DF2 B9 7F 8C					lda bombX-1,y
   697 7DF5 48						pha
   698 7DF6 B9 FF 8C					lda bombY-1,y
   699 7DF9 A8						tay
   700 7DFA 68						pla
   701 7DFB 20 17 63					jsr dodajWybuch
   702 7DFE A9 00 8D 31 24				mva #0 sfx_asteroid
   703 							
   704 							
   705 7E03 BC 92 6E					ldy rakietyStan,x
   706 7E06 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
   707 7E0B A4 37					ldy pom0
   708 7E0D A9 00					lda #0
   709 7E0F 9D 92 6E					sta rakietyStan,x
   710 7E12 9D C2 6E					sta rakietyMove,x
   711 7E15 4C 6E 7D					jmp kolrak3
   712 							
   713 7E18 B9 7F 8C		@			lda bombX-1,y
   714 7E1B 38						sec
   715 7E1C E9 01					sbc #1
   716 7E1E 85 3E					sta kolpom0
   717 7E20 B9 FF 8C					lda bombY-1,y
   718 7E23 A8						tay
   719 7E24 88						dey
   720 7E25 A5 3E					lda kolpom0
   721 7E27 20 FC 7F					jsr bombExplo
   722 							
   723 7E2A BC 92 6E					ldy rakietyStan,x
   724 7E2D A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
   725 7E32 A4 37					ldy pom0
   726 7E34 A9 00					lda #0
   727 7E36 9D 92 6E					sta rakietyStan,x
   728 7E39 9D C2 6E					sta rakietyMove,x
   729 							
   730 7E3C 4C 6E 7D					jmp kolrak3 
   731 							
   732 							
   733 7E3F FF FF FF FF FF FF + tabkolsx	:15 dta b(255)
   734 7E4E 03 07 0B 0F					dta b(60-57,64-57,68-57,72-57)
   735 7E52 FF FF FF FF FF FF + 			:15 dta b(255)
   736 							
   737 7E61 FF FF FF FF FF FF + tabkolsy	:13 dta b(255)
   738 7E6E 03 07 0B 0F					dta b(52-49,56-49,60-49,64-49)
   739 7E72 FF FF FF FF FF FF + 			:13 dta b(255)
   740 							
   741 				;kolizje statku z obiektami (miny,meteory)
   742 = 7E7F			kolStatekObiekty	equ *
   743 7E7F AE 20 3D					ldx licznikBombyEkran
   744 7E82 D0 01					bne @+
   745 7E84 60						rts
   746 							
   747 7E85 BD 2C 3D		@			lda bombyEkran-1,x
   748 7E88 A8						tay
   749 7E89 B9 FF 19					lda bombRodzaj-1,y
   750 7E8C 10 04					bpl @+1
   751 7E8E CA			@			dex
   752 7E8F D0 F4					bne @-1
   753 							
   754 7E91 60						rts
   755 							
   756 7E92 BC 4C 3D		@			ldy bombX0-1,x
   757 7E95 B9 3F 7E					lda tabkolsx,y
   758 7E98 30 F4					bmi @-1
   759 							
   760 7E9A 18						clc
   761 7E9B E5 1B					sbc movX0
   762 7E9D C9 0F					cmp #15
   763 7E9F B0 ED					bcs @-1
   764 							
   765 7EA1 BC 6C 3D					ldy bombY0-1,x
   766 7EA4 B9 61 7E					lda tabkolsy,y
   767 7EA7 30 E5					bmi @-1
   768 							
   769 7EA9 38						sec
   770 7EAA E5 1C					sbc movY0
   771 7EAC C9 0F					cmp #15
   772 7EAE B0 DE					bcs @-1
   773 							
   774 							;wystapila kolizja
   775 7EB0 BC 2C 3D					ldy bombyEkran-1,x
   776 7EB3 B9 FF 19					lda bombRodzaj-1,y
   777 7EB6 F0 21					beq @+
   778 7EB8 A9 FF 99 FF 19				mva #255 bombRodzaj-1,y
   779 							
   780 7EBD A9 3E 8D 00 12				mva #62 fazaWybuch
   781 7EC2 A9 01 85 23					mva #1 trafienie
   782 7EC6 A9 12 8D 34 24				mva #9*2 sfx_dead
   783 							
   784 7ECB B9 7F 8C					lda bombX-1,y
   785 7ECE 85 37					sta pom0
   786 7ED0 B9 FF 8C					lda bombY-1,y
   787 7ED3 A8						tay
   788 7ED4 A5 37					lda pom0
   789 7ED6 4C 17 63					jmp dodajWybuch
   790 							
   791 7ED9 A9 FF 99 FF 19	@			mva #255 bombRodzaj-1,y
   792
   793 7EDE A9 3E 8D 00 12				mva #62 fazaWybuch
   794 7EE3 A9 01 85 23					mva #1 trafienie
   795 7EE7 A9 12 8D 34 24				mva #9*2 sfx_dead
   796
   797 7EEC B9 7F 8C					lda bombX-1,y
   798 7EEF 38						sec
   799 7EF0 E9 01					sbc #1
   800 7EF2 85 3E					sta kolpom0
   801 7EF4 B9 FF 8C					lda bombY-1,y
   802 7EF7 A8						tay
   803 7EF8 88						dey
   804 7EF9 A5 3E					lda kolpom0
   805 7EFB 4C FC 7F					jmp bombExplo
   806 							
   807 				;kolizje statku z wybuchem
   808 = 7EFE			kolStatekWybuch	equ *
   809 7EFE AD EC 61					lda wybuchyStart
   810 7F01 29 1F					and #%11111
   811 7F03 AA						tax
   812 7F04 EC ED 61					cpx wybuchyStop
   813 7F07 D0 01					bne *+3
   814 7F09 60						rts		;brak wybuchow
   815 							
   816 7F0A BD AC 61		@			lda wybuchyX0,x
   817 7F0D 0A						asl @
   818 7F0E 0A						asl	@
   819 7F0F E5 1B					sbc movX0		
   820 7F11 C9 35					cmp #53
   821 7F13 90 22					bcc @+
   822 7F15 C9 44					cmp #68
   823 7F17 B0 1E					bcs @+
   824 							
   825 7F19 BD CC 61					lda wybuchyY0,x
   826 7F1C 0A						asl @
   827 7F1D 0A						asl @
   828 7F1E E5 1C					sbc movY0
   829 7F20 C9 2C					cmp #45-1		;zmniejszone o 1 brak sec
   830 7F22 90 13					bcc @+
   831 7F24 C9 3B					cmp #60-1
   832 7F26 B0 0F					bcs @+
   833 							
   834 7F28 A9 3E 8D 00 12				mva #62 fazaWybuch
   835 7F2D A9 01 85 23					mva #1 trafienie
   836 7F31 A9 12 8D 34 24				mva #9*2 sfx_dead
   837 7F36 60						rts
   838 							
   839 7F37 E8			@			inx
   840 7F38 8A						txa
   841 7F39 29 1F					and #%11111
   842 7F3B AA						tax
   843 7F3C EC ED 61					cpx wybuchyStop
   844 7F3F D0 C9					bne @-1
   845
   846 7F41 60						rts
   847 							
   848 				;kolizje pociskow ze statkiem
   849 = 7F42			kolPociskiStatek	equ *			
   850 7F42 AE 91 5A					ldx maxPociskow
   851 7F45 BD 92 5A		@			lda pociski,x
   852 7F48 10 04					bpl @+
   853 7F4A CA			kolps1		dex
   854 7F4B 10 F8					bpl @-
   855 7F4D 60						rts
   856 							
   857 7F4E BD BA 5A		@			lda pociskiDX0,x
   858 7F51 18						clc
   859 7F52 E5 1B					sbc movX0
   860 7F54 C9 3C					cmp #60
   861 7F56 90 F2					bcc kolps1		;za malo
   862 7F58 C9 44					cmp #68
   863 7F5A B0 EE					bcs kolps1		;za duzo
   864 							
   865 7F5C BD C4 5A					lda pociskiDY0,x
   866 7F5F 38						sec
   867 7F60 E5 1C					sbc movY0
   868 7F62 C9 34					cmp #52
   869 7F64 90 E4					bcc kolps1		;za malo
   870 7F66 C9 3C					cmp #60
   871 7F68 B0 E0					bcs kolps1		;za duzo
   872 							
   873 7F6A A9 3E 8D 00 12				mva #62 fazaWybuch
   874 7F6F A9 01 85 23					mva #1 trafienie
   875 7F73 A9 12 8D 34 24				mva #9*2 sfx_dead
   876 7F78 60						rts
   877 						
   878 				;kolizje pociskow z obiektami
   879 = 7F79			kolPociskiObiekty	equ *
   880 7F79 AE 91 5A					ldx maxPociskow
   881 7F7C BD 92 5A		@			lda pociski,x
   882 							
   883 7F7F 30 0B					bmi kolpo1
   884 7F81 BD 97 5A					lda pociskiTlo,x		;jesli pod pociskiem jest meteor lub bomba to poszukaj kolizji
   885 7F84 C9 1F					cmp #firstBombaChar
   886 7F86 90 04					bcc kolpo1
   887 7F88 C9 27					cmp #firstMeteorChar+4
   888 7F8A 90 04					bcc @+
   889 							
   890 7F8C CA			kolpo1		dex
   891 7F8D 10 ED					bpl @-
   892 7F8F 60						rts
   893
   894 7F90 AC 20 3D		@			ldy licznikBombyEkran
   895 7F93 D0 01					bne kolpo3
   896 7F95 60						rts
   897 							
   898 7F96 84 37		kolpo3		sty pom0
   899 7F98 B9 2C 3D					lda bombyEkran-1,y		;jesli <0 to nie ma juz tego obiekt
   900 7F9B A8						tay
   901 7F9C B9 FF 19					lda bombRodzaj-1,y
   902 7F9F 30 16					bmi kolpo2
   903 7FA1 BD A6 5A					lda pociskiY,x
   904 7FA4 38						sec
   905 7FA5 F9 FF 8C					sbc bombY-1,y
   906 7FA8 C9 02					cmp #2
   907 7FAA B0 0B					bcs kolpo2
   908 7FAC BD 9C 5A					lda pociskiX,x
   909 7FAF 38						sec
   910 7FB0 F9 7F 8C					sbc bombX-1,y
   911 7FB3 C9 02					cmp #2
   912 7FB5 90 08					bcc @+	
   913 							
   914 7FB7 A4 37		kolpo2		ldy pom0
   915 7FB9 88						dey
   916 7FBA D0 DA					bne kolpo3
   917 7FBC 4C 8C 7F					jmp kolpo1		;skok bezwarunkowy			
   918 							
   919 7FBF B9 FF 19		@			lda bombRodzaj-1,y
   920 7FC2 48						pha
   921 7FC3 A9 FF 99 FF 19				mva #255 bombRodzaj-1,y
   922 7FC8 A9 81 9D 92 5A				mva #129 pociski,x
   923 7FCD CE 8F 5A					dec liczbaPociskow
   924 							
   925 7FD0 68						pla
   926 7FD1 F0 14					beq @+
   927 7FD3 B9 7F 8C					lda bombX-1,y
   928 7FD6 48						pha
   929 7FD7 B9 FF 8C					lda bombY-1,y
   930 7FDA A8						tay
   931 7FDB A9 00 8D 31 24				mva #0 sfx_asteroid
   932 7FE0 68						pla
   933 7FE1 20 17 63					jsr dodajWybuch
   934 7FE4 4C 8C 7F					jmp kolpo1
   935 							
   936 7FE7 B9 7F 8C		@			lda bombX-1,y
   937 7FEA 38						sec
   938 7FEB E9 01					sbc #1
   939 7FED 85 3E					sta kolpom0
   940 7FEF B9 FF 8C					lda bombY-1,y
   941 7FF2 A8						tay
   942 7FF3 88						dey
   943 7FF4 A5 3E					lda kolpom0
   944 							
   945 7FF6 20 FC 7F					jsr bombExplo
   946 7FF9 4C 8C 7F					jmp kolpo1
   947 							
   948
   949
   950 				;Animacja wybuchu bomby 5xwybuch
   951 = 7FFC			bombExplo	equ *
   952 7FFC 86 3E					stx kolpom0
   953 7FFE AA						tax
   954 7FFF 20 17 63					jsr dodajWybuch
   955 8002 E8						inx
   956 8003 E8						inx
   957 8004 8A						txa
   958 8005 20 17 63					jsr dodajWybuch
   959 8008 C8						iny
   960 8009 C8						iny
   961 800A 8A						txa
   962 800B 20 17 63					jsr dodajWybuch
   963 800E CA						dex
   964 800F CA						dex
   965 8010 8A						txa
   966 8011 20 17 63					jsr dodajWybuch
   967 8014 A9 02 8D 32 24				mva #1*2 sfx_bomba
   968 8019 88						dey
   969 801A E8						inx
   970 801B 8A						txa
   971 801C 20 17 63					jsr dodajWybuch
   972 801F 88						dey			;zachowujemy wartosc Y
   973 8020 A6 3E					ldx kolpom0
   974 8022 60						rts 
   975 						
   976 				;kolizje strzalow statku z obiektami (bomba,meteor)
   977 = 8023			kolStrzalyObiekty	equ *	
   978 8023 A2 03					ldx #3
   979 8025 BD 00 01		@			lda strzal,x
   980 8028 F0 0D					beq kolso1
   981 802A BD 28 01		_tlo1		lda strzalTlo,x		;jeśli cos jest pod strzalem to sprawdz kolizje
   982 802D 29 7F					and #127
   983 802F C9 1F					cmp #firstBombaChar
   984 8031 90 04					bcc kolso1
   985 8033 C9 27					cmp #firstMeteorChar+4
   986 8035 90 04					bcc @+
   987 8037 CA			kolso1		dex
   988 8038 10 EB					bpl @-
   989 803A 60						rts
   990 							
   991 							
   992 							
   993 803B AC 20 3D		@			ldy licznikBombyEkran
   994 803E D0 01					bne kolso3
   995 8040 60						rts
   996 							
   997 8041 84 37		kolso3		sty pom0
   998 8043 B9 2C 3D					lda bombyEkran-1,y
   999 8046 A8						tay
  1000 8047 B9 FF 19					lda bombRodzaj-1,y
  1001 804A 30 22					bmi kolso2		;nastepny obiekt
  1002 804C 85 3D					sta pom0f
  1003 804E 84 38					sty pom0a
  1004 8050 A4 37					ldy pom0
  1005 8052 B9 6C 3D					lda bombY0-1,y	;pozycja Y bomby na ekranie +1
  1006 8055 38						sec
  1007 8056 FD 18 01					sbc strzalY2,x
  1008 8059 C9 02					cmp #2
  1009 805B B0 0B					bcs kolso2a		;nastepny obiekt
  1010 805D B9 4C 3D					lda bombX0-1,y	;pozycja X bomby na ekranie +1
  1011 8060 38						sec
  1012 8061 FD 0C 01					sbc strzalX2,x
  1013 8064 C9 02					cmp #2
  1014 8066 90 0E					bcc @+
  1015 							
  1016 8068 88			kolso2a		dey
  1017 8069 D0 D6					bne kolso3
  1018 806B 4C 37 80					jmp kolso1		;skok bezwarunkowy	
  1019
  1020 806E A4 37		kolso2		ldy pom0
  1021 8070 88						dey
  1022 8071 D0 CE					bne kolso3
  1023 8073 4C 37 80					jmp kolso1		;skok bezwarunkowy				
  1024 							
  1025 8076 A5 3D		@			lda pom0f
  1026 8078 49 01					eor #1
  1027 807A 18						clc
  1028 807B 69 01					adc #1
  1029 807D 20 E2 8F					jsr dodajPunkty
  1030 8080 A4 38					ldy pom0a
  1031 8082 A9 FF 99 FF 19				mva #255 bombRodzaj-1,y
  1032 8087 A9 00 9D 00 01				mva #0 strzal,x
  1033 							
  1034 							
  1035 808C A5 3D					lda pom0f
  1036 808E F0 14					beq @+
  1037 							
  1038 8090 B9 7F 8C					lda bombX-1,y
  1039 8093 48						pha
  1040 8094 B9 FF 8C					lda bombY-1,y
  1041 8097 A8						tay
  1042 8098 A9 00 8D 31 24				mva #0 sfx_asteroid
  1043 809D 68						pla
  1044 809E 20 17 63					jsr dodajWybuch
  1045 							
  1046 80A1 4C 37 80					jmp kolso1		;bezwarunkowy , sprawdz nastepny strzal
  1047 							
  1048 80A4 B9 7F 8C		@			lda bombX-1,y
  1049 80A7 38						sec
  1050 80A8 E9 01					sbc #1
  1051 80AA 85 3E					sta kolpom0
  1052 80AC 48						pha
  1053 80AD B9 FF 8C					lda bombY-1,y
  1054 80B0 A8						tay
  1055 80B1 88						dey
  1056 80B2 68						pla
  1057 							
  1058 80B3 20 FC 7F					jsr bombExplo
  1059 80B6 4C 37 80					jmp kolso1
  1060 							
  1061 				;kolizje strzalow z bazami
  1062 = 80B9			kolStrzalyBazy	equ *
  1063 80B9 AD 1F 3D					lda licznikBazyEkran
  1064 80BC D0 01					bne @+
  1065 80BE 60						rts
  1066
  1067 80BF A2 03		@			ldx #3
  1068 80C1 BD 00 01		@			lda strzal,x
  1069 80C4 D0 04					bne @+
  1070 80C6 CA			kolsb1		dex
  1071 80C7 10 F8					bpl @-
  1072 80C9 60						rts
  1073
  1074 80CA AC 1F 3D		@			ldy licznikBazyEkran
  1075
  1076 80CD 84 37		kolsb3		sty pom0
  1077 80CF B9 20 3D					lda bazyEkran-1,y
  1078 80D2 A8						tay
  1079 80D3 B9 FF 89					lda bazyRodzaj-1,y
  1080 80D6 F0 0A					beq @+
  1081 80D8 10 2C					bpl @+1		;baza b
  1082 							
  1083 80DA A4 37		kolsb2		ldy pom0
  1084 80DC 88						dey
  1085 80DD D0 EE					bne kolsb3
  1086 80DF 4C C6 80					jmp kolsb1		;sok bezwarunkowy
  1087 							
  1088 80E2 BD 18 01		@			lda strzalY2,x
  1089 80E5 38						sec
  1090 80E6 F9 5F 8A					sbc bazyY0-1,y
  1091 80E9 C9 08					cmp #8
  1092 80EB B0 ED					bcs kolsb2
  1093 80ED 85 39					sta pom0b
  1094 80EF BD 0C 01					lda strzalX2,x
  1095 80F2 38						sec
  1096 80F3 F9 3F 8A					sbc bazyX0-1,y
  1097 80F6 C9 09					cmp #9
  1098 80F8 B0 E0					bcs kolsb2
  1099 80FA 84 38					sty pom0a		;indeks trafionej bazy
  1100 80FC 86 3D					stx pom0f
  1101 80FE 20 CC 81					jsr kolBazaA
  1102 8101 A6 3D					ldx pom0f
  1103 8103 4C C6 80					jmp kolsb1
  1104
  1105 8106 BD 0C 01		@			lda strzalX2,x
  1106 8109 38						sec
  1107 810A F9 3F 8A					sbc bazyX0-1,y
  1108 810D C9 08					cmp #8
  1109 810F B0 C9					bcs kolsb2
  1110 8111 85 39					sta pom0b
  1111 8113 BD 18 01					lda strzalY2,x
  1112 8116 38						sec
  1113 8117 F9 5F 8A					sbc bazyY0-1,y
  1114 811A C9 09					cmp #9
  1115 811C B0 BC					bcs kolsb2
  1116 811E 84 38					sty pom0a		;indeks trafionej bazy
  1117 8120 86 3D					stx pom0f
  1118 8122 20 E8 83					jsr kolBazaB
  1119 8125 A6 3D					ldx pom0f
  1120 8127 4C C6 80					jmp kolsb1
  1121
  1122
  1123 							
  1124 812A 00 00 00 85 85 00 + bazaA1		dta b(0,0,0,128+5,128+5,0,0,0)
  1125 8132 00 00 02 0D 0D 02 + 			dta b(0,0,2,8+5,8+5,2,0,0)
  1126 813A 80 08 07 07 07 07 + 			dta b(128+0,8+0,7,7,7,7,8+4,128+4)
  1127 8142 08 08 07 07 07 07 + 			dta b(8+0,8+0,7,7,7,7,8+4,8+4)
  1128 814A 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1129 8152 09 09 07 07 07 07 + 			dta b(8+1,8+1,7,7,7,7,8+3,8+3)
  1130 815A 81 09 07 07 07 07 + 			dta b(128+1,8+1,7,7,7,7,8+3,128+3)
  1131 8162 00 00 03 0A 0A 03 + 			dta b(0,0,3,8+2,8+2,3,0,0)
  1132 816A 00 00 00 82 82 00 + 			dta b(0,0,0,128+2,128+2,0,0,0)
  1133 							
  1134 8172 00 00 00 82 82 00 + bazaA2		dta b(0,0,0,128+2,128+2,0,0,0)
  1135 817A 00 00 03 0A 0A 03 + 			dta b(0,0,3,8+2,8+2,3,0,0)
  1136 8182 83 0B 07 07 07 07 + 			dta b(128+3,8+3,7,7,7,7,8+1,128+1)
  1137 818A 0B 0B 07 07 07 07 + 			dta b(8+3,8+3,7,7,7,7,8+1,8+1)
  1138 8192 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1139 819A 0C 0C 07 07 07 07 + 			dta b(8+4,8+4,7,7,7,7,8+0,8+0)
  1140 81A2 84 0C 07 07 07 07 + 			dta b(128+4,8+4,7,7,7,7,8+0,128+0)
  1141 81AA 00 00 02 0D 0D 02 + 			dta b(0,0,2,8+5,8+5,2,0,0)
  1142 81B2 00 00 00 85 85 00 + 			dta b(0,0,0,128+5,128+5,0,0,0)				
  1143
  1144 81BA 02 05 07 05 02 00 + dzialkoAX	dta b(2,5,7,5,2,0,2,5)
  1145 81C2 00 00 03 06 06 03 + dzialkoAY	dta b(0,0,3,6,6,3,3,3)
  1146 81CA 00 01		bazaAbit		dta b(0,1)
  1147 							
  1148 = 81CC			kolBazaA	equ *
  1149 81CC 0A						asl @
  1150 81CD 0A						asl @
  1151 81CE 0A						asl @
  1152 81CF 65 39					adc pom0b
  1153 81D1 A8						tay
  1154 81D2 B9 2A 81					lda bazaA1,y
  1155 81D5 D0 01					bne @+
  1156 81D7 60						rts			;puste pole
  1157 							
  1158 81D8 C9 07		@			cmp #7
  1159 81DA D0 06					bne @+
  1160 							
  1161 81DC A9 00 9D 00 01				mva #0 strzal,x		;trafiono tylko w baze
  1162 81E1 60						rts
  1163 							
  1164 81E2 C9 06		@			cmp #6
  1165 81E4 B0 17					bcs @+2
  1166 							
  1167 81E6 BC 24 01					ldy strzalKierunek,x
  1168 81E9 C0 01					cpy #1
  1169 81EB D0 0A					bne @+		;strzal poziomy i po skosie to zablokuj
  1170 81ED A8						tay
  1171 81EE BD 34 01					lda strzalXbit,x		;gorny lewy rog
  1172 81F1 4A						lsr
  1173 81F2 D9 C8 81					cmp bazaAbit-2,y
  1174 81F5 F0 05					beq @+1
  1175 							
  1176 81F7 A9 00 9D 00 01	@			mva #0 strzal,x
  1177 81FC 60			@			rts
  1178 							
  1179 81FD C9 06		@			cmp #6
  1180 81FF D0 14					bne @+
  1181 							
  1182 8201 A9 00 9D 00 01				mva #0 strzal,x			;jadro
  1183 8206 AD A6 53					lda czyJadroA
  1184 8209 F0 F1					beq @-1
  1185 820B A4 38					ldy pom0a
  1186 820D A9 FF 99 FF 89				mva #255 bazyRodzaj-1,y
  1187 8212 4C 94 82					jmp usunBazeA
  1188 							
  1189 8215 85 3A		@			sta pom0c
  1190 8217 29 07					and #%111
  1191 8219 A8						tay
  1192 821A 84 3C					sty pom0e		;numer dzialka
  1193 821C B9 EE 82					lda tabKol0,y
  1194 821F 85 3B					sta pom0d		;bit dzialka
  1195 8221 A4 38					ldy pom0a	;indeks bazy
  1196 8223 39 0F 8A					and bazyStan-1,y		;czy dzialo jest zestrzelone
  1197 8226 F0 61					beq @+2
  1198 							
  1199 							;trafiono dzialko
  1200 8228 A9 00 9D 00 01				mva #0 strzal,x
  1201 822D B9 0F 8A					lda bazyStan-1,y
  1202 8230 45 3B					eor pom0d
  1203 8232 99 0F 8A					sta bazyStan-1,y
  1204 8235 D0 08					bne @+
  1205 							
  1206 8237 A9 20					lda #$20
  1207 8239 20 E2 8F					jsr dodajPunkty
  1208 823C 4C 99 82					jmp usunBazeA1
  1209 							
  1210 823F A6 3C		@			ldx pom0e		;nr dzialka
  1211 8241 BD F4 82					lda tabKol1,x		;adres ksztaltu po trafieniu
  1212 8244 8D 71 82					sta _kol1+1
  1213 8247 BD FA 82					lda tabKol1+6,x
  1214 824A 8D 72 82					sta _kol1+2
  1215 							
  1216 824D BD 0C 83					lda tabKol2,x		;cannonX
  1217 8250 85 69					sta pom
  1218 8252 BD 12 83					lda tabKol2+6,x
  1219 8255 85 6A					sta pom+1
  1220 							
  1221 8257 B9 2F 8A					lda bazyX-1,y
  1222 825A 18						clc
  1223 825B 7D BA 81					adc dzialkoAX,x
  1224 825E 48						pha
  1225 825F B9 4F 8A					lda bazyY-1,y
  1226 8262 7D C2 81					adc dzialkoAY,x
  1227 8265 A8						tay
  1228 8266 68						pla
  1229 8267 20 17 63					jsr dodajWybuch
  1230 							
  1231 826A A4 38					ldy pom0a
  1232 826C 88						dey
  1233 826D A2 03					ldx #3
  1234 826F 18						clc
  1235 = 8270			@			equ *
  1236 8270 BD FF FF		_kol1		lda $ffff,x
  1237 8273 91 69					sta (pom),y
  1238 							;clc
  1239 8275 A5 69					lda pom
  1240 8277 69 10					adc #maxBaz
  1241 8279 85 69					sta pom
  1242 					
  1243 827B CA						dex
  1244 827C 10 F2					bpl @-
  1245 							
  1246 827E A9 20					lda #$20
  1247 8280 20 E2 8F					jsr dodajPunkty
  1248 							
  1249 8283 A9 0E 8D 30 24				mva #7*2 sfx_dzialko
  1250 							
  1251 8288 60						rts
  1252 						
  1253 8289 A5 3A		@			lda pom0c
  1254 828B 10 01					bpl @+
  1255 828D 60						rts
  1256
  1257 828E A9 00 9D 00 01	@			mva #0 strzal,x
  1258 8293 60						rts				;narazie nic nie rob
  1259 							
  1260 				;usuwa baze numer w Y i dodaje wybuchy (powiekszonuy o 1)
  1261 = 8294			usunBazeA	equ *
  1262 8294 A9 50					lda #$50				;bonus za trafienie w środek bazy
  1263 8296 20 E2 8F					jsr dodajPunkty
  1264 							
  1265 8299 20 81 95		usunBazeA1	jsr eorBazaRadar		;bez bonus
  1266 829C A9 75					lda #$75
  1267 829E 20 E2 8F					jsr dodajPunkty
  1268 82A1 A9 75					lda #$75
  1269 82A3 20 E2 8F					jsr dodajPunkty
  1270 							
  1271 82A6 A9 FF 99 FF 89				mva #255 bazyRodzaj-1,y
  1272 82AB EE 70 8A					inc zbiteBazy
  1273 							
  1274 82AE BE 1F 8A					ldx bazyRakieta-1,y
  1275 82B1 30 0D					bmi @+
  1276 							
  1277 82B3 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
  1278 82B8 A9 00 9D 92 6E				mva #0 rakietyStan,x
  1279 82BD 9D C2 6E					sta rakietyMove,x
  1280 							
  1281 82C0 B9 2F 8A		@			lda bazyX-1,y
  1282 82C3 8D D6 82					sta _usb1+1
  1283 82C6 B9 4F 8A					lda bazyY-1,y
  1284 82C9 8D D0 82					sta _usb2+1
  1285 							
  1286 82CC A2 07					ldx #7
  1287 82CE 18			@			clc
  1288 82CF A9 FF		_usb2		lda #$ff
  1289 82D1 7D C2 81					adc dzialkoAY,x
  1290 82D4 A8						tay
  1291 82D5 A9 FF		_usb1		lda #$ff
  1292 82D7 7D BA 81					adc dzialkoAX,x
  1293 82DA 20 17 63					jsr dodajWybuch
  1294 82DD CA						dex
  1295 82DE 10 EE					bpl @-
  1296 									
  1297 82E0 20 0A 6E					jsr zmniejszKondycja
  1298
  1299 82E3 A9 10 8D 33 24				mva #8*2 sfx_wybuch
  1300 82E8 A9 0E 8D 76 8A				mva #14 waitWybuch
  1301 							
  1302 82ED 60						rts
  1303 							
  1304 82EE 01 02 04 08 10 20	tabKol0		dta b(%1,%10,%100,%1000,%10000,%100000)
  1305 82F4 18 1C 20 24 28 2C	tabKol1		dta b(<kCannon,<(kCannon+4),<(kCannon+8),<(kCannon+12),<(kCannon+16),<(kCannon+20))
  1306 82FA 83 83 83 83 83 83				dta b(>kCannon,>(kCannon+4),>(kCannon+8),>(kCannon+12),>(kCannon+16),>(kCannon+20))
  1307 8300 30 34 38 3C 40 44				dta b(<(kCannon+24),<(kCannon+28),<(kCannon+32),<(kCannon+36),<(kCannon+40),<(kCannon+44))
  1308 8306 83 83 83 83 83 83				dta b(>(kCannon+24),>(kCannon+28),>(kCannon+32),>(kCannon+36),>(kCannon+40),>(kCannon+44))
  1309 830C 00 40 80 C0 00 40	tabKol2		dta b(<(bazyCannon0a),<(bazyCannon1a),<(bazyCannon2a),<(bazyCannon3a),<(bazyCannon4a),<(bazyCannon5a))			
  1310 8312 8B 8B 8B 8B 8C 8C				dta b(>(bazyCannon0a),>(bazyCannon1a),>(bazyCannon2a),>(bazyCannon3a),>(bazyCannon4a),>(bazyCannon5a))
  1311 							
  1312 8318 1A 18 19 00		kCannon		dta b(b+23,b+21,b+22,0)
  1313 831C 1A 18 00 17					dta b(b+23,b+21,0,b+20)
  1314 8320 00 18 00 17					dta b(0,b+21,0,b+20)
  1315 8324 00 18 19 17					dta b(0,b+21,b+22,b+20)
  1316 8328 1A 00 19 17					dta b(b+23,0,b+22,b+20)
  1317 832C 1A 00 19 00					dta b(b+23,0,b+22,0)
  1318 							
  1319 8330 1A 18 00 00					dta b(b+23,b+21,0,0)
  1320 8334 1A 18 00 17					dta b(b+23,b+21,0,b+20)
  1321 8338 00 18 19 17					dta b(0,b+21,b+22,b+20)
  1322 833C 00 00 19 17					dta b(0,0,b+22,b+20)
  1323 8340 1A 00 19 17					dta b(b+23,0,b+22,b+20)
  1324 8344 1A 18 19 00					dta b(b+23,b+21,b+22,0)
  1325 							
  1326 8348 00 00 00 80 80 00 + bazaB1		dta b(0,0,0,128+0,128+0,0,0,0)
  1327 8350 00 00 02 08 08 02 + 			dta b(0,0,2,8+0,8+0,2,0,0)
  1328 8358 85 0D 07 07 07 07 + 			dta b(128+5,8+5,7,7,7,7,8+1,128+1)
  1329 8360 0D 0D 07 07 07 07 + 			dta b(8+5,8+5,7,7,7,7,8+1,8+1)
  1330 8368 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1331 8370 0C 0C 07 07 07 07 + 			dta b(8+4,8+4,7,7,7,7,8+2,8+2)
  1332 8378 84 0C 07 07 07 07 + 			dta b(128+4,8+4,7,7,7,7,8+2,128+2)
  1333 8380 00 00 03 0B 0B 03 + 			dta b(0,0,3,8+3,8+3,3,0,0)
  1334 8388 00 00 00 83 83 00 + 			dta b(0,0,0,128+3,128+3,0,0,0)
  1335 							
  1336 8390 00 00 00 83 83 00 + bazaB2		dta b(0,0,0,128+3,128+3,0,0,0)
  1337 8398 00 00 03 0B 0B 03 + 			dta b(0,0,3,8+3,8+3,3,0,0)
  1338 83A0 82 0A 07 07 07 07 + 			dta b(128+2,8+2,7,7,7,7,8+4,128+4)
  1339 83A8 0A 0A 07 07 07 07 + 			dta b(8+2,8+2,7,7,7,7,8+4,8+4)
  1340 83B0 00 00 00 06 06 00 + 			dta b(0,0,0,6,6,0,0,0)
  1341 83B8 09 09 07 07 07 07 + 			dta b(8+1,8+1,7,7,7,7,8+5,8+5)
  1342 83C0 81 09 07 07 07 07 + 			dta b(128+1,8+1,7,7,7,7,8+5,128+5)
  1343 83C8 00 00 02 0A 0A 02 + 			dta b(0,0,2,8+2,8+2,2,0,0)
  1344 83D0 00 00 00 80 80 00 + 			dta b(0,0,0,128+0,128+0,0,0,0)				
  1345
  1346 83D8 03 06 06 03 00 00 + dzialkoBX	dta b(3,6,6,3,0,0,3,3)
  1347 83E0 00 02 05 07 05 02 + dzialkoBY	dta b(0,2,5,7,5,2,2,5)
  1348 							
  1349 = 83E8			kolBazaB	equ *
  1350 83E8 0A						asl @
  1351 83E9 0A						asl @
  1352 83EA 0A						asl @
  1353 83EB 65 39					adc pom0b
  1354 83ED A8						tay
  1355 83EE B9 48 83					lda bazaB1,y
  1356 83F1 D0 01					bne @+
  1357 83F3 60						rts
  1358 							
  1359 83F4 C9 07		@			cmp #7
  1360 83F6 D0 06					bne @+
  1361 							
  1362 83F8 A9 00 9D 00 01				mva #0 strzal,x		;trafiono tylko w baze
  1363 83FD 60						rts
  1364 							
  1365 83FE C9 06		@			cmp #6
  1366 8400 B0 18					bcs @+2
  1367 							
  1368 8402 BC 24 01					ldy strzalKierunek,x
  1369 8405 F0 03					beq klbb1
  1370 8407 4C 14 84					jmp @+		;blokuj strzal pionowy i po skosie
  1371
  1372 840A A8			klbb1		tay
  1373 840B BD 20 01					lda strzalYbit,x		;gorny lewy rog
  1374 840E 4A						lsr
  1375 840F D9 C8 81					cmp bazaAbit-2,y
  1376 8412 F0 05					beq @+1
  1377 							
  1378 8414 A9 00 9D 00 01	@			mva #0 strzal,x
  1379 8419 60			@			rts
  1380 							
  1381 841A C9 06		@			cmp #6
  1382 841C D0 14					bne @+
  1383 								
  1384 841E A9 00 9D 00 01				mva #0 strzal,x
  1385 8423 AD A7 53					lda czyJadroB
  1386 8426 F0 F1					beq @-1
  1387 8428 A4 38					ldy pom0a
  1388 842A A9 FF 99 FF 89				mva #255 bazyRodzaj-1,y
  1389 842F 4C B1 84					jmp usunBazeB
  1390 							
  1391 8432 85 3A		@			sta pom0c
  1392 8434 29 07					and #%111
  1393 8436 A8						tay
  1394 8437 84 3C					sty pom0e		;numer dzialka
  1395 8439 B9 EE 82					lda tabKol0,y
  1396 843C 85 3B					sta pom0d		;bit dzialka
  1397 843E A4 38					ldy pom0a	;indeks bazy
  1398 8440 39 0F 8A					and bazyStan-1,y		;czy dzialo jest zestrzelone
  1399 8443 F0 61					beq @+2
  1400 							
  1401 							;trafiono dzialko
  1402 8445 A9 00 9D 00 01				mva #0 strzal,x
  1403 844A B9 0F 8A					lda bazyStan-1,y
  1404 844D 45 3B					eor pom0d
  1405 844F 99 0F 8A					sta bazyStan-1,y
  1406 8452 D0 08					bne @+
  1407 							
  1408 8454 A9 20					lda #$20
  1409 8456 20 E2 8F					jsr dodajPunkty
  1410 8459 4C B6 84					jmp usunBazeB1
  1411 							
  1412 845C A6 3C		@			ldx pom0e		;nr dzialka
  1413 845E BD 00 83					lda tabKol1+12,x		;adres ksztaltu po trafieniu
  1414 8461 8D 8E 84					sta _kol3+1
  1415 8464 BD 06 83					lda tabKol1+18,x
  1416 8467 8D 8F 84					sta _kol3+2
  1417 							
  1418 846A BD 0C 83					lda tabKol2,x		;cannonX
  1419 846D 85 69					sta pom
  1420 846F BD 12 83					lda tabKol2+6,x
  1421 8472 85 6A					sta pom+1
  1422 							
  1423 8474 B9 2F 8A					lda bazyX-1,y
  1424 8477 18						clc
  1425 8478 7D D8 83					adc dzialkoBX,x
  1426 847B 48						pha
  1427 847C B9 4F 8A					lda bazyY-1,y
  1428 847F 7D E0 83					adc dzialkoBY,x
  1429 8482 A8						tay
  1430 8483 68						pla
  1431 8484 20 17 63					jsr dodajWybuch
  1432 							
  1433 					
  1434 8487 A4 38					ldy pom0a
  1435 8489 88						dey
  1436 848A A2 03					ldx #3
  1437 848C 18						clc
  1438 = 848D			@			equ *
  1439 848D BD FF FF		_kol3		lda $ffff,x
  1440 8490 91 69					sta (pom),y
  1441 							;clc
  1442 8492 A5 69					lda pom
  1443 8494 69 10					adc #maxBaz
  1444 8496 85 69					sta pom
  1445 					
  1446 8498 CA						dex
  1447 8499 10 F2					bpl @-
  1448 							
  1449 849B A9 20					lda #$20
  1450 849D 20 E2 8F					jsr dodajPunkty
  1451 							
  1452 84A0 A9 0E 8D 30 24				mva #7*2 sfx_dzialko
  1453 							
  1454 84A5 60						rts
  1455 						
  1456 84A6 A5 3A		@			lda pom0c
  1457 84A8 10 01					bpl @+
  1458 84AA 60						rts
  1459
  1460 84AB A9 00 9D 00 01	@			mva #0 strzal,x	
  1461
  1462 84B0 60						rts
  1463 							
  1464 				;usuwa baze numer w Y i dodaje wybuchy (powiekszonuy o 1)
  1465 = 84B1			usunBazeB	equ *
  1466 84B1 A9 50					lda #$50			;bonus za trafienie w jądro bazy
  1467 84B3 20 E2 8F					jsr dodajPunkty
  1468
  1469 84B6 20 81 95		usunBazeB1	jsr eorBazaRadar		;bez bonus
  1470 84B9 A9 75					lda #$75
  1471 84BB 20 E2 8F					jsr dodajPunkty
  1472 84BE A9 75					lda #$75
  1473 84C0 20 E2 8F					jsr dodajPunkty
  1474 						
  1475 84C3 A9 FF 99 FF 89				mva #255 bazyRodzaj-1,y
  1476 84C8 EE 70 8A					inc zbiteBazy
  1477 							
  1478 84CB BE 1F 8A					ldx bazyRakieta-1,y
  1479 84CE 30 0D					bmi @+
  1480 							
  1481 84D0 A9 FF 99 1F 8A				mva #255 bazyRakieta-1,y
  1482 84D5 A9 00 9D 92 6E				mva #0 rakietyStan,x
  1483 84DA 9D C2 6E					sta rakietyMove,x
  1484 							
  1485 84DD B9 4F 8A		@			lda bazyY-1,y
  1486 84E0 8D ED 84					sta _usb4+1
  1487 84E3 B9 2F 8A					lda bazyX-1,y
  1488 84E6 8D F3 84					sta _usb3+1
  1489 							
  1490 84E9 A2 07					ldx #7
  1491 84EB 18			@			clc
  1492 84EC A9 FF		_usb4		lda #$ff
  1493 84EE 7D E0 83					adc dzialkoBY,x
  1494 84F1 A8						tay
  1495 84F2 A9 FF		_usb3		lda #$ff
  1496 84F4 7D D8 83					adc dzialkoBX,x
  1497 84F7 20 17 63					jsr dodajWybuch
  1498 84FA CA						dex
  1499 84FB 10 EE					bpl @-
  1500 							
  1501 84FD 20 0A 6E					jsr zmniejszKondycja
  1502 							
  1503 8500 A9 10 8D 33 24				mva #8*2 sfx_wybuch
  1504 8505 A9 0E 8D 76 8A				mva #14 waitWybuch
  1505 850A 60						rts
  1506 							
  1507 							
   338 850B						icl 'enemy.asm'
Source: enemy.asm
     1 850B 00			ile_enemy	dta b(0)
     2 850C 00			max_enemy	dta b(0)
     3 850D			enlicznik	org *+6	;dta b(0,0,0,0,0,0)
     4 8513			enrotate		org *+6	;dta b(0,0,0,0,0,0)
     5
     6 8519-89EC> 00		speedEnemy	dta b(0)
     7 							
     8 851A 06 08 08 08 08 08 + fazaTab		dta b(6,8,8,8,8,8,8,8)
     9 8522 04 06 07 07 07 07 + 			dta b(4,6,7,7,7,7,8,7)
    10 852A 04 06 06 07 07 07 + 			dta b(4,6,6,7,7,7,8,7)
    11 8532 04 06 06 06 07 07 + 			dta b(4,6,6,6,7,7,8,7)
    12 853A 04 05 05 06 06 07 + 			dta b(4,5,5,6,6,7,7,7)
    13 8542 04 05 05 05 05 05 + 			dta b(4,5,5,5,5,5,6,7)
    14 854A 04 06 05 05 05 05 + 			dta b(4,6,5,5,5,5,5,6)
    15 							
    16 8552 0E 02 0A 06		fazaTab1	dta b(14,2,10,6)
    17
    18 = 0586			P2=1414
    19 = 0A35			P5=2613	;P5=2236		
    20 = 043A			P6=1082
    21 8556			enemyTab2
    22 8556			.local speed0
    23 = 003B			d0=59
    24 = 0040			d1=d0*110/100	;+10%
    25 = 003D			d2=d0*105/100	
    26 = 002D			w1=d1*1000/P2
    27 = 0017			w2=d2*1000/P5
    28 = 0038			w3=d2*1000/P6
    29 8556 00 17 2D 38 3B 38 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    30 8566 C5 C8 D3 E9 00 17 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    31 				.endl			
    32 8576			.local speed1
    33 = 003F			d0=63
    34 = 0046			d1=d0*112/100	;+12%
    35 = 0042			d2=d0*106/100
    36 = 0031			w1=d1*1000/P2
    37 = 0019			w2=d2*1000/P5
    38 = 003C			w3=d2*1000/P6
    39 8576 00 19 31 3C 3F 3C + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    40 8586 C1 C4 CF E7 00 19 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    41 				.endl					
    42 8596			.local speed2
    43 = 0044			d0=68
    44 = 004E			d1=d0*115/100	;+15%
    45 = 0048			d2=d0*107/100
    46 = 0037			w1=d1*1000/P2
    47 = 001B			w2=d2*1000/P5
    48 = 0042			w3=d2*1000/P6
    49 8596 00 1B 37 42 44 42 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    50 85A6 BC BE C9 E5 00 1B + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    51 				.endl	
    52 85B6			.local speed3
    53 = 0048			d0=72
    54 = 0056			d1=d0*120/100	;+20%
    55 = 004F			d2=d0*110/100
    56 = 003C			w1=d1*1000/P2
    57 = 001E			w2=d2*1000/P5
    58 = 0049			w3=d2*1000/P6
    59 85B6 00 1E 3C 49 48 49 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    60 85C6 B8 B7 C4 E2 00 1E + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    61 				.endl	
    62 85D6			.local speed4
    63 = 004E			d0=78
    64 = 0061			d1=d0*125/100	;+25%
    65 = 0057			d2=d0*112/100
    66 = 0044			w1=d1*1000/P2
    67 = 0021			w2=d2*1000/P5
    68 = 0050			w3=d2*1000/P6
    69 85D6 00 21 44 50 4E 50 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    70 85E6 B2 B0 BC DF 00 21 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    71 				.endl	
    72 85F6			.local speed5
    73 = 0054			d0=84
    74 = 006D			d1=d0*130/100	;+30%
    75 = 0060			d2=d0*115/100
    76 = 004D			w1=d1*1000/P2
    77 = 0024			w2=d2*1000/P5
    78 = 0058			w3=d2*1000/P6
    79 85F6 00 24 4D 58 54 58 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    80 8606 AC A8 B3 DC 00 24 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    81 				.endl			
    82 8616			.local speed6
    83 = 0058			d0=88
    84 = 0076			d1=d0*135/100	;+35%
    85 = 0065			d2=d0*115/100
    86 = 0053			w1=d1*1000/P2
    87 = 0026			w2=d2*1000/P5
    88 = 005D			w3=d2*1000/P6
    89 8616 00 26 53 5D 58 5D + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
    90 8626 A8 A3 AD DA 00 26 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
    91 				.endl	
    92 8636			.local speed7
    93 = 005E			d0=94
    94 = 0083			d1=d0*140/100	;+40%
    95 = 006D			d2=d0*117/100
    96 = 005C			w1=d1*1000/P2
    97 = 0029			w2=d2*1000/P5
    98 = 0064			w3=d2*1000/P6
    99 8636 00 29 5C 64 5E 64 + 			dta b(0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3,-d0,-w3,-w1,-w2)
   100 8646 A2 9C A4 D7 00 29 + 			dta b(-d0,-w3,-w1,-w2,0,w2,w1,w3,d0,w3,w1,w2,0,-w2,-w1,-w3)
   101 				.endl	
   102
   103 								
   104 								
   105 							
   106 				;Ucieczka przeciwnikow, korekcja ich lotu
   107 = 8656			Ucieczka	equ *
   108 8656 A0 00				ldy #0
   109 8658 BD CF 17				lda enemyY0,x
   110 865B 30 06				bmi @+		;jesli wartosc ujemna to przyjmij 0
   111 865D C9 0E				cmp #14
   112 865F 90 02				bcc @+
   113 8661 A0 02				ldy #2
   114
   115 8663 BD C3 17		@		lda enemyX0,x
   116 8666 30 05				bmi @+
   117 8668 C9 10				cmp #16
   118 866A 90 01				bcc @+
   119 866C C8					iny
   120 866D B9 52 85		@		lda fazaTab1,y		
   121 								
   122 8670 38					sec
   123 8671 FD E1 17				sbc enemyFaza,x
   124
   125 8674 29 0F				and #%1111
   126 8676 D0 01				bne @+
   127 8678 60					rts			;nie zmieniaj fazy , sa równe
   128 						
   129 8679 C9 08		@		cmp #8
   130 867B B0 0B				bcs @+
   131 						;clc
   132 867D BD E1 17				lda enemyFaza,x
   133 8680 69 01				adc #1
   134 8682 29 0F				and #%1111
   135 8684 9D E1 17				sta enemyFaza,x
   136 8687 60					rts
   137 8688 BD E1 17		@		lda enemyFaza,x
   138 						;sec
   139 868B E9 01				sbc #1
   140 868D 29 0F				and #%1111
   141 868F 9D E1 17				sta enemyFaza,x
   142 8692 60					rts				
   143 					
   144 				;korekcja kątu lotu
   145 = 8693			korekcjaLotu	equ *
   146 8693 A0 00				ldy #0
   147 8695 BD CF 17				lda enemyY0,x
   148 8698 18					clc
   149 8699 69 01				adc #1
   150 						
   151 869B 10 02				bpl @+		;jesli wartosc ujemna to przyjmij 0
   152 869D A9 00				lda #0
   153 869F 4A			@		lsr
   154 86A0 C9 07				cmp #7
   155 86A2 90 0A				bcc @+
   156 86A4 A0 02				ldy #2
   157 86A6 49 FF				eor #255
   158 86A8 69 0D				adc #13		;c=1 +1
   159 86AA 10 02				bpl @+
   160 86AC A9 00				lda #0
   161 86AE 0A			@		asl 
   162 86AF 0A					asl
   163 86B0 0A					asl
   164 86B1 85 37				sta pom0
   165
   166 86B3 BD C3 17				lda enemyX0,x
   167 86B6 18					clc
   168 86B7 69 01				adc #1
   169 86B9 10 02				bpl @+
   170 86BB A9 00				lda #0
   171 86BD 4A			@		lsr
   172 86BE C9 08				cmp #8
   173 86C0 90 09				bcc @+
   174 86C2 C8					iny
   175 86C3 49 FF				eor #255		;II lub III cwiartka
   176 86C5 69 0F				adc #15		;c=1 +1 zmiana znaku
   177 86C7 10 02				bpl @+
   178 86C9 A9 00				lda #0		;poza ekranem
   179 86CB 05 37		@		ora pom0
   180 86CD 8C D5 86				sty cwiartka+1
   181 86D0 A8					tay
   182 86D1 B9 1A 85				lda fazaTab,y
   183 = 86D4			cwiartka equ *
   184 86D4 A0 FF				ldy #$ff
   185 						
   186 86D6 C0 01				cpy #1
   187 86D8 F0 04				beq @+
   188 86DA C0 02				cpy #2
   189 86DC D0 05				bne @+1
   190 						
   191 86DE 49 FF		@		eor #255
   192 86E0 38					sec
   193 86E1 69 08				adc #8
   194 						
   195 86E3 C0 00		@		cpy #0
   196 86E5 F0 07				beq @+
   197 86E7 C0 02				cpy #2
   198 86E9 F0 03				beq @+
   199 						
   200 86EB 18					clc
   201 86EC 69 08				adc #8
   202 								
   203 86EE 38			@		sec
   204 86EF FD E1 17				sbc enemyFaza,x
   205
   206 86F2 29 0F				and #%1111
   207 86F4 D0 01				bne @+
   208 86F6 60					rts			;nie zmieniaj fazy , sa równe
   209 						
   210 86F7 C9 08		@		cmp #8
   211 86F9 B0 0B				bcs @+
   212 						;clc
   213 86FB BD E1 17				lda enemyFaza,x
   214 86FE 69 01				adc #1
   215 8700 29 0F				and #%1111
   216 8702 9D E1 17				sta enemyFaza,x
   217 8705 60					rts
   218 8706 BD E1 17		@		lda enemyFaza,x
   219 						;sec
   220 8709 E9 01				sbc #1
   221 870B 29 0F				and #%1111
   222 870D 9D E1 17				sta enemyFaza,x
   223 8710 60					rts		
   224
   225 8711 00			dlicz1	dta b(0)		
   226 = 8712			dodaj_przeciwnika	equ *	
   227 8712 CE 11 87				dec dlicz1
   228 8715 F0 01				beq @+
   229 8717 60					rts
   230 8718 AD 29 24 8D 11 87	@		mva opoz_denemy dlicz1
   231 						
   232 871E AD 7D 22				lda formacja_stan
   233 8721 F0 01				beq *+3
   234 8723 60					rts		;jesli wlaczona formacja to nie dodawaj nowych statkow
   235 						
   236 8724 AD 0B 85				lda ile_enemy		;ilu przeciwnikow jest na ekranie
   237 8727 CD 0C 85				cmp max_enemy		;czy jest maksymalna ilosc?
   238 872A 90 01				bcc @+
   239 872C 60					rts			;wystarczy;)
   240 						
   241 872D AD 0A D2		@		lda random		;czy ma sie pojawić?losuj
   242 8730 29 07				and #%111
   243 8732 C9 04				cmp #%100
   244 8734 D0 01				bne @+
   245 8736 60					rts			;nie
   246 						
   247 8737 A2 04		@		ldx #4		;szukaj nieuzywanego przeciwnika
   248 8739 BD B7 17		@		lda enemy,x
   249 873C F0 1E				beq @+
   250 873E CA					dex
   251 873F 10 F8				bpl @-
   252 8741 60					rts		;zabezpieczenie jak beda wszystki zajete (nie powinno sie zdazyc!)
   253
   254 = 8742			dod_en1	equ *		;miejsce dodania enemy X
   255 8742 AD 0B 85				lda ile_enemy		;czy dodajemy enemy podczas formacji?
   256 8745 C9 05				cmp #5
   257 8747 90 01				bcc *+3
   258 8749 60					rts
   259 874A AD B7 17				lda enemy
   260 874D F0 01				beq *+3
   261 874F 60					rts
   262 						
   263 8750 CE 11 87				dec dlicz1		;dodajmy opoznienie
   264 8753 F0 01				beq *+3
   265 8755 60					rts
   266 8756 AD 29 24 8D 11 87			mva opoz_denemy dlicz1 
   267 						
   268 875C A9 01		@		lda #1
   269 875E 9D 62 31				sta enemyEkran,x		;1 na starcie
   270 8761 AD 0A D2				lda random		;wylosuj pozyccje startowa
   271 8764 29 0F				and #%1111
   272 8766 A8					tay
   273 8767 18					clc
   274 8768 B9 D4 87				lda enemyTab1,y
   275 876B 65 17				adc posX
   276 876D 29 7F				and #127
   277 876F 9D BD 17				sta enemyX,x
   278 8772 AD 0A D2				lda random
   279 8775 29 E0				and #%11100000
   280 8777 9D D5 17				sta enemyDX,x
   281 877A 18					clc
   282 877B B9 E4 87				lda enemyTab1+16,y
   283 877E 65 18				adc posY
   284 8780 9D C9 17				sta enemyY,x
   285 8783 AD 0A D2				lda random
   286 8786 29 E0				and #%11100000
   287 8788 9D DB 17				sta enemyDY,x
   288 878B A9 00				lda #EKOLOR0
   289 878D 9D 5C 31				sta enemyNegatyw,x
   290 8790 B9 F4 87				lda enemyTab1+32,y
   291 8793 9D E1 17				sta enemyFaza,x
   292 						
   293 8796 AD 0A D2				lda random				;losuj kolor
   294 8799 29 01				and #1
   295 879B D0 07				bne @+
   296 879D A9 EE 9D E7 17			mva #BANK1 enemyBank,x
   297 87A2 D0 05				bne @+1
   298 87A4 A9 EA 9D E7 17	@		mva #BANK2 enemyBank,x
   299 = 87A9			@		equ *
   300
   301 87A9 AD 0A D2				lda random
   302 87AC 29 01				and #1
   303 87AE D0 07				bne @+
   304 87B0 A9 40 9D ED 17			mva >enemy1shapetab enemyShapeH,x 
   305 87B5 D0 05				bne @+1
   306 87B7 A9 41 9D ED 17	@		mva >enemy2shapetab enemyShapeH,x
   307 							
   308 						
   309 87BC EE 0B 85		@		inc ile_enemy		;zwieksz liczbe obecnych przeciwnikow
   310 87BF A9 01 9D B7 17			mva #1 enemy,x
   311 87C4 A9 00 9D 6E 31			mva #0 enemyWybuch,x
   312 87C9 A9 14 9D 13 85			mva #20 enRotate,x
   313 87CE A9 78 9D 0D 85			mva #115+5 enLicznik,x
   314 						
   315 87D3 60					rts
   316 								
   317 						
   318 						
   319 87D4 FE 04 1B 21 21 1B + enemyTab1	dta b(-2,4,27,33,33,27,4,-2)
   320 87DC 0D 12 21 21 12 0D + 			dta b(13,18,33,33,18,13,-2,-2)
   321 							
   322 87E4 04 FE FE 04 18 1E + 			dta b(4,-2,-2,4,24,30,30,24)
   323 87EC FE FE 0C 11 1E 1E + 			dta b(-2,-2,12,17,30,30,12,17)
   324 							
   325 87F4 05 07 09 0B 0D 0E + 			dta b(5,7,9,11,13,14,2,1)
   326 87FC 08 08 0C 0C 00 00 + 			dta b(8,8,12,12,0,0,4,4)	
   327
   328 8804 00			rotate_speed1	dta b(0)
   329 8805 00			rotate_speed1d	dta b(0)
   330 8806 00			rotate_speed2	dta b(0)
   331 8807 00			rotate_speed2d	dta b(0)
   332
   333 				;poruszaj przeciwnikami
   334 = 8808			moveEnemy	equ *
   335 8808 AD 33 70				lda jestSpy
   336 880B F0 09				beq @+
   337 880D AD 73 31				lda enemyWybuch+5
   338 8810 F0 04				beq @+
   339 8812 A2 05				ldx #5
   340 8814 D0 0F				bne @+1		;jmp, jesli spy jest w trakcie wybuchu
   341
   342 8816 AD 7D 22		@		lda formacja_stan
   343 8819 C9 03				cmp #3
   344 881B 90 08				bcc @+
   345 881D C9 05				cmp #5
   346 881F F0 04				beq @+
   347 8821 A2 00				ldx #0		;obsluguj tylko zerowego enemy
   348 8823 F0 02				beq @+1
   349 						
   350
   351 8825 A2 04		@		ldx #4		;maks 4 przeciwnikow
   352 = 8827			@		equ *
   353 8827 BD B7 17				lda enemy,x
   354 882A D0 04				bne @+
   355 882C CA			mven1	dex
   356 882D 10 F8				bpl @-
   357 882F 60					rts
   358 						
   359 = 8830			@		equ *		;animuj przeciwnika
   360 						
   361 8830 BD 62 31				lda enemyEkran,x
   362 8833 F0 17				beq @+
   363 						
   364 						
   365 8835 BC 0D 85				ldy enLicznik,x		;jak długo przeciwnik jest na ekranie
   366 8838 C0 68				cpy #104
   367 883A B0 10				bcs @+				;jeśli >11 to nie usuwaj go jeszcze
   368 						
   369 883C A9 00 9D B7 17			mva #0 enemy,x		;poza ekranem
   370 8841 9D 6E 31				sta enemyWybuch,x
   371 8844 CE 0B 85				dec ile_enemy
   372 8847 86 25				stx lastEnemy		;zaoamietaj ostatnio usunietego przeciwnika
   373 8849 4C 2C 88				jmp mven1
   374 						
   375 						
   376 884C BD 6E 31		@		lda enemyWybuch,x
   377 884F F0 06				beq @+ 			
   378 8851 BD 68 31				lda enemyLastFaza,x		;wybuch nie podlega korekcji lotu
   379 8854 4C 9A 88				jmp mvruch1
   380 						
   381 8857 BD 0D 85		@		lda enLicznik,x		;czas zycia enemy
   382 885A F0 0C				beq @+
   383 885C C9 68				cmp #104
   384 885E 90 05				bcc enzm1
   385 8860 BD 62 31				lda enemyEkran,x
   386 8863 D0 03				bne @+
   387 = 8865			enzm1	equ *
   388 8865 DE 0D 85				dec enLicznik,x
   389 						
   390 8868 DE 13 85		@		dec enRotate,x		;czas do korekcji ruchu
   391 886B D0 1E				bne mvruch
   392 						
   393 886D AD 04 88				lda rotate_speed1		;normalny obrot
   394 8870 BC E7 17				ldy enemyBank,x
   395 8873 C0 EA				cpy #BANK2
   396 8875 D0 03				bne @+
   397 8877 AD 06 88				lda rotate_speed2		;2 ksztalt,szybciej sie obraca
   398 887A 9D 13 85		@		sta enRotate,x
   399
   400 887D BD 0D 85				lda enLicznik,x
   401 8880 D0 06				bne @+
   402 8882 20 56 86				jsr Ucieczka
   403 8885 4C 8B 88				jmp mvruch
   404 8888 20 93 86		@		jsr korekcjaLotu
   405 						
   406 888B BD E1 17		mvruch	lda enemyFaza,x			;przesun duszka
   407 888E BC 0D 85				ldy enLicznik,x
   408 8891 C0 6D				cpy #104+5			;jesli >240 to podwojna predkosc
   409 8893 90 05				bcc mvruch1
   410 8895 09 E0				ora #7*32
   411 8897 4C B3 88				jmp @+1		
   412 						
   413 889A AC 7D 22		mvruch1	ldy formacja_stan	
   414 889D C0 02				cpy #2		;jesli 1 to formacja czeka
   415 889F 90 0F				bcc @+				;jeśli brak formacji to nie zmieniaj predkosci
   416 88A1 E0 00				cpx #0
   417 88A3 F0 0B				beq @+				;jesli jest formacja to enemy 0 porusza się z normalna predkoscia
   418 88A5 BC 6E 31				ldy enemyWybuch,x	; nie przyspieszaj poruszania się wybuchu podczas formacji
   419 88A8 D0 06				bne @+
   420 88AA 0D 27 24				ora formacja_speed	;formacja ma swoją predkość
   421 88AD 4C B3 88				jmp @+1
   422 88B0 0D 19 85		@		ora speedEnemy
   423 88B3 A8			@		tay
   424 88B4 18					clc
   425 88B5 BD D5 17				lda enemyDX,x
   426 88B8 79 56 85				adc enemyTab2,y
   427 88BB 9D D5 17				sta enemyDX,x
   428 88BE 90 12				bcc @+			
   429 88C0 B9 56 85				lda enemyTab2,y
   430 88C3 30 1C				bmi @+1		;przepełnienie było spowodowane odejmowaniem
   431 88C5 FE BD 17				inc enemyX,x
   432 88C8 10 17				bpl @+1
   433 88CA A9 00 9D BD 17			mva #0 enemyX,x
   434 88CF 4C E1 88				jmp @+1	;jmp
   435 88D2 B9 56 85		@		lda enemyTab2,y
   436 88D5 10 0A				bpl @+
   437 88D7 DE BD 17				dec enemyX,x
   438 88DA 10 05				bpl @+
   439 88DC A9 7F 9D BD 17			mva #127 enemyX,x
   440 88E1 18			@		clc
   441 88E2 BD DB 17				lda enemyDY,x
   442 88E5 79 66 85				adc enemyTab2+16,y
   443 88E8 9D DB 17				sta enemyDY,x
   444 88EB 90 0B				bcc @+
   445 88ED B9 66 85				lda enemyTab2+16,y
   446 88F0 30 0E				bmi @+1
   447 88F2 FE C9 17				inc enemyY,x
   448 88F5 4C 2C 88				jmp mven1
   449 88F8 B9 66 85		@		lda enemyTab2+16,y
   450 88FB 10 03				bpl @+
   451 88FD DE C9 17				dec enemyY,x
   452
   453 8900 4C 2C 88		@		jmp mven1		;next
   454 						
   455 						
   456 						
   457 				;Narysuj wszystkich przeciwnikow, lub ewentualne wybuchy
   458 = 8903			rysujEnemy	equ *
   459 				.IF .DEF PSP_CODE
   460 8903 AD 01 D3				lda PORTB
   461 8906 48					pha
   462 8907 8D 74 31				sta psp
   463 				.ENDIF		
   464 890A A2 05				ldx #5		;maksymalna ilosc przeciwnikow	
   465 890C BD B7 17		@		lda enemy,x
   466 890F F0 08				beq ren1
   467 8911 BD 6E 31				lda enemyWybuch,x
   468 8914 D0 10				bne @+
   469 8916 20 87 31				jsr duszkiPrint		;rysujemy przeciwnika nr X
   470 8919 CA			ren1		dex
   471 891A 10 F0				bpl @-
   472 				.IF .DEF PSP_CODE
   473 891C 68					pla
   474 891D 8D 01 D3				sta PORTB
   475 8920 A9 00 8D 74 31			mva #0 psp
   476 				.ENDIF		
   477 8925 60					rts
   478 							
   479 8926 AC 7D 22		@		ldy formacja_stan
   480 8929 F0 1B				beq @+1
   481 892B E0 00				cpx #0
   482 892D F0 17				beq @+1
   483 892F C9 08				cmp #8
   484 8931 D0 03				bne @+
   485 8933 EE 0F 12				inc formacja_zbite		;zwieksz liczbe zbitych przeciwnikow z formacji
   486 8936 C9 01		@		cmp #1
   487 8938 D0 0C				bne @+
   488 893A BC BD 17 8C 7D 8A			mvy enemyX,x spyScoreX
   489 8940 BC C9 17 8C 7E 8A			mvy enemyY,x spyScoreY
   490 						
   491 8946 38			@		sec			;rysujemy wybuch
   492 8947 E9 01				sbc #1
   493 8949 4A					lsr 
   494 894A 9D E1 17				sta enemyFaza,x
   495 894D 20 87 31				jsr duszkiPrint
   496 8950 D0 05				bne @+
   497 8952 DE 6E 31				dec enemyWybuch,x
   498 8955 D0 C2				bne ren1
   499 8957 A9 00 9D 6E 31	@		mva #0 enemyWybuch,x
   500 895C 9D B7 17				sta enemy,x
   501 895F A9 01 9D 62 31			mva #1 enemyEkran,x
   502 8964 86 25				stx lastEnemy
   503 						
   504 8966 E0 05				cpx #5
   505 8968 D0 05				bne @+
   506 896A AD 7D 22				lda formacja_stan
   507 896D F0 AA				beq ren1		;jesli 5=spy to pomin
   508 896F CE 0B 85		@		dec ile_enemy
   509 8972 4C 19 89				jmp ren1
   510 						
   511 					
   339 							;poza $8000
   340 8975						icl 'blevele.asm'
Source: blevele.asm
     1 = 0010			maxBaz	equ 16		;maksymalna liczba baz
     2 = 0080			maxObiektow	equ 128	;255+1	;maksymalna liczba reszty obiektow, meteory i bomby
     3
     4 = 0020			maxPoziomow	equ 32		
     5
     6
     7 				;poziom trudności
     8 = 0003			spy_from_level			equ 3		;od którego poziomu pojawia się spy
     9 = 0004			formation_from_level	equ 4		;od którego poziomu pojawia się formacja
    10 = 0006			formation_speedUp_level1	equ 6		;od którego poziomu przyspiesza formacja
    11 = 000C			formation_speedUp_level2	equ 12		;max speed formacji
    12 = 0012			formation_speedUp_level3	equ 18
    13 = 0018			formation_speedUp_level4	equ 24
    14
    15 = 0002			enemy_show_speed2		equ 2		;od którego poziomu szybciej pojawiają sie przeciwnicy
    16 = 0009			enemy_show_speed3		equ 9		;od którego poziomu szybciej pojawiają sie przeciwnicy
    17 = 0011			enemy_show_speed4		equ 17		;od którego poziomu szybciej pojawiają sie przeciwnicy
    18 = 0019			enemy_show_speed5		equ 25		;od którego poziomu szybciej pojawiają sie przeciwnicy
    19 = 0023			enemy_show_speed6		equ 35
    20
    21 = 0006			formSpy_show_speed2		equ 6		;od którego poziomu szybciej pojawia się formacja i spy
    22 = 000B			formSpy_show_speed3		equ 11		;od którego poziomu szybciej pojawia sie formacja i spy
    23 = 0025			formSpy_show_speed4		equ 37
    24 = 0019			show_6enemy				equ 25		;od którego poziomu pojawia sie dodatkowy przeciwnik podczas formacji
    25
    26 = 0008			timeLevel1_up			equ 8
    27 = 0010			timeLevel2_up			equ 16		;od którego poziomu zmieniają się czasy condition
    28 = 0027			timeLevel3_up			equ 39
    29 = 003C			timeLevel4_up			equ 60
    30
    31 				//może tylko 2 poziomy szybkosci obrotu?
    32 = 0013			fast_rotate1			equ 19		;od którego leveu przyspiesza rotacja
    33 = 0015			fast_rotate2			equ 21
    34 = 0023			fast_rotate3			equ 35
    35 = 0036			fast_rotate4			equ 54
    36
    37 = 000C			ilePociskow4			equ 12		;od którego poziomu bedą 4 pociski
    38 = 0018			ilePociskow5			equ 24		;od którego poziomu bedzie 5 pocisków
    39 = 0007			cannonAngle1			equ 7		;od którego levelu zwieksza się kąt strzalu dzialek
    40 = 0012			cannonAngle2			equ 18
    41 = 0020			cannonMaxAngle			equ 32		;maksymalny kat
    42
    43 				//może tylko 2 poziomy predkosci?
    44 = 0006			enemy_speedUp_level1	equ 6		;kiedy przeciwnicy przyspieszają
    45 = 0011			enemy_speedUp_level2	equ 17
    46 = 001C			enemy_speedUp_level3	equ 28
    47 = 002A			enemy_speedUp_level4	equ 42		;max speed
    48
    49 = 000F			spy_speedUp1			equ 15
    50 = 001F			spy_speedUp2			equ 31
    51 = 0034			spy_speedUp3			equ 52
    52
    53
    54
    55 8975 00 63		levelAdr		dta a(level1)	;adresy zapisanych leveli
    56 8977 0B 63					dta a(level2)
    57 8979 16 63					dta a(level3)
    58 897B 23 63					dta a(level4)
    59 897D 38 63					dta a(level5)
    60 897F 45 63					dta a(level6)
    61 8981 5A 63					dta a(level7)
    62 8983 6F 63					dta a(level8)
    63 8985 84 63					dta a(level9)
    64 8987 99 63					dta a(level10)
    65 8989 AE 63					dta a(level11)
    66 898B C3 63					dta a(level12)
    67 898D D8 63					dta a(level13)
    68 898F ED 63					dta a(level14)
    69 8991 04 64					dta a(level15)
    70 8993 17 64					dta a(level16)
    71 8995 28 64					dta a(level17)
    72 8997 3B 64					dta a(level18)
    73 8999 52 64					dta a(level19)
    74 899B 6B 64					dta a(level20)
    75 899D 80 64					dta a(level21)
    76 899F 95 64					dta a(level22) 	
    77 89A1 A8 64					dta a(level23)
    78 89A3 C1 64					dta a(level24)
    79 89A5 DE 64					dta a(level25)
    80 89A7 03 65					dta a(level26)
    81 89A9 20 65					dta a(level27)
    82 89AB 35 65					dta a(level28)
    83 89AD 58 65					dta a(level29)
    84 89AF 75 65					dta a(level30)
    85 89B1 96 65					dta a(level31)
    86 89B3 B7 65					dta a(level32)
    87
    88 89B5 FF 1E 28 32 3C 46 + openTab	dta b(255,30,40,50,60,70,80,90,100,110,120,130,140,150,160,170)
    89 89C5 1E 28 32 3C 46 50 + closeTab dta b(30,40,50,60,70,80,90,100,110,120,130,140,150,160,170,180)
    90
    91 89D5 80 40 20 10 08 04 + radarBazy1	dta b(128,64,32,16,8,4,2,1,0,0,0,0)   ;pozycja X bazy na radarze sprit3
    92 89E1 00 00 00 00 00 00 + radarBazy2	dta b(0,0,0,0,0,0,0,0,32,16,8,4)		;pociski 3 i 2	
    93
    94 89ED						.align
    95 8A00			bazyRodzaj	org *+maxbaz		;:maxBaz dta b(0)  ;rodzaj (pozioma czy pionowa)
    96 8A10			bazyStan		org *+maxBaz 	;:maxBaz dta b(0)	  ;stan zniszczenia
    97 8A20			bazyRakieta	org *+maxBaz 	;:maxBaz dta b(0)		;numer rakiety przypisanej do bazy 255=brak
    98 8A30			bazyX		org *+maxBaz 	;:maxBaz dta b(0)  ;pozycja x
    99 8A40			bazyX0		org *+maxBaz 	;:maxBaz dta b(0)	;pozycja X na ekranie
   100 8A50			bazyY		org *+maxBaz 	;:maxBaz dta b(0)	;pozycja Y
   101 8A60			bazyY0		org *+maxBaz 	;:maxBaz dta b(0)	;pozycja Y na ekranie
   102
   103 8A70-8A8A> 00		zbiteBazy	dta b(0)
   104 8A71 00			czasOtwarcia	dta b(0)
   105 8A72 00			czasZamkniecia	dta b(0)
   106 8A73 00			startX		dta b(0)
   107 8A74 00			startY		dta b(0)
   108
   109 8A75 00			poziom		dta b(0)	
   110 8A76 FF			waitWybuch	dta b(255)
   111
   112
   113 8A77 00 00		plusScore	dta a(0)
   114
   115 8A79 20 30 40		spyScoreTab	dta b($20,$30,$40)
   116 8A7C 00			spyScore		dta b(0)
   117 8A7D 00			spyscoreX	dta b(0)
   118 8A7E 00			spyscoreY	dta b(0)
   119
   120 8A7F FF			rads1		dta b(-1)		;co zmazac 0->statek, 1->formacje <0 nic nie zmazuj
   121
   122 8A80 04			lives		dta b(4)
   123 8A81 B3 BD C7		tablives		dta b(179,189,199)
   124 8A84 AA BF C9					dta b(170,191,201)
   125 							
   126 8A87 B9 C1 C9 DC		livesPos		dta b(185,193,201,220)
   127
   128 				;tabela kolorow
   129 8A8B			conditionC	org *+3		;green,yellow,red
   130 							
   131 8A8E-8A8E> 00		kondycja_stan	dta b(0)
   132
   133 8A8F						.align
   134 8B00			bazyCannon0a	org *+(maxBaz*4)	;:(maxBaz*4) dta b(0)
   135 = 8B10			bazyCannon0b	equ bazyCannon0a+maxBaz
   136 = 8B20			bazyCannon0c	equ bazyCannon0b+maxBaz
   137 = 8B30			bazyCannon0d	equ bazyCannon0c+maxBaz
   138
   139 8B40			bazyCannon1a	org *+(maxBaz*4)	;:(maxBaz*4) dta b(0)
   140 = 8B50			bazyCannon1b	equ bazyCannon1a+maxBaz
   141 = 8B60			bazyCannon1c	equ bazyCannon1b+maxBaz
   142 = 8B70			bazyCannon1d	equ bazyCannon1c+maxBaz
   143
   144 8B80			bazyCannon2a	org *+(maxBaz*4)	;:(maxBaz*4) dta b(0)
   145 = 8B90			bazyCannon2b	equ bazyCannon2a+maxBaz
   146 = 8BA0			bazyCannon2c	equ bazyCannon2b+maxBaz
   147 = 8BB0			bazyCannon2d	equ bazyCannon2c+maxBaz
   148
   149 8BC0			bazyCannon3a	org *+(maxBaz*4)	;:(maxBaz*4) dta b(0)
   150 = 8BD0			bazyCannon3b	equ bazyCannon3a+maxBaz
   151 = 8BE0			bazyCannon3c	equ bazyCannon3b+maxBaz
   152 = 8BF0			bazyCannon3d	equ bazyCannon3c+maxBaz
   153
   154 8C00			bazyCannon4a	org *+(maxbaz*4)	;:(maxBaz*4) dta b(0)
   155 = 8C10			bazyCannon4b	equ bazyCannon4a+maxBaz
   156 = 8C20			bazyCannon4c	equ bazyCannon4b+maxBaz
   157 = 8C30			bazyCannon4d	equ bazyCannon4c+maxBaz
   158
   159 8C40			bazyCannon5a	org *+(maxBaz*4)	;:(maxBaz*4) dta b(0)
   160 = 8C50			bazyCannon5b	equ bazyCannon5a+maxBaz
   161 = 8C60			bazyCannon5c	equ bazyCannon5b+maxBaz
   162 = 8C70			bazyCannon5d	equ bazyCannon5c+maxBaz
   163
   164 = FB00			tabBazy1	equ $fb00	;:256 dta b(255)
   165 = FA00			tabBazy2	equ $fa00	;:256 dta b(255)
   166 = F900			tabBomb1	equ $f900	;:256 dta b(255)
   167 = F800			tabBomb2	equ $f800	;:256 dta b(255)
   168
   169
   170 = 1A00			bombRodzaj	equ $1a00	;:maxObiektow dta b(0)	;0 bomba, 1 meteor	;powinno zajac tylko 384b zamiast 768
   171 8C80			bombX		org *+maxObiektow		;:maxObiektow dta b(0)
   172 8D00			bombY		org *+maxObiektow		;:maxObiektow dta b(0)
   173
   174 8D80					.align
   175 				;poczatek strony
   176 8E00-8EFD> 02		cyfra1	dta b(%0010)
   177 8E01 05 05 05 05 05			:5 dta b(%0101)
   178 8E06 02					dta b(%0010)
   179 8E07 00					dta b(0)
   180 						
   181 8E08 02					dta b(%0010)
   182 8E09 06					dta b(%0110)
   183 8E0A 02 02 02 02				:4 dta b(%0010)
   184 8E0E 07					dta b(%0111)
   185 8E0F 00					dta b(0)
   186 						
   187 8E10 02					dta b(%0010)
   188 8E11 05					dta b(%0101)
   189 8E12 01					dta b(%0001)
   190 8E13 02					dta b(%0010)
   191 8E14 04 04				:2 dta b(%0100)
   192 8E16 07					dta b(%0111)
   193 8E17 00					dta b(0)
   194 						
   195 8E18 02					dta b(%0010)
   196 8E19 05					dta b(%0101)
   197 8E1A 01					dta b(%0001)
   198 8E1B 02					dta b(%0010)
   199 8E1C 01					dta b(%0001)
   200 8E1D 05					dta b(%0101)
   201 8E1E 02					dta b(%0010)
   202 8E1F 00					dta b(0)
   203 						
   204 8E20 04					dta b(%0100)
   205 8E21 05 05				:2 dta b(%0101)
   206 8E23 03					dta b(%0011)
   207 8E24 01 01 01				:3 dta b(%0001)
   208 8E27 00					dta b(0)
   209 						
   210 8E28 07					dta b(%0111)
   211 8E29 04					dta b(%0100)
   212 8E2A 06					dta b(%0110)
   213 8E2B 01 01				:2 dta b(%0001)
   214 8E2D 05					dta b(%0101)
   215 8E2E 02					dta b(%0010)
   216 8E2F 00					dta b(0)
   217 						
   218 8E30 02					dta b(%0010)
   219 8E31 05					dta b(%0101)
   220 8E32 04					dta b(%0100)
   221 8E33 06					dta b(%0110)
   222 8E34 05 05				:2 dta b(%0101)
   223 8E36 02					dta b(%0010)
   224 8E37 00					dta b(0)
   225 						
   226 8E38 07					dta b(%0111)
   227 8E39 01 01				:2 dta b(%0001)
   228 8E3B 02 02 02 02				:4 dta b(%0010)
   229 8E3F 00					dta b(0)
   230 						
   231 8E40 02					dta b(%0010)
   232 8E41 05 05				:2 dta b(%0101)
   233 8E43 02					dta b(%0010)
   234 8E44 05 05				:2 dta b(%0101)
   235 8E46 02					dta b(%0010)
   236 8E47 00					dta b(0)
   237 						
   238 8E48 02					dta b(%0010)
   239 8E49 05 05				:2 dta b(%0101)
   240 8E4B 03					dta b(%0011)
   241 8E4C 01					dta b(%0001)
   242 8E4D 05					dta b(%0101)
   243 8E4E 02					dta b(%0010)
   244 8E4F 00					dta b(0)
   245 						
   246 						
   247
   248
   249 						
   250 8E50 00 00 00 00 00 00 + 		dta b(0,0,0,0,0,0,0,0)
   251
   252 				;1 duszek
   253 = 8E58			condition1	equ * ;24b
   254 8E58 F2					dta b(%11110010)		;green
   255 8E59 EE EE EE				:3 dta b(%11101110)
   256 8E5C EA EA				:2 dta b(%11101010)
   257 8E5E E2					dta b(%11100010)
   258 8E5F 00					dta b(0)
   259
   260 8E60 A8					   dta b(%10101000)		;yellow
   261 8E61 AB AB				:2 dta b(%10101011)
   262 8E63 89					   dta b(%10001001)
   263 8E64 DB DB				:2 dta b(%11011011)
   264 8E66 D8					   dta b(%11011000)
   265 8E67 00					dta b(0)
   266 						
   267 8E68 CC					dta b(%11001100)		;red
   268 8E69 D5 D5				:2 dta b(%11010101)
   269 8E6B CC					dta b(%11001100)
   270 8E6C D5 D5				:2 dta b(%11010101)
   271 8E6E D4					dta b(%11010100)
   272 8E6F 00					dta b(0)
   273
   274 				;2 duszek
   275 = 8E70			condition2	equ *
   276 8E70 62					dta b(%01100010)	;green
   277 8E71 AE AE				:2 dta b(%10101110)
   278 8E73 66					dta b(%01100110)
   279 8E74 AE AE				:2 dta b(%10101110)
   280 8E76 A2					dta b(%10100010)
   281 8E77 00					dta b(0)
   282 						
   283 8E78 BB BB BB BB BB BB			:6 dta b(%10111011)	;yellow
   284 8E7E 88					   dta b(%10001000)
   285 8E7F 00					dta b(0)
   286 					
   287 8E80 4F					dta b(%01001111)		;red
   288 8E81 D7 D7 D7 D7 D7			:5 dta b(%11010111)
   289 8E86 4F					dta b(%01001111)
   290 8E87 00					dta b(0)
   291 						
   292 				;3duszek
   293 = 8E88			condition3	equ *
   294 8E88 27					dta b(%00100111)		;green
   295 8E89 EB EB				:2 dta b(%11101011)
   296 8E8B 6B					dta b(%01101011)
   297 8E8C EB EB				:2 dta b(%11101011)
   298 8E8E 2B					dta b(%00101011)
   299 8E8F 00					dta b(0)
   300 						
   301 8E90 CA					   dta b(%11001010)		;yellow
   302 8E91 AA AA AA				:3 dta b(%10101010)
   303 8E94 A8 A8				:2 dta b(%10101000)
   304 8E96 9A					   dta b(%10011010)
   305 8E97 00					dta b(0)
   306 						
   307 8E98 CC CC CC				:3 dta b(%11001100)			;red
   308 8E9B DD					dta b(%11011101)
   309 8E9C FF					dta b(255)
   310 8E9D DD DD				:2 dta b(%11011101)
   311 8E9F 00					dta b(0)
   312 						
   313 = 8EA0			nap_form2	equ *
   314 8EA0 00 00 00			:3 dta b(0)		; strzala w gore
   315 8EA3 10 10			:2 dta b(%00010000)
   316 8EA5 00 00			:2 dta b(0)
   317 8EA7 28 28			:2 dta b(%00101000)
   318 8EA9 00 00			:2 dta b(0)
   319 8EAB 44 44			:2 dta b(%01000100)
   320 8EAD 00 00 00			:3 dta b(0)
   321
   322 8EB0 00				dta b(0)				;linia
   323 8EB1 10 10			:2 dta b(%00010000)
   324 8EB3 00				dta b(0)
   325 8EB4 10 10			:2 dta b(%00010000)
   326 8EB6 00				dta b(0)
   327 8EB7 10 10			:2 dta b(%00010000)
   328 8EB9 00				dta b(0)
   329 8EBA 10 10			:2 dta b(%00010000)
   330 8EBC 00				dta b(0)
   331 8EBD 10 10			:2 dta b(%00010000)
   332 8EBF 00				dta b(0)
   333
   334 8EC0 00 00 00			:3 dta b(0)
   335 8EC3 44				dta b(%01000100)		;celownik ,kostka 5
   336 8EC4 44				dta b(%01000100)
   337 8EC5 00 00			:2 dta b(0)
   338 8EC7 10				dta b(%00010000)
   339 8EC8 10				dta b(%00010000)
   340 8EC9 00 00			:2 dta b(0)
   341 8ECB 44				dta b(%01000100)
   342 8ECC 44				dta b(%01000100)
   343 8ECD 00 00 00			:3 dta b(0)
   344 					
   345 8ED0 00 00 00			:3 dta b(0)		;krzyzyk
   346 8ED3 10				dta b(%00010000)
   347 8ED4 10				dta b(%00010000)
   348 8ED5 00 00			:2 dta b(0)
   349 8ED7 92				dta b(%10010010)
   350 8ED8 92				dta b(%10010010)
   351 8ED9 00 00			:2 dta b(0)
   352 8EDB 10				dta b(%00010000)
   353 8EDC 10				dta b(%00010000)
   354 8EDD 00 00 00			:3 dta b(0)
   355 					
   356 = 8EE0			statek_zapas	equ *	
   357 8EE0 00				dta b(%00000000)
   358 8EE1 10				dta b(%00010000)
   359 8EE2 10				dta b(%00010000)
   360 8EE3 10				dta b(%00010000)
   361 8EE4 10				dta b(%00010000)
   362 8EE5 38				dta b(%00111000)
   363 8EE6 28				dta b(%00101000)
   364 8EE7 28				dta b(%00101000)
   365 8EE8 AA				dta b(%10101010)
   366 8EE9 AA				dta b(%10101010)
   367 8EEA FE				dta b(%11111110)
   368 8EEB FE				dta b(%11111110)
   369 8EEC D6				dta b(%11010110)
   370 8EED 92				dta b(%10010010)
   371 8EEE 28				dta b(%00101000)
   372 8EEF 28				dta b(%00101000)	
   373 					
   374 = 8EF0			nap_1up	equ *
   375 8EF0 25				dta b(%00100101)  ;player1
   376 8EF1 65				dta b(%01100101)
   377 8EF2 25				dta b(%00100101)
   378 8EF3 25				dta b(%00100101)
   379 8EF4 25				dta b(%00100101)
   380 8EF5 25				dta b(%00100101)
   381 8EF6 76				dta b(%01110110)
   382 					
   383 8EF7 70				dta b(%01110000)    ;player 2
   384 8EF8 50				dta b(%01010000)
   385 8EF9 50				dta b(%01010000)
   386 8EFA 70				dta b(%01110000)
   387 8EFB 40				dta b(%01000000)
   388 8EFC 40				dta b(%01000000)
   389 8EFD 40				dta b(%01000000)	
   390
   391 8EFE				.align		;tracimy 2 bajty
   392 				;poczatek strony
   393 8F00-A627> 70		cyfra2	dta b(%01110000)
   394 8F01 50					dta b(%01010000)
   395 8F02 50					dta b(%01010000)
   396 8F03 50					dta b(%01010000)
   397 8F04 50					dta b(%01010000)
   398 8F05 50					dta b(%01010000)
   399 8F06 70					dta b(%01110000)
   400 8F07 00					dta b(0)
   401 						
   402 8F08 20					dta b(%00100000)
   403 8F09 60					dta b(%01100000)
   404 8F0A 20					dta b(%00100000)
   405 8F0B 20					dta b(%00100000)
   406 8F0C 20					dta b(%00100000)
   407 8F0D 20					dta b(%00100000)
   408 8F0E 70					dta b(%01110000)
   409 8F0F 00					dta b(0)
   410 						
   411 8F10 70					dta b(%01110000)
   412 8F11 10					dta b(%00010000)
   413 8F12 10					dta b(%00010000)
   414 8F13 70					dta b(%01110000)
   415 8F14 40					dta b(%01000000)
   416 8F15 40					dta b(%01000000)
   417 8F16 70					dta b(%01110000)
   418 8F17 00					dta b(0)
   419 						
   420 8F18 70					dta b(%01110000)
   421 8F19 10					dta b(%00010000)
   422 8F1A 10					dta b(%00010000)
   423 8F1B 30					dta b(%00110000)
   424 8F1C 10					dta b(%00010000)
   425 8F1D 10					dta b(%00010000)
   426 8F1E 70					dta b(%01110000)
   427 8F1F 00					dta b(0)
   428 						
   429 8F20 50					dta b(%01010000)
   430 8F21 50					dta b(%01010000)
   431 8F22 50					dta b(%01010000)
   432 8F23 70					dta b(%01110000)
   433 8F24 10					dta b(%00010000)
   434 8F25 10					dta b(%00010000)
   435 8F26 10					dta b(%00010000)
   436 8F27 00					dta b(0)
   437 						
   438 8F28 70					dta b(%01110000)
   439 8F29 40					dta b(%01000000)
   440 8F2A 40					dta b(%01000000)
   441 8F2B 70					dta b(%01110000)
   442 8F2C 10					dta b(%00010000)
   443 8F2D 10					dta b(%00010000)
   444 8F2E 70					dta b(%01110000)
   445 8F2F 00					dta b(0)
   446 						
   447 8F30 70					dta b(%01110000)
   448 8F31 40					dta b(%01000000)
   449 8F32 40					dta b(%01000000)
   450 8F33 70					dta b(%01110000)
   451 8F34 50					dta b(%01010000)
   452 8F35 50					dta b(%01010000)
   453 8F36 70					dta b(%01110000)
   454 8F37 00					dta b(0)
   455 						
   456 8F38 70					dta b(%01110000)
   457 8F39 10					dta b(%00010000)
   458 8F3A 10					dta b(%00010000)
   459 8F3B 10					dta b(%00010000)
   460 8F3C 10					dta b(%00010000)
   461 8F3D 10					dta b(%00010000)
   462 8F3E 10					dta b(%00010000)
   463 8F3F 00					dta b(0)
   464 						
   465 8F40 70					dta b(%01110000)
   466 8F41 50					dta b(%01010000)
   467 8F42 50					dta b(%01010000)
   468 8F43 70					dta b(%01110000)
   469 8F44 50					dta b(%01010000)
   470 8F45 50					dta b(%01010000)
   471 8F46 70					dta b(%01110000)
   472 8F47 00					dta b(0)
   473 						
   474 8F48 70					dta b(%01110000)
   475 8F49 50					dta b(%01010000)
   476 8F4A 50					dta b(%01010000)
   477 8F4B 70					dta b(%01110000)
   478 8F4C 10					dta b(%00010000)
   479 8F4D 10					dta b(%00010000)
   480 8F4E 10					dta b(%00010000)
   481 8F4F 00					dta b(0)
   482 						
   483 8F50 00 00 00 00 00 00 + 		dta b(0,0,0,0,0,0,0,0)
   484 					
   485 					
   486 					
   487 = 8F58			nap_form1	equ *
   488 8F58 36				dta b(%00110110)	;pociski
   489 8F59 25				dta b(%00100101)
   490 8F5A 35				dta b(%00110101)
   491 8F5B 25 25			:2 dta b(%00100101)
   492 8F5D 00 00			dta b(0,0)
   493 8F5F 05 05			:2 dta b(%00000101)
   494 8F61 06				dta b(%00000110)
   495 8F62 05 05			:2 dta b(%00000101)
   496 					
   497 8F64 4C				dta b(%01001100)	;1duszek
   498 8F65 AA				dta b(%10101010)
   499 8F66 AC				dta b(%10101100)
   500 8F67 AA				dta b(%10101010)
   501 8F68 4A				dta b(%01001010)
   502 8F69 00 00 00 00 00 00 + 	dta b(0,0,0,0,0,0,0)
   503 					
   504 8F70 A4				dta b(%10100100)	;2duszek
   505 8F71 EA				dta b(%11101010)
   506 8F72 AE				dta b(%10101110)
   507 8F73 AA AA			:2 dta b(%10101010)
   508 8F75 00 00			dta b(0,0)
   509 8F77 4D				dta b(%01001101)
   510 8F78 A4				dta b(%10100100)
   511 8F79 E4				dta b(%11100100)
   512 8F7A A4 A4			:2 dta b(%10100100)
   513 					
   514 8F7C D2				dta b(%11010010)	;3duszek
   515 8F7D 55 55 55			:3 dta b(%01010101)
   516 8F80 52				dta b(%01010010)
   517 8F81 00 00			dta b(0,0)
   518 8F83 93				dta b(%10010011)
   519 8F84 AA				dta b(%10101010)
   520 8F85 BA				dta b(%10111010)
   521 8F86 AA				dta b(%10101010)
   522 8F87 AB				dta b(%10101011)
   523 						
   524 = 8F88			nap_condition	equ *
   525 8F88 36				   dta b(%00110110)	;pociski
   526 8F89 25 25 25 25 25		:5 dta b(%00100101)
   527 8F8E 35				   dta b(%00110101)
   528 					
   529 8F8F 36				   dta b(%00110110)	;1duszek
   530 8F90 55 55 55 55 55		:5 dta b(%01010101)
   531 8F95 65				   dta b(%01100101)
   532 					
   533 8F96 65				   dta b(%01100101)	;3duszek
   534 8F97 54 54 54 54 54		:5 dta b(%01010100)
   535 8F9C 64				   dta b(%01100100)	
   536 					
   537 8F9D D3				   dta b(%11010011)	;3duszek
   538 8F9E 95 95 95 95 95		:5 dta b(%10010101)
   539 8FA3 96				   dta b(%10010110)
   540 					   
   541 = 8FA4			nap_hiscore	equ *
   542 8FA4 E7				dta b(%11100111)    ;pociski
   543 8FA5 D4				dta b(%11010100)
   544 8FA6 D4				dta b(%11010100)
   545 8FA7 E6				dta b(%11100110)
   546 8FA8 D4				dta b(%11010100)
   547 8FA9 D4				dta b(%11010100)
   548 8FAA D7				dta b(%11010111)
   549 					
   550 8FAB 57				dta b(%01010111)   ;player1
   551 8FAC 52				dta b(%01010010)
   552 8FAD 52				dta b(%01010010)
   553 8FAE 72				dta b(%01110010)
   554 8FAF 52				dta b(%01010010)
   555 8FB0 52				dta b(%01010010)
   556 8FB1 57				dta b(%01010111)
   557 					
   558 8FB2 0C				dta b(%00001100)   ;player2
   559 8FB3 11				dta b(%00010001)
   560 8FB4 11				dta b(%00010001)
   561 8FB5 DD				dta b(%11011101)
   562 8FB6 05				dta b(%00000101)
   563 8FB7 05				dta b(%00000101)
   564 8FB8 18				dta b(%00011000)
   565 					
   566 8FB9 CD				dta b(%11001101)   ;player3
   567 8FBA 15				dta b(%00010101)
   568 8FBB 15				dta b(%00010101)
   569 8FBC 15				dta b(%00010101)
   570 8FBD 15				dta b(%00010101)
   571 8FBE 15				dta b(%00010101)
   572 8FBF D9				dta b(%11011001)
   573
   574
   575 = 8FC0			statekm_zapas	equ *
   576 8FC0 2A 2A 2A 2A			:4 dta b(%00101010)
   577 8FC4 00 00			:2 dta b(0)
   578 8FC6 3F				dta b(%00111111)
   579 8FC7 00				dta b(0)
   580 8FC8 2A 2A			:2 dta b(%00101010)
   581 					
   582 = 8FCA			nap_round	equ *
   583 8FCA 06				dta b(%00000110)	;pociski
   584 8FCB 05				dta b(%00000101)
   585 8FCC 05				dta b(%00000101)
   586 8FCD 05				dta b(%00000101)
   587 8FCE 05				dta b(%00000101)
   588 8FCF 05				dta b(%00000101)
   589 8FD0 06				dta b(%00000110)	
   590 					
   591 8FD1 63				dta b(%01100011)   ;1 duszek
   592 8FD2 55				dta b(%01010101)
   593 8FD3 55				dta b(%01010101)
   594 8FD4 65				dta b(%01100101)
   595 8FD5 55				dta b(%01010101)
   596 8FD6 55				dta b(%01010101)
   597 8FD7 56				dta b(%01010110)
   598 					
   599 8FD8 56				dta b(%01010110)  ;2 duszek
   600 8FD9 55				dta b(%01010101)
   601 8FDA 55				dta b(%01010101)
   602 8FDB 55				dta b(%01010101)
   603 8FDC 55				dta b(%01010101)
   604 8FDD 55				dta b(%01010101)
   605 8FDE 65				dta b(%01100101)
   606 					
   607 					
   608 8FDF 00 00			dta b(0,0) ;wyrównanie do strony
   609 				;142+88=230	
   610 8FE1 00			spyspeed	dta b(0)
   611
   612 					
   613 				;dodaje punkty
   614 = 8FE2			dodajPunkty	equ *
   615 8FE2 C9 FF				cmp #$ff		;trafiony spy punkty od 200 do 400
   616 8FE4 D0 14				bne dpun1
   617 8FE6 AD 0A D2				lda random
   618 8FE9 29 03				and #%11
   619 8FEB 8C F9 8F				sty dpunY
   620 8FEE A8					tay
   621 8FEF F0 01				beq @+
   622 8FF1 88					dey
   623 8FF2 B9 79 8A		@		lda spyScoreTab,y
   624 8FF5 8C 7C 8A				sty spyScore
   625 = 8FF9			dpunY	equ *+1
   626 8FF8 A0 FF				ldy #$ff	
   627
   628 8FFA F8			dpun1	sed
   629 8FFB 18					clc
   630 8FFC 6D 77 8A				adc plusScore
   631 8FFF 8D 77 8A				sta plusScore
   632 9002 AD 78 8A				lda plusScore+1
   633 9005 69 00				adc #0
   634 9007 8D 78 8A				sta plusScore+1
   635 900A D8					cld
   636 900B 60					rts	
   637
   638 = 900C			initPoziom	equ *
   639 900C A9 0C 85 19				mva #12 movX
   640 9010 A9 00 85 1A				mva #0 movY
   641 9014 8D 45 70				sta licznikSpyScore
   642 9017 A9 01 85 D6				mva #1 sJoy		;zeruj flage trafienia statku
   643 901B 20 4A 4D				jsr rstatekUp
   644 901E A9 FF				lda #255
   645 9020 8D 92 5A 8D 93 5A + 		:5 sta pociski+#
   646 						
   647 902F 8D 38 24				sta sfx_extra
   648 9032 8D 37 24				sta sfx_rakieta
   649 9035 8D 2F 24				sta sfx_effect
   650 9038 8D 30 24				sta sfx_dzialko
   651 903B 8D 31 24				sta sfx_asteroid
   652 903E 8D 32 24				sta sfx_bomba
   653 9041 8D 33 24				sta sfx_wybuch
   654 9044 8D 34 24				sta sfx_dead
   655 9047 8D 35 24				sta sfx_antyair
   656 904A 8D 36 24				sta sfx_enemyHit
   657 						
   658 904D A9 00 8D 8F 5A			mva #0 liczbaPociskow
   659 9052 8D DC 9F				sta newPoziom
   660 9055 85 1A				sta movY
   661 9057 85 23				sta trafienie
   662 9059 8D 3A 24				sta sfxlicznik1
   663 905C 8D 39 24				sta extraLicznik
   664 905F 8D 00 01 8D 01 01 + 		:4 sta strzal+#
   665 906B 85 D0				sta rodzajSpeech
   666 906D 8D 4F 62				sta mwybuchystop
   667 9070 8D 4E 62				sta mwybuchystart
   668 9073 8D EC 61				sta wybuchystart
   669 9076 8D ED 61				sta wybuchystop
   670 9079 8D 77 8A				sta plusScore
   671 907C 8D 78 8A				sta plusScore+1
   672 907F 8D FC 63				sta nobanner
   673 				.IF .DEF PSP_CODE
   674 9082 8D 74 31				sta psp
   675 				.ENDIF		
   676 						
   677 						
   678 						
   679 9085 8D 0C 85				sta max_Enemy
   680 9088 8D 0B 85				sta ile_enemy
   681 908B 8D 33 70				sta jestSpy
   682 908E 8D 44 70				sta spyScoreRysuj
   683 9091 8D 7D 22				sta formacja_stan
   684 9094 8D 25 24				sta formacja_radar
   685 						
   686 9097 A0 05				ldy #5
   687 9099 A9 00		@		lda #0
   688 909B 99 B7 17				sta enemy,y
   689 909E 99 6E 31				sta enemyWybuch,y
   690 90A1 A9 01				lda #1
   691 90A3 99 62 31				sta enemyEkran,y
   692 90A6 88					dey
   693 90A7 10 F0				bpl @-
   694 						
   695 90A9 A0 07				ldy #7					;wyczysc rakiety
   696 90AB A9 00				lda #0
   697 90AD 99 92 6E		@		sta rakietyStan,y
   698 90B0 99 C2 6E				sta rakietyMove,y
   699 90B3 88					dey
   700 90B4 10 F7				bpl @-
   701 						
   702 90B6 A9 0C 85 24				mva #12 startMapy
   703 90BA A9 07 8D CB 63			mva #opoznienieCondition punkty3
   704 90BF A9 01 8D CC 63			mva #kondycja_start kondycja
   705 90C4 A0 00				ldy #0
   706 90C6 20 8A 96				jsr setCondition
   707 90C9 20 B5 99				jsr piszCondition
   708 						
   709 90CC A9 04 8D 69 55			mva #4 opozCoreA
   710 90D1 8D 6A 55				sta opozCoreB
   711 90D4 A9 02 8D 6B 55			mva #2 liczCoreA
   712 90D9 8D 6A 55				sta opozCoreB
   713 90DC 8D 10 12				sta dowodca
   714 						
   715 						
   716 				;poziom trudności
   717 				;kąt strzału działek
   718 90DF A2 0C				ldx #$0c
   719 90E1 AD 75 8A				lda poziom
   720 90E4 C9 07				cmp #cannonAngle1
   721 90E6 90 08				bcc @+
   722 90E8 A2 0E				ldx #$0e
   723 90EA C9 12				cmp #cannonAngle2
   724 90EC 90 02				bcc @+
   725 90EE A2 0F				ldx #$0f
   726 90F0 8E 2C 24		@		stx kat1
   727 90F3 8A					txa
   728 90F4 0A 0A 0A 0A				:4 asl
   729 90F8 8D 2D 24				sta kat2
   730 						
   731 90FB AD 75 8A				lda poziom				;maksymalny kat
   732 90FE C9 20				cmp #cannonMaxAngle
   733 9100 90 08				bcc @+
   734 9102 A9 FF				lda #255
   735 9104 8D 2C 24				sta kat1
   736 9107 8D 2D 24				sta kat2
   737 = 910A			@		equ *		
   738 						
   739 				;predkosc przeciwników
   740 910A A2 00				ldx #0*32
   741 910C AD 75 8A				lda poziom
   742 910F C9 06				cmp #enemy_speedUp_level1
   743 9111 90 14				bcc @+
   744 9113 A2 20				ldx #1*32
   745 9115 C9 11				cmp #enemy_speedUp_level2
   746 9117 90 0E				bcc @+
   747 9119 A2 40				ldx #2*32
   748 911B C9 1C				cmp #enemy_speedUp_level3
   749 911D 90 08				bcc @+
   750 911F A2 60				ldx #3*32
   751 9121 C9 2A				cmp #enemy_speedUp_level4
   752 9123 90 02				bcc @+
   753 9125 A2 80				ldx #4*32
   754 9127 8E CD 63		@		stx speedEnemy0		;poczatkowa predkośc enemy	
   755
   756 				;predkosc spy
   757 912A A2 60				ldx #3*32
   758 912C AD 75 8A				lda poziom
   759 912F C9 0F				cmp #spy_speedUp1
   760 9131 90 0A				bcc @+
   761 9133 A2 80				ldx #4*32
   762 9135 C9 1F				cmp #spy_speedUp2
   763 9137 A2 A0				ldx #5*32
   764 9139 C9 34				cmp #spy_speedUp3
   765 913B A2 C0				ldx #6*32
   766 913D 8E E1 8F		@		stx spySpeed
   767
   768 				;szybkosć pojawiania sie enemy zaleznie od poziomu
   769 9140 A2 28				ldx #40				
   770 9142 AD 75 8A				lda poziom
   771 9145 C9 02				cmp #enemy_show_speed2
   772 9147 90 1A				bcc @+
   773 9149 A2 1E				ldx #30
   774 914B C9 09				cmp #enemy_show_speed3
   775 914D 90 14				bcc @+
   776 914F A2 1C				ldx #28
   777 9151 C9 11				cmp #enemy_show_speed4
   778 9153 90 0E				bcc @+
   779 9155 A2 1A				ldx #26
   780 9157 C9 19				cmp #enemy_show_speed5
   781 9159 90 08				bcc @+
   782 915B A2 18				ldx #24
   783 915D C9 23				cmp #enemy_show_speed6
   784 915F 90 02				bcc @+
   785 9161 A2 16				ldx #22
   786 9163 8E 29 24		@		stx opoz_denemy
   787 9166 8E 09 6E				stx opoz_denemy1
   788 9169 8E 11 87				stx dlicz1
   789 						
   790 916C A2 1E				ldx #30			;jak często pojawiają sie spy i formacja
   791 916E AD 75 8A				lda poziom
   792 9171 C9 06				cmp #formspy_show_speed2
   793 9173 90 0E				bcc @+
   794 9175 A2 17				ldx #23
   795 9177 C9 0B				cmp #formspy_show_speed3
   796 9179 90 08				bcc @+
   797 917B A2 11				ldx #17
   798 917D C9 25				cmp #formspy_show_speed4
   799 917F 90 02				bcc @+
   800 9181 A2 0C				ldx #12
   801 9183 8E 2A 24		@		stx opoz_dlosuj
   802 9186 8E 46 70				stx losuj1
   803 						
   804 9189 A2 00				ldx #0			;typu formacji tylko 0, 0 i 1 lub wszystkie
   805 918B AD 75 8A				lda poziom
   806 918E C9 07				cmp #formation_from_level+3
   807 9190 90 08				bcc @+
   808 9192 A2 01				ldx #%1
   809 9194 C9 0B				cmp #formation_from_level+7
   810 9196 90 02				bcc @+
   811 9198 A2 03				ldx #%11
   812 919A 8E 26 24		@		stx formacja_maska
   813
   814 919D A2 60				ldx #3*32	;#64		;prędkośc formacji
   815 919F AD 75 8A				lda poziom
   816 91A2 C9 06				cmp #formation_speedUp_level1
   817 91A4 90 14				bcc @+
   818 91A6 A2 80				ldx #4*32
   819 91A8 C9 0C				cmp #formation_speedUp_level2
   820 91AA 90 0E				bcc @+
   821 91AC A2 A0				ldx #5*32		;szybko	
   822 91AE C9 12				cmp #formation_speedUp_level3
   823 91B0 90 08				bcc @+
   824 91B2 A2 C0				ldx #6*32
   825 91B4 C9 18				cmp #formation_speedUp_level4
   826 91B6 90 02				bcc @+
   827 91B8 A2 E0				ldx #7*32
   828 91BA 8E 27 24		@		stx formacja_speed
   829
   830 91BD A2 00				ldx #0			;czy podczas formacji maja pojawic sie dodatkowi przeciwnicy
   831 91BF AD 75 8A				lda poziom
   832 91C2 C9 19				cmp #show_6enemy
   833 91C4 90 02				bcc @+
   834 91C6 A2 01				ldx #1
   835 91C8 8E 28 24		@		stx czy_6enemy
   836
   837 91CB A2 00				ldx #0
   838 91CD AD 75 8A				lda poziom
   839 91D0 C9 08				cmp #timeLevel1_up
   840 91D2 90 10				bcc @+
   841 91D4 E8					inx
   842 91D5 C9 10				cmp #timeLevel2_up
   843 91D7 90 0B				bcc @+
   844 91D9 E8					inx
   845 91DA C9 27				cmp #timeLevel3_up
   846 91DC 90 06				bcc @+
   847 91DE E8					inx
   848 91DF C9 3C				cmp #timeLevel4_up
   849 91E1 90 01				bcc @+
   850 91E3 E8					inx
   851 91E4 8E CE 63		@		stx timeLevel
   852
   853 				;predkość rotacji enemy
   854 91E7 AE 75 8A				ldx poziom
   855 91EA A9 0B 8D 04 88			mva #11 rotate_speed1
   856 91EF A9 09 8D 06 88			mva #9 rotate_speed2
   857 91F4 E0 13				cpx #fast_rotate1
   858 91F6 90 18				bcc @+
   859 91F8 CE 04 88				dec rotate_speed1
   860 91FB E0 15				cpx #fast_rotate2
   861 91FD 90 11				bcc @+
   862 91FF CE 06 88				dec rotate_speed2
   863 9202 E0 23				cpx #fast_rotate3
   864 9204 90 0A				bcc @+
   865 9206 CE 04 88				dec rotate_speed1	
   866 9209 E0 36				cpx #fast_rotate4
   867 920B 90 03				bcc @+
   868 920D CE 06 88				dec rotate_speed2		
   869 9210 AD 04 88 8D 05 88	@		mva rotate_speed1 rotate_speed1d
   870 9216 AD 06 88 8D 07 88			mva rotate_speed2 rotate_speed2d
   871 						
   872 				;maksymalna liczba pociskow		
   873 921C A2 02				ldx #2
   874 921E AD 75 8A				lda poziom
   875 9221 C9 0C				cmp #ilePociskow4
   876 9223 90 06				bcc @+
   877 9225 E8					inx
   878 9226 C9 18				cmp #ilePociskow5
   879 9228 90 01				bcc @+
   880 922A E8					inx
   881 922B 8E 91 5A		@		stx maxPociskow
   882 922E E8					inx
   883 922F 8E 25 5C				stx maxPociskow1
   884 						
   885 				;szybkosc strzelania dzialka
   886 9232 A2 14				ldx #20
   887 9234 AD 75 8A				lda poziom
   888 9237 C9 0C				cmp #12
   889 9239 90 08				bcc @+
   890 923B A2 0F				ldx #15
   891 923D C9 0F				cmp #15
   892 923F 90 02				bcc @+
   893 9241 A2 0D				ldx #13
   894 						
   895 9243 8E 90 5A		@		stx opoznieniePocisku
   896 						
   897 9246 60					rts
   898 						
   899 							
   900 = 9247			wczytajLevel	equ *
   901 9247 A9 00 8D 70 8A				mva #0 zbiteBazy
   902 924C 85 37					sta pom0	;liczba baz
   903 924E AD 75 8A					lda poziom
   904 9251 38						sec
   905 9252 E9 01					sbc #1
   906 9254 29 1F					and #31		;zapętlamy levele
   907 							
   908 9256 A2 EE 8E 01 D3				mvx #BANK1 PORTB
   909 									
   910 925B 0A						asl @
   911 925C AA						tax
   912 925D BD 75 89					lda levelAdr,x
   913 9260 85 69					sta pom
   914 9262 BD 76 89					lda levelAdr+1,x
   915 9265 85 6A					sta pom+1
   916 								
   917 9267 A0 00					ldy #0
   918 9269 B1 69					lda (pom),y		;reset pozycji startowych
   919 926B 29 7F					and #%01111111
   920 							
   921 926D AE 75 8A					ldx poziom		
   922 9270 E0 21					cpx #33
   923 9272 90 04					bcc obrpoz3
   924 9274 49 FF					eor #255			;po zapetleniu obroc pozycje x startowa
   925 9276 69 61					adc #97
   926 = 9278			obrpoz3		equ *			
   927 							
   928 9278 8D 73 8A					sta startX
   929 927B 85 17					sta posX
   930 927D B1 69					lda (pom),y
   931 927F 29 80					and #128
   932 9281 AE 75 8A					ldx poziom
   933 9284 E0 21					cpx #maxPoziomow+1
   934 9286 90 02					bcc *+4
   935 9288 A9 80					lda #128			; zawsze bedą rakiety, jesli poziom>32
   936 928A 85 D3					sta czyRakiety
   937 928C C8						iny
   938 928D B1 69					lda (pom),y
   939 928F 8D 74 8A					sta startY
   940 9292 85 18					sta posY
   941 9294 C8						iny
   942 9295 B1 69					lda (pom),y
   943 9297 4A 4A 4A 4A					:4 lsr
   944 929B AA						tax
   945 929C BD B5 89					lda openTab,x
   946 929F 8D 71 8A					sta czasOtwarcia
   947 92A2 B1 69					lda (pom),y
   948 92A4 29 0F					and #%00001111
   949 92A6 AA						tax
   950 92A7 BD C5 89					lda closeTab,x
   951 92AA 8D 72 8A					sta czasZamkniecia
   952 92AD C8						iny
   953 92AE B1 69					lda (pom),y
   954 92B0 29 F0					and #%11110000
   955 92B2 09 0F					ora #$0f
   956 							
   957 92B4 8D 16 D0					sta COLPF0
   958 92B7 B1 69					lda (pom),y
   959 92B9 0A 0A 0A 0A					:4 asl
   960 92BD 09 06					ora #$06
   961 92BF 8D 18 D0					sta COLPF2
   962 							
   963 92C2 C8						iny
   964 92C3 B1 69					lda (pom),y
   965 92C5 85 2A					sta bazyIle
   966 							
   967 92C7 AD 75 8A					lda poziom				;jeśli zapętlenie poziomów to zwiększ poziom trudności
   968 92CA C9 21					cmp #33
   969 92CC 90 17					bcc @+1
   970 92CE AD 72 8A					lda czasZamkniecia
   971 92D1 69 04					adc #4  ;c=1 -> +1
   972 92D3 8D 72 8A					sta czasZamkniecia
   973 92D6 AD 71 8A					lda czasOtwarcia
   974 92D9 C9 FF					cmp #255
   975 92DB D0 02					bne @+
   976 92DD A9 32					lda #50
   977 92DF 38			@			sec
   978 92E0 E9 05					sbc #5
   979 92E2 8D 71 8A					sta czasOtwarcia
   980 = 92E5			@			equ *			
   981 							
   982 92E5 A9 FE 8D 01 D3				mva #BANK0 PORTB
   983 							
   984 92EA 20 0C 90					jsr initPoziom
   985 							
   986 92ED 20 02 28					jsr mute
   987
   988 92F0 20 5A 3C					jsr piszPoziom
   989 92F3 20 AC 53					jsr initJadra
   990 						
   991 92F6 A9 91					lda #60+85		;wydlużenie dla pierwszego poziomu
   992 92F8 85 24					sta startMapy
   993 92FA A9 01 85 82					mva #1 muzyka	;wlacz muzyke startowa
   994 							
   995 92FE A9 EE 8D 01 D3				mva #BANK1 PORTB
   996 							
   997 9303 18						clc
   998 9304 A5 69					lda pom
   999 9306 69 05					adc #5
  1000 9308 85 69					sta pom
  1001 930A 90 02					bcc @+
  1002 930C E6 6A					inc pom+1
  1003 							
  1004 930E A2 00		@			ldx #0
  1005 9310 A0 00		wcl2		ldy #0
  1006 9312 B1 69					lda (pom),y
  1007 9314 29 80					and #128
  1008 9316 0A						asl
  1009 9317 2A						rol
  1010 9318 9D 00 8A					sta bazyRodzaj,x		;rodzaj obiektu, 255=koniec
  1011 							
  1012 931B A9 3F					lda #%00111111		;stan bazy
  1013 931D 9D 10 8A					sta bazyStan,x
  1014 9320 A9 FF					lda #255
  1015 9322 9D 20 8A					sta bazyRakieta,x		;wyzeruj rakiety	
  1016 9325 B1 69					lda (pom),y		;pozycja X
  1017 9327 29 7F					and #127
  1018 							
  1019 9329 48						pha
  1020 932A AD 75 8A					lda poziom 
  1021 932D C9 21					cmp #33
  1022 932F 90 06					bcc obrpoz1
  1023 9331 68						pla					;obracamy pozycje X bazy
  1024 9332 49 FF					eor #255
  1025 9334 69 78					adc #120
  1026 9336 48						pha
  1027 9337 68			obrpoz1		pla
  1028 							
  1029 9338 9D 30 8A					sta bazyX,x
  1030 933B C8						iny
  1031 933C B1 69					lda (pom),y		;pozycja Y
  1032 933E 9D 50 8A					sta bazyY,x
  1033 9341 18						clc
  1034 9342 A5 69					lda pom
  1035 9344 69 02					adc #2
  1036 9346 85 69					sta pom
  1037 9348 90 02					bcc @+
  1038 934A E6 6A					inc pom+1
  1039 							
  1040 934C A9 03		@			lda #b
  1041 934E 9D 00 8B					sta bazyCannon0a,x
  1042 9351 9D 40 8B					sta bazyCannon1a,x
  1043 9354 9D 80 8B					sta bazyCannon2a,x
  1044 9357 9D C0 8B					sta bazyCannon3a,x
  1045 935A 9D 00 8C					sta bazyCannon4a,x
  1046 935D 9D 40 8C					sta bazyCannon5a,x
  1047 9360 A9 05					lda #b+2
  1048 9362 9D 10 8B					sta bazyCannon0b,x
  1049 9365 9D 50 8B					sta bazyCannon1b,x
  1050 9368 9D 90 8B					sta bazyCannon2b,x
  1051 936B 9D D0 8B					sta bazyCannon3b,x
  1052 936E 9D 10 8C					sta bazyCannon4b,x
  1053 9371 9D 50 8C					sta bazyCannon5b,x
  1054 9374 A9 04					lda #b+1
  1055 9376 9D 20 8B					sta bazyCannon0c,x
  1056 9379 9D 60 8B					sta bazyCannon1c,x
  1057 937C 9D A0 8B					sta bazyCannon2c,x
  1058 937F 9D E0 8B					sta bazyCannon3c,x
  1059 9382 9D 20 8C					sta bazyCannon4c,x
  1060 9385 9D 60 8C					sta bazyCannon5c,x
  1061 9388 A9 06					lda #b+3
  1062 938A 9D 30 8B					sta bazyCannon0d,x
  1063 938D 9D 70 8B					sta bazyCannon1d,x
  1064 9390 9D B0 8B					sta bazyCannon2d,x
  1065 9393 9D F0 8B					sta bazyCannon3d,x
  1066 9396 9D 30 8C					sta bazyCannon4d,x
  1067 9399 9D 70 8C					sta bazyCannon5d,x
  1068 							
  1069 939C E8			@			inx
  1070 939D E4 2A					cpx bazyIle
  1071 939F B0 03 4C 10 93				jcc wcl2	
  1072 							
  1073 				//losowe obiekty ;)	
  1074 93A4 AE 75 8A					ldx poziom			
  1075 							;mva #128 bombile
  1076 93A7 A9 40					lda #64
  1077 93A9 E0 0A					cpx #10
  1078 93AB 90 08					bcc @+
  1079 93AD A9 60					lda #96
  1080 93AF E0 14					cpx #20
  1081 93B1 90 02					bcc @+
  1082 93B3 A9 80					lda #128
  1083 93B5 85 D2		@			sta bombile
  1084 							
  1085 93B7 A2 00					ldx #0
  1086 							
  1087 93B9 AD 0A D2		@			lda random
  1088 93BC 29 01					and #1
  1089 93BE 9D 00 1A					sta bombRodzaj,x
  1090 							
  1091 93C1 AD 0A D2		@			lda random
  1092 93C4 29 7E					and #%01111110	
  1093 93C6 9D 80 8C					sta bombX,x
  1094 93C9 AD 0A D2					lda random
  1095 93CC 29 FE					and #%11111110
  1096 93CE 9D 00 8D					sta bombY,x
  1097
  1098 93D1 20 3A 94					jsr sprawdz_bazy
  1099 93D4 D0 EB					bne @-		;pozycja pod bazą, jeszcze raz
  1100 93D6 20 67 94					jsr sprawdz_obiekty
  1101 93D9 D0 E6					bne @-
  1102 93DB 20 98 94					jsr sprawdz_start
  1103 93DE D0 E1					bne @-
  1104 							
  1105 93E0 E8						inx
  1106 93E1 E4 D2					cpx bombile
  1107 93E3 90 D4					bcc @-1
  1108
  1109 93E5 A9 FE 8D 01 D3				mva #BANK0 PORTB	;wlacz podstawowy bank
  1110 							
  1111 							
  1112 				//segregowanie obiektów			
  1113 93EA A2 00		@			ldx #0
  1114 93EC 86 37					stx pom0
  1115 93EE E8						inx
  1116 							
  1117 93EF BD FF 8C		@			lda bombY-1,x
  1118 93F2 DD 00 8D					cmp bombY,x
  1119 93F5 90 2A					bcc segr_next
  1120 93F7 F0 02					beq segr_rowne
  1121 93F9 B0 0A					bcs segr_zamien
  1122 							//gdy rowne
  1123 93FB			segr_rowne			
  1124 93FB BD 7F 8C					lda bombX-1,x
  1125 93FE DD 80 8C					cmp bombX,x
  1126 9401 90 1E					bcc segr_next
  1127 9403 F0 1C					beq segr_next
  1128 							//zamiana
  1129 9405			segr_zamien
  1130 9405 BD 7F 8C					lda bombX-1,x
  1131 9408 BC 80 8C					ldy bombX,x
  1132 940B 9D 80 8C					sta bombX,x
  1133 940E 98						tya
  1134 940F 9D 7F 8C					sta bombX-1,x
  1135 9412 BD FF 8C					lda bombY-1,x
  1136 9415 BC 00 8D					ldy bombY,x
  1137 9418 9D 00 8D					sta bombY,x
  1138 941B 98						tya
  1139 941C 9D FF 8C					sta bombY-1,x
  1140 941F E6 37					inc pom0
  1141 9421			segr_next	
  1142 9421 E8						inx
  1143 9422 E4 D2					cpx bombIle
  1144 9424 90 C9					bcc @-
  1145 9426 A5 37					lda pom0
  1146 9428 D0 C0					bne @-1			
  1147 							
  1148 942A A4 2A					ldy bazyIle			;wyczysc rakiety w bazach
  1149 942C A9 FF					lda #255
  1150 942E 99 1F 8A		@			sta bazyRakieta-1,y
  1151 9431 88						dey
  1152 9432 D0 FA					bne @-
  1153 							
  1154 							
  1155 9434 20 13 95					jsr tabBazy
  1156 9437 4C C3 94					jmp tabBomby
  1157 							
  1158 943A			sprawdz_bazy	
  1159 943A A4 2A					ldy bazyIle
  1160 943C 38			@			sec
  1161 943D B9 2F 8A					lda bazyX-1,y
  1162 9440 FD 80 8C					sbc bombX,x
  1163 9443 B0 04					bcs *+6
  1164 9445 49 FF					eor #255
  1165 9447 69 01					adc #1
  1166 9449 C9 09					cmp #9
  1167 944B B0 14					bcs @+
  1168 							
  1169 944D 38						sec
  1170 944E B9 4F 8A					lda bazyY-1,y
  1171 9451 FD 00 8D					sbc bombY,x
  1172 9454 B0 04					bcs *+6
  1173 9456 49 FF					eor #255
  1174 9458 69 01					adc #1
  1175 945A C9 09					cmp #9
  1176 945C B0 03					bcs @+
  1177 							
  1178 945E A9 01					lda #1		;na bazie
  1179 9460 60						rts
  1180 							
  1181 9461 88			@			dey
  1182 9462 D0 D8					bne @-1
  1183 							
  1184 9464 A9 00					lda #0		;ok
  1185 9466 60						rts
  1186 							
  1187 9467			sprawdz_obiekty
  1188 9467 8A						txa
  1189 9468 D0 01					bne *+3
  1190 946A 60						rts
  1191 946B A8						tay
  1192 946C 88						dey
  1193 							
  1194 946D BD 00 8D		@			lda bombY,x
  1195 9470 38						sec
  1196 9471 F9 00 8D					sbc bombY,y
  1197 9474 B0 04					bcs *+6
  1198 9476 49 FF					eor #255
  1199 9478 69 01					adc #1
  1200 947A C9 03					cmp #3
  1201 947C B0 14					bcs @+
  1202 							
  1203 947E BD 80 8C					lda bombX,x
  1204 9481 38						sec
  1205 9482 F9 80 8C					sbc bombX,y
  1206 9485 B0 04					bcs *+6
  1207 9487 49 FF					eor #255
  1208 9489 69 01					adc #1
  1209 948B C9 03					cmp #3
  1210 948D B0 03					bcs @+
  1211 							
  1212 948F A9 01					lda #1		;pokrywa się z inną bombą
  1213 9491 60						rts
  1214 							
  1215 9492 88			@			dey
  1216 9493 10 D8					bpl @-1
  1217 9495			spr_ok			
  1218 9495 A9 00					lda #0		;ok
  1219 9497 60						rts
  1220 							
  1221 9498			sprawdz_start	
  1222 9498 18						clc
  1223 9499 AD 73 8A					lda startx
  1224 949C 69 0F					adc #15
  1225 949E 38						sec
  1226 949F FD 80 8C					sbc bombX,x
  1227 94A2 B0 04					bcs @+
  1228 94A4 49 FF					eor #255
  1229 94A6 69 01					adc #1
  1230 94A8 C9 08		@			cmp #8
  1231 94AA B0 E9					bcs spr_ok
  1232 							
  1233 94AC 18			@			clc
  1234 94AD AD 74 8A					lda startY
  1235 94B0 69 0E					adc #14
  1236 94B2 38						sec
  1237 94B3 FD 00 8D					sbc bombY,x
  1238 94B6 B0 04					bcs @+
  1239 94B8 49 FF					eor #255
  1240 94BA 69 01					adc #1
  1241 94BC C9 08		@			cmp #8
  1242 94BE B0 D5					bcs spr_ok
  1243 							
  1244 94C0 A9 01					lda #1		;za blisko startu
  1245 94C2 60						rts			
  1246
  1247
  1248
  1249 = 94C3			tabBomby	equ *
  1250 94C3 A6 D2					ldx bombIle
  1251 94C5 D0 01					bne @+
  1252 94C7 60						rts
  1253 							
  1254 94C8 BD FF 8C		@			lda bombY-1,x
  1255 94CB 18						clc
  1256 94CC 69 01					adc #1
  1257 94CE A8						tay
  1258 94CF 86 37					stx pom0			;nr bomby w pom0
  1259 							
  1260 94D1 E4 D2					cpx bombIle
  1261 94D3 D0 02					bne *+4
  1262 94D5 84 39					sty pom0b			;koncowy indeks, ustalany na poczatku
  1263 							
  1264 94D7 A2 1E					ldx #28+2		;licznik 28+wysokoscBomby	
  1265 							
  1266 94D9 A5 37					lda pom0				;wypelniaj pola wartoscia danej bazy
  1267 94DB 99 00 F9		@			sta tabBomb1,y
  1268 94DE 88						dey
  1269 94DF C4 39					cpy pom0b
  1270 94E1 F0 03					beq @+
  1271 94E3 CA						dex
  1272 94E4 D0 F5					bne @-
  1273 							
  1274 94E6 AA			@			tax
  1275 94E7 CA						dex
  1276 94E8 D0 DE					bne @-2			;next bomba
  1277
  1278 				;ostatnia bomba
  1279 94EA A2 01					ldx #1
  1280 							
  1281 94EC BD FF 8C		@			lda bombY-1,x		;pozycja startowa Ybomby-28
  1282 94EF 38						sec
  1283 94F0 E9 1C					sbc #28
  1284 94F2 A8						tay
  1285 							
  1286 94F3 E0 01					cpx #1
  1287 94F5 D0 02					bne *+4
  1288 94F7 84 39					sty pom0b			;koncowy indeks
  1289 							
  1290 94F9 86 37					stx pom0			;nr bomby
  1291 							
  1292 94FB A2 1E					ldx #28+2				;licznik 28+wysokość bomby
  1293 							
  1294 94FD A5 37					lda pom0
  1295 94FF 99 00 F8		@			sta tabBomb2,y
  1296 9502 C8						iny
  1297 9503 C4 39					cpy pom0b
  1298 9505 F0 03					beq @+			;next
  1299 9507 CA						dex
  1300 9508 D0 F5					bne @-
  1301 							
  1302 950A AA			@			tax
  1303 950B E8						inx
  1304 950C E4 D2					cpx bombIle
  1305 950E 90 DC					bcc @-2
  1306 9510 F0 DA					beq @-2
  1307 							
  1308 9512 60						rts
  1309 					
  1310 9513 A9 FF		tabBazy		lda #255
  1311 9515 A2 00					ldx #0
  1312 9517 9D 00 FB		@			sta tabBazy1,x
  1313 951A 9D 00 FA					sta tabBazy2,x
  1314 951D 9D 00 F9					sta tabBomb1,x
  1315 9520 9D 00 F8					sta tabBomb2,x
  1316 9523 CA						dex
  1317 9524 D0 F1					bne @-
  1318 							
  1319 							
  1320 9526 A6 2A					ldx bazyIle
  1321 							
  1322 9528 BD FF 89		@			lda bazyRodzaj-1,x		;pozycja startowa= pozycja bazy +wysokoscBazy-1
  1323 952B 85 38					sta pom0a
  1324 952D 18						clc
  1325 952E 69 07					adc #7
  1326 9530 7D 4F 8A					adc bazyY-1,x
  1327 9533 A8						tay
  1328 9534 86 37					stx pom0			;nr bazy w pom0
  1329 							
  1330 9536 E4 2A					cpx bazyIle
  1331 9538 D0 02					bne *+4
  1332 953A 84 39					sty pom0b			;koncowy indeks
  1333 							
  1334 953C A9 24					lda #28+8		;licznik 28+wysokoscBazy
  1335 953E 18						clc
  1336 953F 65 38					adc pom0a
  1337 9541 AA						tax
  1338 							
  1339 							
  1340 9542 A5 37					lda pom0				;wypelniaj pola wartoscia danej bazy
  1341 9544 99 00 FB		@			sta tabBazy1,y
  1342 9547 88						dey
  1343 9548 C4 39					cpy pom0b
  1344 954A F0 03					beq @+
  1345 954C CA						dex
  1346 954D D0 F5					bne @-
  1347 							
  1348 954F AA			@			tax
  1349 9550 CA						dex
  1350 9551 D0 D5					bne @-2			;next baza
  1351 							
  1352 							
  1353 				;ostatnia baza
  1354 9553 A2 01					ldx #1
  1355 							
  1356 9555 BD 4F 8A		@			lda bazyY-1,x		;pozycja startowa Ybazy-28
  1357 9558 38						sec
  1358 9559 E9 1C					sbc #28
  1359 955B A8						tay
  1360 							
  1361 955C E0 01					cpx #1
  1362 955E D0 02					bne *+4
  1363 9560 84 39					sty pom0b			;koncowy indeks
  1364 							
  1365 9562 86 37					stx pom0			;nr bazy
  1366 							
  1367 							
  1368 9564 BD FF 89					lda bazyRodzaj-1,x		;licznik 28+wysokoscbazy
  1369 9567 18						clc
  1370 9568 69 24					adc #8+28
  1371 956A AA						tax
  1372 							
  1373 956B A5 37					lda pom0
  1374 956D 99 00 FA		@			sta tabBazy2,y
  1375 9570 C8						iny
  1376 9571 C4 39					cpy pom0b
  1377 9573 F0 03					beq @+			;next
  1378 9575 CA						dex
  1379 9576 D0 F5					bne @-
  1380 							
  1381 9578 AA			@			tax
  1382 9579 E8						inx
  1383 957A E4 2A					cpx bazyIle
  1384 957C 90 D7					bcc @-2
  1385 957E F0 D5					beq @-2
  1386 							
  1387 9580 60						rts
  1388
  1389 							
  1390 							
  1391 				;pokazuje/ukrywa baze na radarze  , nr bazy w Y
  1392 = 9581			eorBazaRadar	equ *
  1393 9581 B9 2F 8A					lda bazyX-1,y
  1394 9584 4A						lsr @
  1395 9585 4A						lsr @
  1396 9586 4A						lsr @
  1397 9587 38						sec
  1398 9588 E9 02					sbc #2
  1399 958A 10 02					bpl *+4
  1400 958C A9 00					lda #0
  1401 958E AA						tax
  1402 958F BD D5 89					lda radarBazy1,x
  1403 9592 85 69					sta pom
  1404 9594 BD E1 89					lda radarBazy2,x
  1405 9597 85 6A					sta pom+1
  1406 9599 BE 4F 8A					ldx bazyY-1,y
  1407 959C BD 00 14					lda tabDiv100,x
  1408 959F AA						tax
  1409 95A0 BD 64 1E					lda sprites+$600+startWyniki+84,x
  1410 95A3 45 69					eor pom
  1411 95A5 9D 64 1E					sta sprites+$600+startWyniki+84,x
  1412 95A8 BD 65 1E					lda sprites+$600+startWyniki+84+1,x
  1413 95AB 45 69					eor pom
  1414 95AD 9D 65 1E					sta sprites+$600+startWyniki+84+1,x
  1415 95B0 BD 66 1E					lda sprites+$600+startWyniki+84+2,x
  1416 95B3 45 69					eor pom
  1417 95B5 9D 66 1E					sta sprites+$600+startWyniki+84+2,x
  1418 95B8 BD 64 1B					lda sprites+$300+startWyniki+84,x
  1419 95BB 45 6A					eor pom+1
  1420 95BD 9D 64 1B					sta sprites+$300+startWyniki+84,x
  1421 95C0 BD 65 1B					lda sprites+$300+startWyniki+84+1,x
  1422 95C3 45 6A					eor pom+1
  1423 95C5 9D 65 1B					sta sprites+$300+startWyniki+84+1,x
  1424 95C8 BD 66 1B					lda sprites+$300+startWyniki+84+2,x
  1425 95CB 45 6A					eor pom+1
  1426 95CD 9D 66 1B					sta sprites+$300+startWyniki+84+2,x
  1427 95D0 60						rts
  1428 							
  1429 				;pokazuje bazy na radarze	(wszystkie)		
  1430 = 95D1			pokazBazyRadar	equ	*
  1431 95D1 A9 00					lda #0
  1432 95D3 A0 64					ldy #100		;czyszczenie baz na radarze
  1433 95D5 99 64 1E		@			sta sprites+$600+startWyniki+84,y
  1434 95D8 99 64 1B					sta sprites+$300+startWyniki+84,y
  1435 95DB 88						dey
  1436 95DC D0 F7					bne @-
  1437 							
  1438 95DE A4 2A					ldy bazyIle
  1439 							
  1440 95E0 20 81 95		@			jsr eorBazaRadar
  1441 							
  1442 95E3 88						dey
  1443 95E4 D0 FA					bne @-
  1444 							
  1445 95E6 60						rts			
  1446
  1447 				;rysyje polozenie statku na radarze
  1448 = 95E7			radar	equ *		
  1449 95E7 AD 7F 8A				lda rads1	
  1450 95EA 30 1F				bmi @+		;<0 nic nie trzeba zmazywac
  1451 						
  1452 95EC A4 D4				ldy rads		;wymaz w poprzedniej pozycji
  1453 95EE B9 64 1B				lda sprites+$300+startWyniki+84,y
  1454 95F1 29 FC				and #%11111100
  1455 95F3 99 64 1B				sta sprites+$300+startWyniki+84,y
  1456 95F6 B9 65 1B				lda sprites+$300+startWyniki+84+1,y
  1457 95F9 29 FC				and #%11111100
  1458 95FB 99 65 1B				sta sprites+$300+startWyniki+84+1,y
  1459 						
  1460 95FE AD 7F 8A				lda rads1
  1461 9601 F0 08				beq @+		;wszystko juz zmazane
  1462 9603 B9 66 1B				lda sprites+$300+startWyniki+84+2,y		;dodatkowe 2 punkty zmazujemy po formacji
  1463 9606 29 FC				and #%11111100
  1464 9608 99 66 1B				sta sprites+$300+startWyniki+84+2,y
  1465
  1466 = 960B			@		equ *		
  1467 960B EE 2E 24				inc mryganieRadarX
  1468 960E AD 2E 24				lda mryganieRadarX
  1469 9611 29 04				and #%100
  1470 9613 F0 30				beq @+		;puste lub formacja
  1471 						
  1472 9615 A5 18				lda posY			;narysuj w nowej
  1473 9617 18					clc
  1474 9618 69 0D				adc #13
  1475 961A AA					tax
  1476 961B BC 00 14				ldy tabDiv100,x
  1477 						
  1478 961E 84 D4				sty rads
  1479 9620 B9 64 1B				lda sprites+$300+startWyniki+84,y
  1480 9623 09 02				ora #2 
  1481 9625 99 64 1B				sta sprites+$300+startWyniki+84,y
  1482 9628 B9 65 1B				lda sprites+$300+startWyniki+84+1,y
  1483 962B 09 02				ora #2
  1484 962D 99 65 1B				sta sprites+$300+startWyniki+84+1,y
  1485 						
  1486 9630 A5 17				lda posX  ;pozycja X dzielimy przez 4
  1487 9632 18					clc
  1488 9633 69 0F				adc #15
  1489 9635 29 7F				and #127
  1490 9637 4A					lsr @
  1491 9638 4A					lsr @
  1492 9639 18					clc
  1493 963A 69 B0				adc #pozWyniki-1
  1494 963C 8D 2D 23				sta RadarX1
  1495 963F A9 00 8D 7F 8A			mva #0 rads1		;do zmazania bedzie statek
  1496 						
  1497 9644 60					rts	
  1498 						
  1499 = 9645			@		equ *
  1500 9645 AC 25 24				ldy formacja_radar
  1501 9648 D0 08				bne @+
  1502 964A 8C 2D 23				sty RadarX1		;y=0 poza ekranem
  1503 964D 88					dey
  1504 964E 8C 7F 8A				sty rads1		;y=-1 nic nie będzie do zmazania
  1505 9651 60					rts
  1506 						
  1507 9652 AD 2E 24		@		lda mryganieRadarX
  1508 9655 29 02				and #%10
  1509 9657 D0 01				bne @+
  1510 9659 60					rts
  1511 965A AE CE 17		@		ldx enemyY+5
  1512 965D BC 00 14				ldy tabDiv100,x
  1513 						
  1514 9660 84 D4				sty rads
  1515 9662 B9 66 1B				lda sprites+$300+startWyniki+84+2,y
  1516 9665 09 03				ora #3 
  1517 9667 99 66 1B				sta sprites+$300+startWyniki+84+2,y
  1518 966A B9 64 1B				lda sprites+$300+startWyniki+84,y
  1519 966D 09 03				ora #3
  1520 966F 99 64 1B				sta sprites+$300+startWyniki+84,y
  1521 9672 B9 65 1B				lda sprites+$300+startWyniki+84+1,y
  1522 9675 09 03				ora #3 
  1523 9677 99 65 1B				sta sprites+$300+startWyniki+84+1,y
  1524 						
  1525 967A AD C2 17				lda enemyX+5
  1526 967D 4A					lsr
  1527 967E 4A					lsr
  1528 967F 69 B0				adc #pozWyniki-1
  1529 9681 8D 2D 23				sta RadarX1
  1530 9684 A9 01 8D 7F 8A			mva #1 rads1		;do zmazania formacja
  1531 						
  1532 9689 60					rts
  1533
  1534
  1535
  1536 				;condition w y 0=green,1=yellow,2=red
  1537 = 968A			setCondition	equ *
  1538 						;stx pom0			;x jest nieużywany
  1539 968A 8C 8E 8A				sty kondycja_stan
  1540 					
  1541 968D AD 7D 22				lda formacja_stan
  1542 9690 F0 05				beq @+
  1543 9692 C9 05				cmp #5
  1544 9694 F0 01				beq @+
  1545 9696 60					rts
  1546 					
  1547 9697 B9 8B 8A		@		lda conditionC,y
  1548 969A 8D DF 22				sta conditionColor
  1549 969D 8D E7 22				sta conditionColor1
  1550 96A0 98					tya
  1551 96A1 0A					asl @
  1552 96A2 0A					asl @
  1553 96A3 0A					asl @
  1554 96A4 A8					tay
  1555 						
  1556 96A5 A9 FF				lda #255
  1557 						.rept 4, #
  1558 						STA SPRITES+$400+STARTWYNIKI+60+:1
  1559 						STA SPRITES+$400+STARTWYNIKI+60+11+:1
  1560 						STA SPRITES+$500+STARTWYNIKI+60+:1
  1561 						STA SPRITES+$500+STARTWYNIKI+60+11+:1
  1562 						STA SPRITES+$600+STARTWYNIKI+60+:1
  1563 						STA SPRITES+$600+STARTWYNIKI+60+11+:1
  1564 						.ENDR
  1564 						.endr
Source: REPT
  1558 96A7 8D 4C 1C				STA SPRITES+$400+STARTWYNIKI+60+0
  1558 96AA 8D 57 1C				STA SPRITES+$400+STARTWYNIKI+60+11+0
  1558 96AD 8D 4C 1D				STA SPRITES+$500+STARTWYNIKI+60+0
  1558 96B0 8D 57 1D				STA SPRITES+$500+STARTWYNIKI+60+11+0
  1558 96B3 8D 4C 1E				STA SPRITES+$600+STARTWYNIKI+60+0
  1558 96B6 8D 57 1E				STA SPRITES+$600+STARTWYNIKI+60+11+0
  1558 96B9 8D 4D 1C				STA SPRITES+$400+STARTWYNIKI+60+1
  1558 96BC 8D 58 1C				STA SPRITES+$400+STARTWYNIKI+60+11+1
  1558 96BF 8D 4D 1D				STA SPRITES+$500+STARTWYNIKI+60+1
  1558 96C2 8D 58 1D				STA SPRITES+$500+STARTWYNIKI+60+11+1
  1558 96C5 8D 4D 1E				STA SPRITES+$600+STARTWYNIKI+60+1
  1558 96C8 8D 58 1E				STA SPRITES+$600+STARTWYNIKI+60+11+1
  1558 96CB 8D 4E 1C				STA SPRITES+$400+STARTWYNIKI+60+2
  1558 96CE 8D 59 1C				STA SPRITES+$400+STARTWYNIKI+60+11+2
  1558 96D1 8D 4E 1D				STA SPRITES+$500+STARTWYNIKI+60+2
  1558 96D4 8D 59 1D				STA SPRITES+$500+STARTWYNIKI+60+11+2
  1558 96D7 8D 4E 1E				STA SPRITES+$600+STARTWYNIKI+60+2
  1558 96DA 8D 59 1E				STA SPRITES+$600+STARTWYNIKI+60+11+2
  1558 96DD 8D 4F 1C				STA SPRITES+$400+STARTWYNIKI+60+3
  1558 96E0 8D 5A 1C				STA SPRITES+$400+STARTWYNIKI+60+11+3
  1558 96E3 8D 4F 1D				STA SPRITES+$500+STARTWYNIKI+60+3
  1558 96E6 8D 5A 1D				STA SPRITES+$500+STARTWYNIKI+60+11+3
  1558 96E9 8D 4F 1E				STA SPRITES+$600+STARTWYNIKI+60+3
  1558 96EC 8D 5A 1E				STA SPRITES+$600+STARTWYNIKI+60+11+3
Source: blevele.asm
  1565 96EF A9 3F				lda #63
  1566 						.rept 4, #
  1567 						STA SPRITES+$300+STARTWYNIKI+60+:1
  1568 						STA SPRITES+$300+STARTWYNIKI+60+11+:1
  1569 						.ENDR
  1569 						.endr
Source: REPT
  1567 96F1 8D 4C 1B				STA SPRITES+$300+STARTWYNIKI+60+0
  1567 96F4 8D 57 1B				STA SPRITES+$300+STARTWYNIKI+60+11+0
  1567 96F7 8D 4D 1B				STA SPRITES+$300+STARTWYNIKI+60+1
  1567 96FA 8D 58 1B				STA SPRITES+$300+STARTWYNIKI+60+11+1
  1567 96FD 8D 4E 1B				STA SPRITES+$300+STARTWYNIKI+60+2
  1567 9700 8D 59 1B				STA SPRITES+$300+STARTWYNIKI+60+11+2
  1567 9703 8D 4F 1B				STA SPRITES+$300+STARTWYNIKI+60+3
  1567 9706 8D 5A 1B				STA SPRITES+$300+STARTWYNIKI+60+11+3
Source: blevele.asm
  1570 						
  1571 						
  1572 9709 8D 50 1B 8D 51 1B + 		:7 sta sprites+$300+startWyniki+64+#
  1573 						
  1574 						
  1575 						.rept 7, #
  1576 						LDA CONDITION1+:1,Y
  1577 						STA SPRITES+$400+STARTWYNIKI+64+:1
  1578 						LDA CONDITION2+:1,Y
  1579 						STA SPRITES+$500+STARTWYNIKI+64+:1
  1580 						LDA CONDITION3+:1,Y
  1581 						STA SPRITES+$600+STARTWYNIKI+64+:1
  1582 						.ENDR
  1582 						.endr
Source: REPT
  1576 971E B9 58 8E				LDA CONDITION1+0,Y
  1576 9721 8D 50 1C				STA SPRITES+$400+STARTWYNIKI+64+0
  1576 9724 B9 70 8E				LDA CONDITION2+0,Y
  1576 9727 8D 50 1D				STA SPRITES+$500+STARTWYNIKI+64+0
  1576 972A B9 88 8E				LDA CONDITION3+0,Y
  1576 972D 8D 50 1E				STA SPRITES+$600+STARTWYNIKI+64+0
  1576 9730 B9 59 8E				LDA CONDITION1+1,Y
  1576 9733 8D 51 1C				STA SPRITES+$400+STARTWYNIKI+64+1
  1576 9736 B9 71 8E				LDA CONDITION2+1,Y
  1576 9739 8D 51 1D				STA SPRITES+$500+STARTWYNIKI+64+1
  1576 973C B9 89 8E				LDA CONDITION3+1,Y
  1576 973F 8D 51 1E				STA SPRITES+$600+STARTWYNIKI+64+1
  1576 9742 B9 5A 8E				LDA CONDITION1+2,Y
  1576 9745 8D 52 1C				STA SPRITES+$400+STARTWYNIKI+64+2
  1576 9748 B9 72 8E				LDA CONDITION2+2,Y
  1576 974B 8D 52 1D				STA SPRITES+$500+STARTWYNIKI+64+2
  1576 974E B9 8A 8E				LDA CONDITION3+2,Y
  1576 9751 8D 52 1E				STA SPRITES+$600+STARTWYNIKI+64+2
  1576 9754 B9 5B 8E				LDA CONDITION1+3,Y
  1576 9757 8D 53 1C				STA SPRITES+$400+STARTWYNIKI+64+3
  1576 975A B9 73 8E				LDA CONDITION2+3,Y
  1576 975D 8D 53 1D				STA SPRITES+$500+STARTWYNIKI+64+3
  1576 9760 B9 8B 8E				LDA CONDITION3+3,Y
  1576 9763 8D 53 1E				STA SPRITES+$600+STARTWYNIKI+64+3
  1576 9766 B9 5C 8E				LDA CONDITION1+4,Y
  1576 9769 8D 54 1C				STA SPRITES+$400+STARTWYNIKI+64+4
  1576 976C B9 74 8E				LDA CONDITION2+4,Y
  1576 976F 8D 54 1D				STA SPRITES+$500+STARTWYNIKI+64+4
  1576 9772 B9 8C 8E				LDA CONDITION3+4,Y
  1576 9775 8D 54 1E				STA SPRITES+$600+STARTWYNIKI+64+4
  1576 9778 B9 5D 8E				LDA CONDITION1+5,Y
  1576 977B 8D 55 1C				STA SPRITES+$400+STARTWYNIKI+64+5
  1576 977E B9 75 8E				LDA CONDITION2+5,Y
  1576 9781 8D 55 1D				STA SPRITES+$500+STARTWYNIKI+64+5
  1576 9784 B9 8D 8E				LDA CONDITION3+5,Y
  1576 9787 8D 55 1E				STA SPRITES+$600+STARTWYNIKI+64+5
  1576 978A B9 5E 8E				LDA CONDITION1+6,Y
  1576 978D 8D 56 1C				STA SPRITES+$400+STARTWYNIKI+64+6
  1576 9790 B9 76 8E				LDA CONDITION2+6,Y
  1576 9793 8D 56 1D				STA SPRITES+$500+STARTWYNIKI+64+6
  1576 9796 B9 8E 8E				LDA CONDITION3+6,Y
  1576 9799 8D 56 1E				STA SPRITES+$600+STARTWYNIKI+64+6
Source: blevele.asm
  1583 						
  1584 						
  1585 979C A9 00 8D 5B 1C			mva #0 sprites+$400+startWyniki+75
  1586 97A1 8D 5C 1C				sta sprites+$400+startWyniki+76
  1587
  1588 						;ldx pom0
  1589 97A4 60					rts	
  1590
  1591 97A5 0A 05 00		tab5	dta b(10,5,0)		
  1592
  1593 				;Wyswietlamy liczbe zyc
  1594 = 97A8			printLives	equ *
  1595 97A8 AD 80 8A				lda lives
  1596 97AB C9 04				cmp #4
  1597 97AD 90 02				bcc @+
  1598 97AF A9 03				lda #3		;maksymalnie wyswietlamy 3 statki
  1599 97B1 85 37		@		sta pom0
  1600 						
  1601 97B3 A2 02				ldx #2
  1602 97B5 BC A5 97		@		ldy tab5,x
  1603 97B8 BD 81 8A				lda tablives,x
  1604 97BB E4 37				cpx pom0
  1605 97BD 90 02				bcc @+
  1606 97BF A9 00				lda #0
  1607 97C1 99 AC 23		@		sta poz2lives,y
  1608 97C4 F0 03				beq @+
  1609 97C6 18					clc
  1610 97C7 69 02				adc #2
  1611 97C9 99 BB 23		@		sta poz2mlives,y
  1612 97CC CA					dex
  1613 97CD 10 E6				bpl @-2
  1614 								
  1615 97CF 60					rts
  1616
  1617
  1618 						
  1619 				;czy ukonczono level
  1620 = 97D0			czyNowyLevel	equ *
  1621 97D0 A5 23				lda trafienie
  1622 97D2 F0 01				beq *+3
  1623 97D4 60					rts
  1624 						
  1625 97D5 AD 70 8A				lda zbiteBazy		;czy zbito juz wszystkie bazy
  1626 97D8 C5 2A				cmp bazyIle
  1627 97DA F0 01				beq @+ 
  1628 97DC 60					rts
  1629 97DD AD FC 63		@		lda nobanner
  1630 97E0 C9 02				cmp #2
  1631 97E2 90 0A				bcc @+
  1632 						
  1633 97E4 A9 00				lda #0		;wylacz przerwanie
  1634 97E6 8D 0E D2				sta IRQEN
  1635 97E9 85 1E				sta sirq
  1636 97EB 8D 06 D2				sta AUDF4 
  1637
  1638 97EE AD 7D 22		@		lda formacja_stan
  1639 97F1 F0 11				beq @+
  1640 97F3 A9 00 8D 7D 22			mva #0 formacja_stan
  1641 97F8 8D 25 24				sta formacja_radar
  1642 97FB 20 B5 99				jsr piszCondition
  1643 97FE AC 8E 8A				ldy kondycja_stan		;poprzednia kondycja
  1644 9801 20 8A 96				jsr setCondition
  1645 						
  1646 9804 A9 09 85 24		@		mva #9 startMapy	
  1647 9808 AD 76 8A		@		lda waitWybuch
  1648 980B 30 25				bmi @+1
  1649 980D C9 0E				cmp #14
  1650 980F D0 1D				bne @+
  1651 						
  1652 						
  1653 9811 20 3D 59				jsr exploAllEnemy
  1654 9814 A4 D6				ldy sJoy
  1655 9816 A9 00 85 D6				mva #0 sJoy
  1656 981A 8D 3B 24				sta licznikStrzal
  1657 981D 20 25 4C				jsr printShip1
  1658 9820 AD DF 22				lda conditionColor		;jeśli 0 to jest red condition , trzeba narysować
  1659 9823 D0 09				bne @+
  1660 9825 AD 8D 8A				lda conditionC+2
  1661 9828 8D DF 22				sta conditionColor
  1662 982B 8D E7 22				sta conditionColor1	 
  1663 						
  1664 982E CE 76 8A		@		dec waitWybuch
  1665 9831 60					rts
  1666
  1667 9832 EE 75 8A		@		inc poziom			;to nastepny poziom
  1668
  1669 9835 A9 00 8D DF 25			mva #0  _vbsnd4
  1670 						
  1671 983A AD 75 8A				lda poziom		;jeśli poziom = 161 to ustaw 129 , zapetlamy
  1672 983D C9 A1				cmp #161
  1673 983F 90 05				bcc skpoz2
  1674 9841 A9 81				lda #129
  1675 9843 8D 75 8A				sta poziom
  1676 = 9846			skpoz2	equ *
  1677
  1678 9846 20 47 92				jsr wczytajLevel
  1679 						
  1680 9849 A9 02 85 82				mva #2 muzyka
  1681 984D A9 3C 85 24				mva #60 startMapy
  1682 9851 A9 36 8D 3B 24			mva #54 licznikStrzal	;opoznienie dzwieku silnika
  1683 9856 20 D1 95				jsr pokazBazyRadar
  1684 9859 A9 01 85 3F				mva #1 zegar
  1685 985D 68					pla			;zdejmij po jsr
  1686 985E 68					pla
  1687 985F 20 21 28				jsr waitvbl
  1688 9862 A5 1A 8D 05 D4			mva movy vscrol
  1689 9867 A5 19 8D 04 D4			mva movx hscrol
  1690 986C 4C 79 A3				jmp poczatek
  1691
  1692 = 986F			graj_sampla		equ *
  1693 986F A5 3F				lda zegar
  1694 9871 C5 3F		@		cmp zegar
  1695 9873 F0 FC				beq @-
  1696 						
  1697 9875 A9 00				lda #0
  1698 9877 8D 12 D0				sta COLPM
  1699 987A 8D 13 D0				sta COLPM+1
  1700 987D 8D 14 D0				sta COLPM+2
  1701 9880 8D 15 D0				sta COLPM+3
  1702 								
  1703 9883 8D 64 B5				sta kanal1
  1704 9886 8D D5 25				sta _vbsnd2
  1705 9889 8D 66 B5				sta kanal2
  1706 988C 8D DF 25				sta _vbsnd4
  1707 988F 8D 68 B5				sta kanal3
  1708 9892 8D E9 25				sta _vbsnd6
  1709 9895 A9 01 8D 70 B5			mva #1 sfx
  1710 						
  1711 989A AD 98 CF 85 94 AD + 		mwa sample sam		;poczatek sampla
  1712 						
  1713 98A4 A9 40 8D 0E D4			mva #%01000000 NMIEN
  1714 98A9 A9 01 8D 3D 24			mva #1 speech		;wlaczony sampel
  1715 98AE 85 D5				sta powtorz
  1716 						
  1717 98B0 20 1F 65				jsr schowaj_duszki
  1718 98B3 A9 3A				lda #$3a
  1719 98B5 8D 12 D0				sta COLPM
  1720 98B8 A9 8A				lda #$8a
  1721 98BA 8D 13 D0				sta COLPM+1
  1722 98BD A9 B0				lda #pozWyniki-1
  1723 98BF 8D 00 D0				sta HPOSP
  1724 98C2 A9 C8				lda #pozWyniki-1+24
  1725 98C4 8D 01 D0				sta HPOSP+1
  1726 98C7 A9 00				lda #0
  1727 98C9 8D 01 D2				sta AUDC1
  1728 98CC 8D 03 D2				sta AUDC2
  1729 98CF 8D 05 D2				sta AUDC3
  1730 						
  1731 98D2 A9 00 8D 02 D0			mva #0 HPOSP+2
  1732 98D7 A9 02 8D 15 D0			mva #$02 COLPM+3
  1733 						
  1734 				;przygotuj napis
  1735 98DC A0 00				ldy #0
  1736 98DE A2 00				ldx #0
  1737 						
  1738 98E0 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1739 						
  1740 98E5 86 37		@		stx pom0
  1741 98E7 BD AC 99				lda t_blastoff,x
  1742 98EA 0A 0A 0A				:3 asl
  1743 98ED AA					tax
  1744 						
  1745 						
  1746 98EE BD 18 4A		@		lda znakiBosc-8,x
  1747 98F1 99 30 FC				sta sprites1+$430,y
  1748 98F4 99 31 FD				sta sprites1+$531,y
  1749 98F7 C8					iny
  1750 98F8 A9 00				lda #0
  1751 98FA 99 30 FC				sta sprites1+$430,y
  1752 98FD 99 31 FD				sta sprites1+$531,y
  1753 9900 C8					iny
  1754 9901 E8					inx
  1755 9902 8A					txa
  1756 9903 29 07				and #7
  1757 9905 D0 E7				bne @-
  1758 						
  1759 9907 A6 37				ldx pom0
  1760 9909 E8					inx
  1761 990A E0 09				cpx #9
  1762 990C 90 D7				bcc @-1
  1763 						
  1764 990E A9 FE 8D 01 D3			mva #BANK0 PORTB
  1765 						
  1766 9913 A9 00				lda #0
  1767 9915 A2 0E				ldx #14
  1768 9917 9D 77 FC		@		sta sprites1+$400+119,x
  1769 991A 9D 78 FD				sta sprites1+$500+119+1,x
  1770 991D CA					dex
  1771 991E CA					dex
  1772 991F 10 F6				bpl @-
  1773 						
  1774 9921 A9 84 8D FE FF A9 + 		mwa #pok0 $fffe		;nowy wektor przerwania
  1775 						
  1776 992B A9 0F 8D 06 D2			mva #15 AUDF4		;jak czesto wywolujemy przerwanie, 64khz/16 = 4khz
  1777 						
  1778 9930 A9 00 8D 0E D2			mva #0 IRQEN
  1779 9935 85 D0				sta rodzajSpeech
  1780 9937 A9 04 85 1E				mva #4 sirq
  1781 993B 8D 0E D2				sta IRQEN
  1782 993E A9 BC 85 37				mva #>znaki2 pom0
  1783 						
  1784 9942 A2 0C				ldx #12
  1785 9944 A5 3F		@		lda zegar
  1786 9946 C5 3F				cmp zegar
  1787 9948 F0 FC				beq *-2
  1788 						
  1789 994A 8A					txa
  1790 994B 49 FF				eor #255
  1791 994D 18					clc
  1792 994E 69 BD				adc #pozWyniki+12
  1793 9950 8D 00 D0				sta HPOSP
  1794 9953 8A					txa
  1795 9954 18					clc
  1796 9955 69 BC				adc #pozWyniki+11
  1797 9957 8D 01 D0				sta HPOSP+1
  1798 995A CA					dex
  1799 995B 10 E7				bpl @-
  1800 						
  1801 995D A9 24 85 3F				mva #$24 zegar
  1802 9961 A8					tay
  1803 9962 0A					asl
  1804 						
  1805 						
  1806 9963 C4 3F		@		cpy zegar
  1807 9965 F0 07				beq @+
  1808 9967 20 31 9D				jsr mryg_bomb
  1809 996A A4 3F				ldy zegar
  1810 996C 98					tya
  1811 996D 0A					asl
  1812 						
  1813 996E 8D 12 D0		@		sta COLPM
  1814 9971 8D 13 D0				sta COLPM+1
  1815 9974 18					clc
  1816 9975 69 03				adc #3
  1817 						
  1818 9977 A6 1E		@		ldx sirq
  1819 9979 D0 E8				bne @-2
  1820 						
  1821 997B A9 00 8D 3D 24			mva #0 speech
  1822 9980 8D 06 D2				sta AUDF4
  1823 						
  1824 9983 A5 3F				lda zegar
  1825 9985 C5 3F		@		cmp zegar
  1826 9987 F0 FC				beq @-
  1827 						
  1828 9989 A9 C0 8D 0E D4			mva #%11000000 NMIEN
  1829 						
  1830 998E A9 00 8D 15 D0			mva #0 COLPM+3
  1831 						
  1832 9993 20 B2 6C				jsr pokaz_duszki
  1833 9996 A9 00				lda #0
  1834 9998 AA					tax
  1835 9999 A8					tay
  1836 999A 99 30 FC		@		sta sprites1+$430,y
  1837 999D 99 31 FD				sta sprites1+$531,y
  1838 99A0 C8					iny
  1839 99A1 C8					iny
  1840 99A2 E8					inx
  1841 99A3 E0 48				cpx #72
  1842 99A5 D0 F3				bne @-
  1843 						
  1844 99A7 A9 00 85 3F				mva #0 zegar
  1845 						
  1846 99AB 60					rts 		
  1847
  1848 99AC 42 4C 41 53 54 00 + t_blastoff dta C'BLAST',b(0),C'OFF'
  1849
  1850 				;pisze napis CONDITION
  1851 = 99B5			piszCondition	equ *
  1852 99B5 A2 06		@		ldx #6
  1853 99B7 BD 88 8F		@		lda nap_condition,x
  1854 99BA 9D 40 1B				sta sprites+startWyniki+$300+48,x
  1855 99BD BD 8F 8F				lda nap_condition+7,x
  1856 99C0 9D 40 1C				sta sprites+startWyniki+$400+48,x
  1857 99C3 BD 96 8F				lda nap_condition+14,x
  1858 99C6 9D 40 1D				sta sprites+startWyniki+$500+48,x
  1859 99C9 BD 9D 8F				lda nap_condition+21,x
  1860 99CC 9D 40 1E				sta sprites+startWyniki+$600+48,x
  1861 99CF CA					dex
  1862 99D0 10 E5				bpl @-
  1863 						
  1864 99D2 A9 00				lda #0
  1865 99D4 8D 3F 1B				sta sprites+startWyniki+$300+47
  1866 99D7 8D 3F 1C				sta sprites+startWyniki+$400+47
  1867 99DA 8D 3F 1D				sta sprites+startWyniki+$500+47
  1868 99DD 8D 3F 1E				sta sprites+startWyniki+$600+47
  1869 						
  1870 99E0 A2 03				ldx #3
  1871 99E2 9D 47 1B		@		sta sprites+startWyniki+$300+55,x
  1872 99E5 9D 47 1D				sta sprites+startWyniki+$500+55,x
  1873 99E8 9D 47 1E				sta sprites+startWyniki+$600+55,x
  1874 99EB CA					dex
  1875 99EC 10 F4				bpl @-
  1876 							
  1877 99EE 60					rts
  1878 				;formation Attack
  1879 = 99EF			pisz_formation	equ *		
  1880 						.rept 12, #
  1881 						LDA NAP_FORM1+:1
  1882 						STA SPRITES+STARTWYNIKI+$300+48-1+:1
  1883 						LDA NAP_FORM1+12+:1
  1884 						STA SPRITES+STARTWYNIKI+$400+48-1+:1
  1885 						LDA NAP_FORM1+24+:1
  1886 						STA SPRITES+STARTWYNIKI+$500+48-1+:1
  1887 						LDA NAP_FORM1+36+:1
  1888 						STA SPRITES+STARTWYNIKI+$600+48-1+:1
  1889 						.ENDR
  1889 						.endr
Source: REPT
  1881 99EF AD 58 8F				LDA NAP_FORM1+0
  1881 99F2 8D 3F 1B				STA SPRITES+STARTWYNIKI+$300+48-1+0
  1881 99F5 AD 64 8F				LDA NAP_FORM1+12+0
  1881 99F8 8D 3F 1C				STA SPRITES+STARTWYNIKI+$400+48-1+0
  1881 99FB AD 70 8F				LDA NAP_FORM1+24+0
  1881 99FE 8D 3F 1D				STA SPRITES+STARTWYNIKI+$500+48-1+0
  1881 9A01 AD 7C 8F				LDA NAP_FORM1+36+0
  1881 9A04 8D 3F 1E				STA SPRITES+STARTWYNIKI+$600+48-1+0
  1881 9A07 AD 59 8F				LDA NAP_FORM1+1
  1881 9A0A 8D 40 1B				STA SPRITES+STARTWYNIKI+$300+48-1+1
  1881 9A0D AD 65 8F				LDA NAP_FORM1+12+1
  1881 9A10 8D 40 1C				STA SPRITES+STARTWYNIKI+$400+48-1+1
  1881 9A13 AD 71 8F				LDA NAP_FORM1+24+1
  1881 9A16 8D 40 1D				STA SPRITES+STARTWYNIKI+$500+48-1+1
  1881 9A19 AD 7D 8F				LDA NAP_FORM1+36+1
  1881 9A1C 8D 40 1E				STA SPRITES+STARTWYNIKI+$600+48-1+1
  1881 9A1F AD 5A 8F				LDA NAP_FORM1+2
  1881 9A22 8D 41 1B				STA SPRITES+STARTWYNIKI+$300+48-1+2
  1881 9A25 AD 66 8F				LDA NAP_FORM1+12+2
  1881 9A28 8D 41 1C				STA SPRITES+STARTWYNIKI+$400+48-1+2
  1881 9A2B AD 72 8F				LDA NAP_FORM1+24+2
  1881 9A2E 8D 41 1D				STA SPRITES+STARTWYNIKI+$500+48-1+2
  1881 9A31 AD 7E 8F				LDA NAP_FORM1+36+2
  1881 9A34 8D 41 1E				STA SPRITES+STARTWYNIKI+$600+48-1+2
  1881 9A37 AD 5B 8F				LDA NAP_FORM1+3
  1881 9A3A 8D 42 1B				STA SPRITES+STARTWYNIKI+$300+48-1+3
  1881 9A3D AD 67 8F				LDA NAP_FORM1+12+3
  1881 9A40 8D 42 1C				STA SPRITES+STARTWYNIKI+$400+48-1+3
  1881 9A43 AD 73 8F				LDA NAP_FORM1+24+3
  1881 9A46 8D 42 1D				STA SPRITES+STARTWYNIKI+$500+48-1+3
  1881 9A49 AD 7F 8F				LDA NAP_FORM1+36+3
  1881 9A4C 8D 42 1E				STA SPRITES+STARTWYNIKI+$600+48-1+3
  1881 9A4F AD 5C 8F				LDA NAP_FORM1+4
  1881 9A52 8D 43 1B				STA SPRITES+STARTWYNIKI+$300+48-1+4
  1881 9A55 AD 68 8F				LDA NAP_FORM1+12+4
  1881 9A58 8D 43 1C				STA SPRITES+STARTWYNIKI+$400+48-1+4
  1881 9A5B AD 74 8F				LDA NAP_FORM1+24+4
  1881 9A5E 8D 43 1D				STA SPRITES+STARTWYNIKI+$500+48-1+4
  1881 9A61 AD 80 8F				LDA NAP_FORM1+36+4
  1881 9A64 8D 43 1E				STA SPRITES+STARTWYNIKI+$600+48-1+4
  1881 9A67 AD 5D 8F				LDA NAP_FORM1+5
  1881 9A6A 8D 44 1B				STA SPRITES+STARTWYNIKI+$300+48-1+5
  1881 9A6D AD 69 8F				LDA NAP_FORM1+12+5
  1881 9A70 8D 44 1C				STA SPRITES+STARTWYNIKI+$400+48-1+5
  1881 9A73 AD 75 8F				LDA NAP_FORM1+24+5
  1881 9A76 8D 44 1D				STA SPRITES+STARTWYNIKI+$500+48-1+5
  1881 9A79 AD 81 8F				LDA NAP_FORM1+36+5
  1881 9A7C 8D 44 1E				STA SPRITES+STARTWYNIKI+$600+48-1+5
  1881 9A7F AD 5E 8F				LDA NAP_FORM1+6
  1881 9A82 8D 45 1B				STA SPRITES+STARTWYNIKI+$300+48-1+6
  1881 9A85 AD 6A 8F				LDA NAP_FORM1+12+6
  1881 9A88 8D 45 1C				STA SPRITES+STARTWYNIKI+$400+48-1+6
  1881 9A8B AD 76 8F				LDA NAP_FORM1+24+6
  1881 9A8E 8D 45 1D				STA SPRITES+STARTWYNIKI+$500+48-1+6
  1881 9A91 AD 82 8F				LDA NAP_FORM1+36+6
  1881 9A94 8D 45 1E				STA SPRITES+STARTWYNIKI+$600+48-1+6
  1881 9A97 AD 5F 8F				LDA NAP_FORM1+7
  1881 9A9A 8D 46 1B				STA SPRITES+STARTWYNIKI+$300+48-1+7
  1881 9A9D AD 6B 8F				LDA NAP_FORM1+12+7
  1881 9AA0 8D 46 1C				STA SPRITES+STARTWYNIKI+$400+48-1+7
  1881 9AA3 AD 77 8F				LDA NAP_FORM1+24+7
  1881 9AA6 8D 46 1D				STA SPRITES+STARTWYNIKI+$500+48-1+7
  1881 9AA9 AD 83 8F				LDA NAP_FORM1+36+7
  1881 9AAC 8D 46 1E				STA SPRITES+STARTWYNIKI+$600+48-1+7
  1881 9AAF AD 60 8F				LDA NAP_FORM1+8
  1881 9AB2 8D 47 1B				STA SPRITES+STARTWYNIKI+$300+48-1+8
  1881 9AB5 AD 6C 8F				LDA NAP_FORM1+12+8
  1881 9AB8 8D 47 1C				STA SPRITES+STARTWYNIKI+$400+48-1+8
  1881 9ABB AD 78 8F				LDA NAP_FORM1+24+8
  1881 9ABE 8D 47 1D				STA SPRITES+STARTWYNIKI+$500+48-1+8
  1881 9AC1 AD 84 8F				LDA NAP_FORM1+36+8
  1881 9AC4 8D 47 1E				STA SPRITES+STARTWYNIKI+$600+48-1+8
  1881 9AC7 AD 61 8F				LDA NAP_FORM1+9
  1881 9ACA 8D 48 1B				STA SPRITES+STARTWYNIKI+$300+48-1+9
  1881 9ACD AD 6D 8F				LDA NAP_FORM1+12+9
  1881 9AD0 8D 48 1C				STA SPRITES+STARTWYNIKI+$400+48-1+9
  1881 9AD3 AD 79 8F				LDA NAP_FORM1+24+9
  1881 9AD6 8D 48 1D				STA SPRITES+STARTWYNIKI+$500+48-1+9
  1881 9AD9 AD 85 8F				LDA NAP_FORM1+36+9
  1881 9ADC 8D 48 1E				STA SPRITES+STARTWYNIKI+$600+48-1+9
  1881 9ADF AD 62 8F				LDA NAP_FORM1+10
  1881 9AE2 8D 49 1B				STA SPRITES+STARTWYNIKI+$300+48-1+10
  1881 9AE5 AD 6E 8F				LDA NAP_FORM1+12+10
  1881 9AE8 8D 49 1C				STA SPRITES+STARTWYNIKI+$400+48-1+10
  1881 9AEB AD 7A 8F				LDA NAP_FORM1+24+10
  1881 9AEE 8D 49 1D				STA SPRITES+STARTWYNIKI+$500+48-1+10
  1881 9AF1 AD 86 8F				LDA NAP_FORM1+36+10
  1881 9AF4 8D 49 1E				STA SPRITES+STARTWYNIKI+$600+48-1+10
  1881 9AF7 AD 63 8F				LDA NAP_FORM1+11
  1881 9AFA 8D 4A 1B				STA SPRITES+STARTWYNIKI+$300+48-1+11
  1881 9AFD AD 6F 8F				LDA NAP_FORM1+12+11
  1881 9B00 8D 4A 1C				STA SPRITES+STARTWYNIKI+$400+48-1+11
  1881 9B03 AD 7B 8F				LDA NAP_FORM1+24+11
  1881 9B06 8D 4A 1D				STA SPRITES+STARTWYNIKI+$500+48-1+11
  1881 9B09 AD 87 8F				LDA NAP_FORM1+36+11
  1881 9B0C 8D 4A 1E				STA SPRITES+STARTWYNIKI+$600+48-1+11
Source: blevele.asm
  1890
  1891 						
  1892 9B0F AD 24 24				lda formacja_typ
  1893 9B12 0A					asl
  1894 9B13 0A					asl
  1895 9B14 0A					asl
  1896 9B15 0A					asl
  1897 9B16 A8					tay
  1898 9B17 A2 00				ldx #0
  1899 9B19 8E 4C 1C				stx sprites+startWyniki+$400+60
  1900 9B1C 8E 4D 1C				stx sprites+startWyniki+$400+61
  1901 9B1F 8E 4C 1B				stx sprites+startWyniki+$300+60
  1902 9B22 8E 4D 1B				stx sprites+startWyniki+$300+61
  1903 9B25 8E 55 1B				stx sprites+startWyniki+$300+69
  1904 9B28 8E 56 1B				stx sprites+startWyniki+$300+70
  1905 9B2B 8E 57 1B				stx sprites+startWyniki+$300+71
  1906 9B2E 8E 58 1B				stx sprites+startWyniki+$300+72
  1907 9B31 8E 59 1B				stx sprites+startWyniki+$300+73
  1908 9B34 8E 5A 1B				stx sprites+startWyniki+$300+74
  1909 9B37 8E 5B 1B				stx sprites+startWyniki+$300+75
  1910 						
  1911 						.rept 16, #
  1912 						LDA NAP_FORM2-16+:1,Y
  1913 						STA SPRITES+STARTWYNIKI+$400+62+:1
  1914 						.ENDR
  1914 						.endr
Source: REPT
  1912 9B3A B9 90 8E				LDA NAP_FORM2-16+0,Y
  1912 9B3D 8D 4E 1C				STA SPRITES+STARTWYNIKI+$400+62+0
  1912 9B40 B9 91 8E				LDA NAP_FORM2-16+1,Y
  1912 9B43 8D 4F 1C				STA SPRITES+STARTWYNIKI+$400+62+1
  1912 9B46 B9 92 8E				LDA NAP_FORM2-16+2,Y
  1912 9B49 8D 50 1C				STA SPRITES+STARTWYNIKI+$400+62+2
  1912 9B4C B9 93 8E				LDA NAP_FORM2-16+3,Y
  1912 9B4F 8D 51 1C				STA SPRITES+STARTWYNIKI+$400+62+3
  1912 9B52 B9 94 8E				LDA NAP_FORM2-16+4,Y
  1912 9B55 8D 52 1C				STA SPRITES+STARTWYNIKI+$400+62+4
  1912 9B58 B9 95 8E				LDA NAP_FORM2-16+5,Y
  1912 9B5B 8D 53 1C				STA SPRITES+STARTWYNIKI+$400+62+5
  1912 9B5E B9 96 8E				LDA NAP_FORM2-16+6,Y
  1912 9B61 8D 54 1C				STA SPRITES+STARTWYNIKI+$400+62+6
  1912 9B64 B9 97 8E				LDA NAP_FORM2-16+7,Y
  1912 9B67 8D 55 1C				STA SPRITES+STARTWYNIKI+$400+62+7
  1912 9B6A B9 98 8E				LDA NAP_FORM2-16+8,Y
  1912 9B6D 8D 56 1C				STA SPRITES+STARTWYNIKI+$400+62+8
  1912 9B70 B9 99 8E				LDA NAP_FORM2-16+9,Y
  1912 9B73 8D 57 1C				STA SPRITES+STARTWYNIKI+$400+62+9
  1912 9B76 B9 9A 8E				LDA NAP_FORM2-16+10,Y
  1912 9B79 8D 58 1C				STA SPRITES+STARTWYNIKI+$400+62+10
  1912 9B7C B9 9B 8E				LDA NAP_FORM2-16+11,Y
  1912 9B7F 8D 59 1C				STA SPRITES+STARTWYNIKI+$400+62+11
  1912 9B82 B9 9C 8E				LDA NAP_FORM2-16+12,Y
  1912 9B85 8D 5A 1C				STA SPRITES+STARTWYNIKI+$400+62+12
  1912 9B88 B9 9D 8E				LDA NAP_FORM2-16+13,Y
  1912 9B8B 8D 5B 1C				STA SPRITES+STARTWYNIKI+$400+62+13
  1912 9B8E B9 9E 8E				LDA NAP_FORM2-16+14,Y
  1912 9B91 8D 5C 1C				STA SPRITES+STARTWYNIKI+$400+62+14
  1912 9B94 B9 9F 8E				LDA NAP_FORM2-16+15,Y
  1912 9B97 8D 5D 1C				STA SPRITES+STARTWYNIKI+$400+62+15
Source: blevele.asm
  1915 						
  1916 9B9A 8A					txa
  1917 						.rept 16, #
  1918 						STA SPRITES+STARTWYNIKI+$300+62+:1
  1919 						STA SPRITES+STARTWYNIKI+$500+60+:1
  1920 						STA SPRITES+STARTWYNIKI+$600+60+:1
  1921 						.ENDR
  1921 						.endr
Source: REPT
  1918 9B9B 8D 4E 1B				STA SPRITES+STARTWYNIKI+$300+62+0
  1918 9B9E 8D 4C 1D				STA SPRITES+STARTWYNIKI+$500+60+0
  1918 9BA1 8D 4C 1E				STA SPRITES+STARTWYNIKI+$600+60+0
  1918 9BA4 8D 4F 1B				STA SPRITES+STARTWYNIKI+$300+62+1
  1918 9BA7 8D 4D 1D				STA SPRITES+STARTWYNIKI+$500+60+1
  1918 9BAA 8D 4D 1E				STA SPRITES+STARTWYNIKI+$600+60+1
  1918 9BAD 8D 50 1B				STA SPRITES+STARTWYNIKI+$300+62+2
  1918 9BB0 8D 4E 1D				STA SPRITES+STARTWYNIKI+$500+60+2
  1918 9BB3 8D 4E 1E				STA SPRITES+STARTWYNIKI+$600+60+2
  1918 9BB6 8D 51 1B				STA SPRITES+STARTWYNIKI+$300+62+3
  1918 9BB9 8D 4F 1D				STA SPRITES+STARTWYNIKI+$500+60+3
  1918 9BBC 8D 4F 1E				STA SPRITES+STARTWYNIKI+$600+60+3
  1918 9BBF 8D 52 1B				STA SPRITES+STARTWYNIKI+$300+62+4
  1918 9BC2 8D 50 1D				STA SPRITES+STARTWYNIKI+$500+60+4
  1918 9BC5 8D 50 1E				STA SPRITES+STARTWYNIKI+$600+60+4
  1918 9BC8 8D 53 1B				STA SPRITES+STARTWYNIKI+$300+62+5
  1918 9BCB 8D 51 1D				STA SPRITES+STARTWYNIKI+$500+60+5
  1918 9BCE 8D 51 1E				STA SPRITES+STARTWYNIKI+$600+60+5
  1918 9BD1 8D 54 1B				STA SPRITES+STARTWYNIKI+$300+62+6
  1918 9BD4 8D 52 1D				STA SPRITES+STARTWYNIKI+$500+60+6
  1918 9BD7 8D 52 1E				STA SPRITES+STARTWYNIKI+$600+60+6
  1918 9BDA 8D 55 1B				STA SPRITES+STARTWYNIKI+$300+62+7
  1918 9BDD 8D 53 1D				STA SPRITES+STARTWYNIKI+$500+60+7
  1918 9BE0 8D 53 1E				STA SPRITES+STARTWYNIKI+$600+60+7
  1918 9BE3 8D 56 1B				STA SPRITES+STARTWYNIKI+$300+62+8
  1918 9BE6 8D 54 1D				STA SPRITES+STARTWYNIKI+$500+60+8
  1918 9BE9 8D 54 1E				STA SPRITES+STARTWYNIKI+$600+60+8
  1918 9BEC 8D 57 1B				STA SPRITES+STARTWYNIKI+$300+62+9
  1918 9BEF 8D 55 1D				STA SPRITES+STARTWYNIKI+$500+60+9
  1918 9BF2 8D 55 1E				STA SPRITES+STARTWYNIKI+$600+60+9
  1918 9BF5 8D 58 1B				STA SPRITES+STARTWYNIKI+$300+62+10
  1918 9BF8 8D 56 1D				STA SPRITES+STARTWYNIKI+$500+60+10
  1918 9BFB 8D 56 1E				STA SPRITES+STARTWYNIKI+$600+60+10
  1918 9BFE 8D 59 1B				STA SPRITES+STARTWYNIKI+$300+62+11
  1918 9C01 8D 57 1D				STA SPRITES+STARTWYNIKI+$500+60+11
  1918 9C04 8D 57 1E				STA SPRITES+STARTWYNIKI+$600+60+11
  1918 9C07 8D 5A 1B				STA SPRITES+STARTWYNIKI+$300+62+12
  1918 9C0A 8D 58 1D				STA SPRITES+STARTWYNIKI+$500+60+12
  1918 9C0D 8D 58 1E				STA SPRITES+STARTWYNIKI+$600+60+12
  1918 9C10 8D 5B 1B				STA SPRITES+STARTWYNIKI+$300+62+13
  1918 9C13 8D 59 1D				STA SPRITES+STARTWYNIKI+$500+60+13
  1918 9C16 8D 59 1E				STA SPRITES+STARTWYNIKI+$600+60+13
  1918 9C19 8D 5C 1B				STA SPRITES+STARTWYNIKI+$300+62+14
  1918 9C1C 8D 5A 1D				STA SPRITES+STARTWYNIKI+$500+60+14
  1918 9C1F 8D 5A 1E				STA SPRITES+STARTWYNIKI+$600+60+14
  1918 9C22 8D 5D 1B				STA SPRITES+STARTWYNIKI+$300+62+15
  1918 9C25 8D 5B 1D				STA SPRITES+STARTWYNIKI+$500+60+15
  1918 9C28 8D 5B 1E				STA SPRITES+STARTWYNIKI+$600+60+15
Source: blevele.asm
  1922 						
  1923 9C2B 60					rts
  1924
  1925 = 9C2C			poprawlives1	equ *
  1926 9C2C A9 00			lda #0
  1927 9C2E 8D 29 08 8D 2A 08 + 	:7 sta obraz1+33+24*48+#
  1928 9C43 8D 59 08 8D 5A 08 + 	:7 sta obraz1+33+25*48+#
  1929 9C58 8D 89 08 8D 8A 08 + 	:7 sta obraz1+33+26*48+#
  1930 					
  1931 9C6D 60				rts
  1932 					
  1933 = 9C6E			poprawlives2	equ *
  1934 9C6E A9 00			lda #0
  1935 9C70 8D 21 0F 8D 22 0F + 	:7 sta obraz2+33+24*48+#
  1936 9C85 8D 51 0F 8D 52 0F + 	:7 sta obraz2+33+25*48+#
  1937 9C9A 8D 81 0F 8D 82 0F + 	:7 sta obraz2+33+26*48+#
  1938 					
  1939 9CAF 60				rts	
  1940 					   
  1941 = 9CB0			pisz_zycia	equ *
  1942 9CB0 A2 0F			ldx #15
  1943 9CB2 BD E0 8E		@	lda statek_zapas,x
  1944 9CB5 9D D0 1C			sta sprites+startWyniki+$4c0,x
  1945 9CB8 9D D0 1D			sta sprites+startWyniki+$5c0,x
  1946 9CBB 9D D0 1E			sta sprites+startWyniki+$6c0,x
  1947 9CBE CA				dex
  1948 9CBF 10 F1			bpl @-
  1949 					
  1950 9CC1 A2 09			ldx #9
  1951 9CC3 BD C0 8F		@	lda statekm_zapas,x
  1952 9CC6 9D D6 1B			sta sprites+startWyniki+$3c6,x
  1953 9CC9 CA				dex
  1954 9CCA 10 F7			bpl @-
  1955 					
  1956 9CCC 60				rts
  1957
  1958 = 9CCD			czysc_duszki	equ *
  1959 9CCD A9 00			lda #0
  1960 9CCF AA				tax
  1961 9CD0 9D 00 1B		@	sta sprites+$300,x
  1962 9CD3 9D 00 1C			sta sprites+$400,x
  1963 9CD6 9D 00 1D			sta sprites+$500,x
  1964 9CD9 9D 00 1E			sta sprites+$600,x
  1965 9CDC 9D 00 FB			sta sprites1+$300,x
  1966 9CDF 9D 00 FC			sta sprites1+$400,x
  1967 9CE2 9D 00 FD			sta sprites1+$500,x
  1968 9CE5 9D 00 FE			sta sprites1+$600,x
  1969 9CE8 CA				dex
  1970 9CE9 D0 E5			bne @-
  1971 9CEB 60				rts	
  1972
  1973 = 9CEC			pisz_panel	equ *
  1974 9CEC A2 06			ldx #6
  1975 9CEE BD A4 8F		@	lda nap_hiscore,x
  1976 9CF1 9D 10 1B			sta sprites+startWyniki+$300,x
  1977 9CF4 BD AB 8F			lda nap_hiscore+7,x
  1978 9CF7 9D 10 1C			sta sprites+startWyniki+$400,x
  1979 9CFA BD B2 8F			lda nap_hiscore+14,x
  1980 9CFD 9D 10 1D			sta sprites+startWyniki+$500,x
  1981 9D00 BD B9 8F			lda nap_hiscore+21,x
  1982 9D03 9D 10 1E			sta sprites+startWyniki+$600,x
  1983 9D06 BD F0 8E			lda nap_1up,x
  1984 9D09 9D 22 1C			sta sprites+$421+1,x
  1985 9D0C BD F7 8E			lda nap_1up+7,x
  1986 9D0F 9D 22 1D			sta sprites+$521+1,x
  1987 					;lda nap_0,x
  1988 9D12 BD 00 8E			lda cyfra1,x
  1989 9D15 9D 19 1B			sta sprites+$319,x
  1990 9D18 9D 2A 1B			sta sprites+$32A,x
  1991 9D1B BD CA 8F			lda nap_round,x
  1992 9D1E 9D E6 1B			sta sprites+$3e9-3,x
  1993 9D21 BD D1 8F			lda nap_round+7,x
  1994 9D24 9D E6 1C			sta sprites+$4e9-3,x
  1995 9D27 BD D8 8F			lda nap_round+14,x
  1996 9D2A 9D E6 1D			sta sprites+$5e9-3,x
  1997 9D2D CA				dex
  1998 9D2E 10 BE			bpl @-
  1999
  2000 9D30 60				rts
  2001
  2002 9D31			mryg_bomb
  2003 9D31 48					pha
  2004 9D32 A5 3F				lda zegar
  2005 9D34 29 01				and #1
  2006 9D36 D0 02				bne @+
  2007 9D38 68					pla
  2008 9D39 60					rts
  2009 = 9D3A			@		equ *
  2010 				.rept 32, #		
  2011 						LDA ZNAKI1+FIRSTBOMBACHAR*8+:1
  2012 						STA STRZ0
  2013 						LDA ZNAKI2+FIRSTBOMBACHAR*8+:1
  2014 						STA ZNAKI1+FIRSTBOMBACHAR*8+:1
  2015 						LDA STRZ0
  2016 						STA ZNAKI2+FIRSTBOMBACHAR*8+:1
  2017 				.ENDR		
  2017 				.endr		
Source: REPT
  2011 9D3A AD F8 B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+0
  2011 9D3D 85 79				STA STRZ0
  2011 9D3F AD F8 BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+0
  2011 9D42 8D F8 B8				STA ZNAKI1+FIRSTBOMBACHAR*8+0
  2011 9D45 A5 79				LDA STRZ0
  2011 9D47 8D F8 BC				STA ZNAKI2+FIRSTBOMBACHAR*8+0
  2011 9D4A AD F9 B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+1
  2011 9D4D 85 79				STA STRZ0
  2011 9D4F AD F9 BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+1
  2011 9D52 8D F9 B8				STA ZNAKI1+FIRSTBOMBACHAR*8+1
  2011 9D55 A5 79				LDA STRZ0
  2011 9D57 8D F9 BC				STA ZNAKI2+FIRSTBOMBACHAR*8+1
  2011 9D5A AD FA B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+2
  2011 9D5D 85 79				STA STRZ0
  2011 9D5F AD FA BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+2
  2011 9D62 8D FA B8				STA ZNAKI1+FIRSTBOMBACHAR*8+2
  2011 9D65 A5 79				LDA STRZ0
  2011 9D67 8D FA BC				STA ZNAKI2+FIRSTBOMBACHAR*8+2
  2011 9D6A AD FB B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+3
  2011 9D6D 85 79				STA STRZ0
  2011 9D6F AD FB BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+3
  2011 9D72 8D FB B8				STA ZNAKI1+FIRSTBOMBACHAR*8+3
  2011 9D75 A5 79				LDA STRZ0
  2011 9D77 8D FB BC				STA ZNAKI2+FIRSTBOMBACHAR*8+3
  2011 9D7A AD FC B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+4
  2011 9D7D 85 79				STA STRZ0
  2011 9D7F AD FC BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+4
  2011 9D82 8D FC B8				STA ZNAKI1+FIRSTBOMBACHAR*8+4
  2011 9D85 A5 79				LDA STRZ0
  2011 9D87 8D FC BC				STA ZNAKI2+FIRSTBOMBACHAR*8+4
  2011 9D8A AD FD B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+5
  2011 9D8D 85 79				STA STRZ0
  2011 9D8F AD FD BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+5
  2011 9D92 8D FD B8				STA ZNAKI1+FIRSTBOMBACHAR*8+5
  2011 9D95 A5 79				LDA STRZ0
  2011 9D97 8D FD BC				STA ZNAKI2+FIRSTBOMBACHAR*8+5
  2011 9D9A AD FE B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+6
  2011 9D9D 85 79				STA STRZ0
  2011 9D9F AD FE BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+6
  2011 9DA2 8D FE B8				STA ZNAKI1+FIRSTBOMBACHAR*8+6
  2011 9DA5 A5 79				LDA STRZ0
  2011 9DA7 8D FE BC				STA ZNAKI2+FIRSTBOMBACHAR*8+6
  2011 9DAA AD FF B8				LDA ZNAKI1+FIRSTBOMBACHAR*8+7
  2011 9DAD 85 79				STA STRZ0
  2011 9DAF AD FF BC				LDA ZNAKI2+FIRSTBOMBACHAR*8+7
  2011 9DB2 8D FF B8				STA ZNAKI1+FIRSTBOMBACHAR*8+7
  2011 9DB5 A5 79				LDA STRZ0
  2011 9DB7 8D FF BC				STA ZNAKI2+FIRSTBOMBACHAR*8+7
  2011 9DBA AD 00 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+8
  2011 9DBD 85 79				STA STRZ0
  2011 9DBF AD 00 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+8
  2011 9DC2 8D 00 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+8
  2011 9DC5 A5 79				LDA STRZ0
  2011 9DC7 8D 00 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+8
  2011 9DCA AD 01 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+9
  2011 9DCD 85 79				STA STRZ0
  2011 9DCF AD 01 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+9
  2011 9DD2 8D 01 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+9
  2011 9DD5 A5 79				LDA STRZ0
  2011 9DD7 8D 01 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+9
  2011 9DDA AD 02 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+10
  2011 9DDD 85 79				STA STRZ0
  2011 9DDF AD 02 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+10
  2011 9DE2 8D 02 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+10
  2011 9DE5 A5 79				LDA STRZ0
  2011 9DE7 8D 02 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+10
  2011 9DEA AD 03 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+11
  2011 9DED 85 79				STA STRZ0
  2011 9DEF AD 03 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+11
  2011 9DF2 8D 03 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+11
  2011 9DF5 A5 79				LDA STRZ0
  2011 9DF7 8D 03 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+11
  2011 9DFA AD 04 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+12
  2011 9DFD 85 79				STA STRZ0
  2011 9DFF AD 04 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+12
  2011 9E02 8D 04 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+12
  2011 9E05 A5 79				LDA STRZ0
  2011 9E07 8D 04 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+12
  2011 9E0A AD 05 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+13
  2011 9E0D 85 79				STA STRZ0
  2011 9E0F AD 05 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+13
  2011 9E12 8D 05 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+13
  2011 9E15 A5 79				LDA STRZ0
  2011 9E17 8D 05 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+13
  2011 9E1A AD 06 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+14
  2011 9E1D 85 79				STA STRZ0
  2011 9E1F AD 06 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+14
  2011 9E22 8D 06 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+14
  2011 9E25 A5 79				LDA STRZ0
  2011 9E27 8D 06 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+14
  2011 9E2A AD 07 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+15
  2011 9E2D 85 79				STA STRZ0
  2011 9E2F AD 07 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+15
  2011 9E32 8D 07 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+15
  2011 9E35 A5 79				LDA STRZ0
  2011 9E37 8D 07 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+15
  2011 9E3A AD 08 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+16
  2011 9E3D 85 79				STA STRZ0
  2011 9E3F AD 08 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+16
  2011 9E42 8D 08 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+16
  2011 9E45 A5 79				LDA STRZ0
  2011 9E47 8D 08 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+16
  2011 9E4A AD 09 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+17
  2011 9E4D 85 79				STA STRZ0
  2011 9E4F AD 09 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+17
  2011 9E52 8D 09 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+17
  2011 9E55 A5 79				LDA STRZ0
  2011 9E57 8D 09 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+17
  2011 9E5A AD 0A B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+18
  2011 9E5D 85 79				STA STRZ0
  2011 9E5F AD 0A BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+18
  2011 9E62 8D 0A B9				STA ZNAKI1+FIRSTBOMBACHAR*8+18
  2011 9E65 A5 79				LDA STRZ0
  2011 9E67 8D 0A BD				STA ZNAKI2+FIRSTBOMBACHAR*8+18
  2011 9E6A AD 0B B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+19
  2011 9E6D 85 79				STA STRZ0
  2011 9E6F AD 0B BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+19
  2011 9E72 8D 0B B9				STA ZNAKI1+FIRSTBOMBACHAR*8+19
  2011 9E75 A5 79				LDA STRZ0
  2011 9E77 8D 0B BD				STA ZNAKI2+FIRSTBOMBACHAR*8+19
  2011 9E7A AD 0C B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+20
  2011 9E7D 85 79				STA STRZ0
  2011 9E7F AD 0C BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+20
  2011 9E82 8D 0C B9				STA ZNAKI1+FIRSTBOMBACHAR*8+20
  2011 9E85 A5 79				LDA STRZ0
  2011 9E87 8D 0C BD				STA ZNAKI2+FIRSTBOMBACHAR*8+20
  2011 9E8A AD 0D B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+21
  2011 9E8D 85 79				STA STRZ0
  2011 9E8F AD 0D BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+21
  2011 9E92 8D 0D B9				STA ZNAKI1+FIRSTBOMBACHAR*8+21
  2011 9E95 A5 79				LDA STRZ0
  2011 9E97 8D 0D BD				STA ZNAKI2+FIRSTBOMBACHAR*8+21
  2011 9E9A AD 0E B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+22
  2011 9E9D 85 79				STA STRZ0
  2011 9E9F AD 0E BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+22
  2011 9EA2 8D 0E B9				STA ZNAKI1+FIRSTBOMBACHAR*8+22
  2011 9EA5 A5 79				LDA STRZ0
  2011 9EA7 8D 0E BD				STA ZNAKI2+FIRSTBOMBACHAR*8+22
  2011 9EAA AD 0F B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+23
  2011 9EAD 85 79				STA STRZ0
  2011 9EAF AD 0F BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+23
  2011 9EB2 8D 0F B9				STA ZNAKI1+FIRSTBOMBACHAR*8+23
  2011 9EB5 A5 79				LDA STRZ0
  2011 9EB7 8D 0F BD				STA ZNAKI2+FIRSTBOMBACHAR*8+23
  2011 9EBA AD 10 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+24
  2011 9EBD 85 79				STA STRZ0
  2011 9EBF AD 10 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+24
  2011 9EC2 8D 10 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+24
  2011 9EC5 A5 79				LDA STRZ0
  2011 9EC7 8D 10 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+24
  2011 9ECA AD 11 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+25
  2011 9ECD 85 79				STA STRZ0
  2011 9ECF AD 11 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+25
  2011 9ED2 8D 11 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+25
  2011 9ED5 A5 79				LDA STRZ0
  2011 9ED7 8D 11 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+25
  2011 9EDA AD 12 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+26
  2011 9EDD 85 79				STA STRZ0
  2011 9EDF AD 12 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+26
  2011 9EE2 8D 12 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+26
  2011 9EE5 A5 79				LDA STRZ0
  2011 9EE7 8D 12 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+26
  2011 9EEA AD 13 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+27
  2011 9EED 85 79				STA STRZ0
  2011 9EEF AD 13 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+27
  2011 9EF2 8D 13 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+27
  2011 9EF5 A5 79				LDA STRZ0
  2011 9EF7 8D 13 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+27
  2011 9EFA AD 14 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+28
  2011 9EFD 85 79				STA STRZ0
  2011 9EFF AD 14 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+28
  2011 9F02 8D 14 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+28
  2011 9F05 A5 79				LDA STRZ0
  2011 9F07 8D 14 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+28
  2011 9F0A AD 15 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+29
  2011 9F0D 85 79				STA STRZ0
  2011 9F0F AD 15 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+29
  2011 9F12 8D 15 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+29
  2011 9F15 A5 79				LDA STRZ0
  2011 9F17 8D 15 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+29
  2011 9F1A AD 16 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+30
  2011 9F1D 85 79				STA STRZ0
  2011 9F1F AD 16 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+30
  2011 9F22 8D 16 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+30
  2011 9F25 A5 79				LDA STRZ0
  2011 9F27 8D 16 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+30
  2011 9F2A AD 17 B9				LDA ZNAKI1+FIRSTBOMBACHAR*8+31
  2011 9F2D 85 79				STA STRZ0
  2011 9F2F AD 17 BD				LDA ZNAKI2+FIRSTBOMBACHAR*8+31
  2011 9F32 8D 17 B9				STA ZNAKI1+FIRSTBOMBACHAR*8+31
  2011 9F35 A5 79				LDA STRZ0
  2011 9F37 8D 17 BD				STA ZNAKI2+FIRSTBOMBACHAR*8+31
Source: blevele.asm
  2018 						
  2019 = 9F3A			mr_b1	equ *
  2020 9F3A 68					pla
  2021 9F3B 60					rts		
   341 							
   342 							
   343 							
   344 							;GLOWNY PROGRAM
   345 9F3C 36 50 4A 8A BA 34 + kol_tab	.he 36,50,4a,8a,ba,34,b8,ea,34,28,34
   346 9F47 46 62 5A 98 CA 44 + 		.he 46,62,5a,98,ca,44,c8,fc,46,38,44
   347 						
   348 = 9F52			czarp1	equ *
   349 9F52 B5 B5 B5 B5				:4 dta b(%10110101)
   350 9F56 FF FF				:2 dta b(255)
   351 9F58 A5					dta b(%10100101)
   352 9F59 FF					dta b(255)
   353 9F5A B5 B5				:2 dta b(%10110101)
   354 						
   355 = 9F5C			livesRed	equ *
   356 9F5C A2 09					ldx #9
   357 9F5E BD 52 9F		@			lda czarp1,x
   358 9F61 9D D6 1F					sta sprites+startWyniki+$7c6,x
   359 9F64 CA						dex
   360 9F65 10 F7					bpl @-
   361 9F67 60						rts
   362 							
   363 = 9F68			livesRedOff	equ *
   364 9F68 A2 09					ldx #9
   365 9F6A A9 FF					lda #255
   366 9F6C 9D D6 1F		@			sta sprites+startWyniki+$7c6,x
   367 9F6F CA						dex
   368 9F70 10 FA					bpl @-
   369 9F72 60						rts
   370 						
   371 = 9F73			czarnyPanel	equ	*
   372 9F73 A9 FF					lda #255  
   373 9F75 A2 00					ldx #0
   374 9F77 9D 00 1F		@			sta sprites+$700,x  ;wypelniamy 4 duszka
   375 9F7A CA						dex
   376 9F7B D0 FA					bne @-
   377 							
   378 9F7D A2 F0					ldx #240
   379 9F7F 9D 00 FF		@			sta sprites1+$700,x
   380 9F82 CA						dex
   381 9F83 D0 FA					bne @-
   382 							
   383 							
   384 							
   385 9F85 8D 0C FF					sta sprites1+$700+12
   386 9F88 8D F2 FF					sta sprites1+$700+242
   387 9F8B A9 FF					lda #255	;#126
   388 9F8D 8D 0A FF					sta sprites1+$700+10
   389 9F90 8D F4 FF					sta sprites1+$700+244
   390 9F93 A9 FF					lda #255	;#60
   391 9F95 8D 08 FF					sta sprites1+$700+8
   392 9F98 8D F6 FF					sta sprites1+$700+246
   393 							
   394 9F9B A9 00					lda #0
   395 9F9D 8D 0D FF					sta sprites1+$700+13
   396 9FA0 8D 0B FF					sta sprites1+$700+11
   397 9FA3 8D 09 FF					sta sprites1+$700+9
   398 9FA6 8D F1 FF					sta sprites1+$700+241
   399 9FA9 8D F3 FF					sta sprites1+$700+243
   400 9FAC 8D F5 FF					sta sprites1+$700+245
   401 9FAF 8D F7 FF					sta sprites1+$700+247
   402 							
   403 9FB2 60						rts
   404
   405 							
   406 = 9FB3			spriteOn	equ *
   407 9FB3 20 CD 9C					jsr czysc_duszki
   408 9FB6 20 B5 99					jsr piszCondition
   409 9FB9 20 B0 9C					jsr pisz_zycia
   410 9FBC 20 EC 9C					jsr pisz_panel
   411 							
   412 9FBF 20 73 9F					jsr czarnyPanel
   413 							
   414 9FC2 A9 03					lda #3
   415 9FC4 8D 1D D0					sta PMCTL   ;wlaczenie spritow
   416 9FC7 A9 18					lda #>sprites
   417 9FC9 8D 07 D4					sta PMBASE ;adres obrazu duszkow
   418 9FCC A9 01					lda #1
   419 							
   420 9FCE 8D 1B D0					sta GTIACTL	
   421 							
   422 9FD1 A9 03					lda #3
   423 9FD3 8D 0B D0					sta SIZEP+3
   424 9FD6 A9 00					lda #0
   425 9FD8 8D 15 D0					sta COLPM+3
   426 							
   427 							
   428 9FDB 60						rts
   429
   430
   431
   432
   433 9FDC 00			newPoziom		dta b(0)
   434 							
   435 9FDD 00			antyairOpoznienie dta b(0)
   436
   437 				;sampleDiv	equ $1200	;druga strona, tablica podziału próbki przez 4
   438 = 1300			tabX	equ $1300		
   439 = 1400			tabDiv100	equ $1400
   440 = 1500			adresZnakL	equ $1500
   441 = 1600			adresZnakH	equ $1600
   442
   443 = 1800			sprites 	equ $1800		;+$300 = od $1B00 do $2000-1 efektywnie
   444
   445 = 1700			obraz1La	equ $1700
   446 = 1725			obraz1Ha	equ obraz1La+37
   447 = 174A			obraz2La	equ obraz1Ha+37
   448 = 176F			obraz2Ha	equ obraz2La+37
   449 = 1794			dlist		equ obraz2Ha+37 ;35 bajtów, zajete 183 bajty na tej stronie
   450
   451 = 1800			obraz1L		equ $1800 			;za samplami
   452 = 181D			obraz1H		equ obraz1L+29
   453 = 183A			obraz2L		equ obraz1H+29
   454 = 1857			obraz2H		equ obraz2L+29
   455
   456
   457 = 9FDE			run		equ *	
   458 9FDE A9 00 8D 2F 02			mva #0 DMACTLS		;ukryj ekran
   459 9FE3 8D 00 D4				sta DMACTL
   460 9FE6 85 22				sta stan_gry
   461 						
   462 						;lda #0
   463 9FE8 8D 08 D2				sta $d208
   464 9FEB A0 03				ldy #3
   465 9FED 8C 0F D2				sty $d20f
   466 						
   467 9FF0 78					sei
   468 9FF1 A9 00 8D 0E D4			mva #0 NMIEN
   469 9FF6 8D 0E D2				sta $d20e
   470 9FF9 8D 07 D0				sta HPOSM+3
   471 9FFC A9 B0				lda #pozWyniki-1
   472 9FFE 8D 03 D0				sta HPOSP+3
   473 						
   474 						
   475 A001 AD 0B D4		@		lda vcount
   476 A004 D0 FB				bne @-
   477 						
   478
   479 A006 AD 0B D4		@		lda vcount
   480 A009 CD 0B D4		@		cmp vcount
   481 A00C F0 FB				beq @-
   482 A00E 90 F6				bcc @-1
   483 						
   484 A010 A2 00				ldx #0
   485 A012 C9 8C				cmp #140
   486 A014 B0 02				bcs *+4
   487 A016 A2 01				ldx #1
   488 A018 8E 11 12				stx ntscf			;0=pal,1=ntsc
   489 						
   490 						
   491 A01B A9 00 85 2B				mva #<asteroid_dat kanal_audf1
   492 A01F 85 2D				sta kanal_audf2
   493 A021 85 2F				sta kanal_audf3
   494 A023 A9 74 85 2C				mva #>asteroid_dat kanal_audf1+1
   495 A027 85 2E				sta kanal_audf2+1
   496 A029 85 30				sta kanal_audf3+1
   497 A02B A9 78 85 31				mva #<asteroid1_dat kanal_audc1
   498 A02F 85 33				sta kanal_audc2
   499 A031 85 35				sta kanal_audc3
   500 A033 A9 76 85 32				mva #>asteroid1_dat kanal_audc1+1
   501 A037 85 34				sta kanal_audc2+1
   502 A039 85 36				sta kanal_audc3+1
   503 						
   504 A03B A0 00				ldy #0
   505 A03D A2 00				ldx #0
   506 A03F AD 14 D0				lda $d014
   507 A042 29 0E				and #$0e
   508 A044 F0 02				beq @+
   509 A046 A2 0B				ldx #ile_kolorow
   510 A048 BD 3C 9F		@		lda kol_tab,x
   511 A04B 99 12 12				sta kolorCzerwony,y
   512 A04E E8					inx
   513 A04F C8					iny
   514 A050 C0 0B				cpy #ile_kolorow
   515 A052 D0 F4				bne @-
   516 						
   517 A054 A2 02				ldx #2
   518 A056 BD 18 12		@		lda kolorGreen,x
   519 A059 9D 8B 8A				sta conditionC,x
   520 A05C CA					dex
   521 A05D 10 F7				bpl @-
   522 						
   523 						
   524 A05F A9 FE 8D 01 D3			mva #BANK0 PORTB		;wylaczamy bios
   525 						
   526 A064 A9 85 8D FA FF			mva <nmi $fffa
   527 A069 A9 21 8D FB FF			mva >nmi $fffa+1
   528 A06E A9 DD 8D FE FF A9 + 		mwa #pokey $fffe
   529 						
   530 A078 A9 8D 8D 00 02 A9 + 		mwa #dli DLIV ;wektor przerwania dli
   531 						
   532 A082 A9 40 8D 0E D4			mva #%01000000 NMIEN ;zezwolenia na przerwania dli _+ VBLK
   533 A087 58					cli
   534 					
   535 						;INIT TABLIC
   536 								
   537
   538 						
   539 						;tablica podziału przez x*100/256=x*25/64
   540 A088 A2 00				ldx #0
   541 A08A 86 69		@		stx pom
   542 A08C A9 00				lda #0
   543 A08E 85 6A				sta pom+1
   544 						;x*25
   545 A090 A0 18				ldy #25-1		;o 1 mniej bo w pom juz jest x
   546 A092 18			@		clc
   547 A093 8A					txa
   548 A094 65 69				adc pom
   549 A096 85 69				sta pom
   550 A098 A5 6A				lda pom+1
   551 A09A 69 00				adc #0
   552 A09C 85 6A				sta pom+1
   553 A09E 88					dey
   554 A09F D0 F1				bne @-
   555 						;/64  przesun o 6 w prawo czyli latwiej o 2 w lewo
   556 A0A1 A5 6A				lda pom+1
   557 A0A3 06 69				asl pom
   558 A0A5 2A					rol
   559 A0A6 06 69				asl pom
   560 A0A8 2A					rol 
   561 						;zapisz w tablicy
   562 A0A9 9D 00 14				sta tabDiv100,x
   563 A0AC E8					inx
   564 A0AD D0 DB				bne @-1
   565 						
   566 						;tabX
   567 A0AF A0 50				ldy #80
   568 A0B1 A2 D0				ldx #208
   569 A0B3 8A			@		txa
   570 A0B4 9D 00 13				sta tabx,x		;od 208 do 79 -> (208-79)
   571 A0B7 99 00 13				sta tabX,y		;od 80 do 207 -> (208-79)
   572 A0BA C8					iny
   573 A0BB E8					inx
   574 A0BC E0 50				cpx #80
   575 A0BE D0 F3				bne @-
   576 						
   577 						;adresy znaków
   578 A0C0 A9 00 85 69 A9 B8 + 		mwa #znaki1	pom
   579 A0C8 A0 00				ldy #0
   580 A0CA A5 69		@		lda pom
   581 A0CC 99 00 15				sta adresZnakL,y
   582 A0CF 99 80 15				sta adresZnakL+128,y
   583 A0D2 A5 6A				lda pom+1
   584 A0D4 99 00 16				sta adresZnakH,y
   585 A0D7 99 80 16				sta adresZnakH+128,y
   586 A0DA 18					clc
   587 A0DB A5 69				lda pom
   588 A0DD 69 08				adc #8
   589 A0DF 85 69				sta pom
   590 A0E1 90 02				bcc @+
   591 A0E3 E6 6A				inc pom+1
   592 A0E5 C8			@		iny
   593 A0E6 C0 80				cpy #128
   594 A0E8 D0 E0				bne @-1
   595 						
   596 						;adresy linii obraz1a
   597 A0EA A9 00 85 69 A9 02 + 		mwa #obraz1a pom
   598 A0F2 A9 F8 85 6B A9 08 + 		mwa #obraz2a pom1
   599 A0FA A0 00				ldy #0
   600 A0FC A5 69		@		lda pom
   601 A0FE 99 00 17				sta obraz1La,y
   602 A101 A5 6A				lda pom+1
   603 A103 99 25 17				sta obraz1Ha,y
   604 A106 A5 6B				lda pom1
   605 A108 99 4A 17				sta obraz2La,y
   606 A10B A5 6C				lda pom1+1
   607 A10D 99 6F 17				sta obraz2Ha,y
   608 A110 18					clc
   609 A111 A5 69				lda pom
   610 A113 69 30				adc #48
   611 A115 85 69				sta pom
   612 A117 90 02				bcc @+
   613 A119 E6 6A				inc pom+1
   614 A11B 18			@		clc
   615 A11C A5 6B				lda pom1
   616 A11E 69 30				adc #48
   617 A120 85 6B				sta pom1
   618 A122 90 02				bcc @+
   619 A124 E6 6C				inc pom1+1
   620 A126 C8			@		iny
   621 A127 C0 25				cpy #37
   622 A129 D0 D1				bne @-2
   623 						
   624 						;adresy linii obraz1LH
   625 A12B A9 88 85 69 A9 03 + 		mwa #obraz1 pom
   626 A133 A9 80 85 6B A9 0A + 		mwa #obraz2 pom1
   627 A13B A0 00				ldy #0
   628 A13D A5 69		@		lda pom
   629 A13F 99 00 18				sta obraz1L,y
   630 A142 A5 6A				lda pom+1
   631 A144 99 1D 18				sta obraz1H,y
   632 A147 A5 6B				lda pom1
   633 A149 99 3A 18				sta obraz2L,y
   634 A14C A5 6C				lda pom1+1
   635 A14E 99 57 18				sta obraz2H,y
   636 A151 18					clc
   637 A152 A5 69				lda pom
   638 A154 69 30				adc #48
   639 A156 85 69				sta pom
   640 A158 90 02				bcc @+
   641 A15A E6 6A				inc pom+1
   642 A15C 18			@		clc
   643 A15D A5 6B				lda pom1
   644 A15F 69 30				adc #48
   645 A161 85 6B				sta pom1
   646 A163 90 02				bcc @+
   647 A165 E6 6C				inc pom1+1
   648 A167 C8			@		iny
   649 A168 C0 1D				cpy #29
   650 A16A D0 D1				bne @-2
   651 						
   652 						;dlist
   653 A16C A9 D0 8D 94 17			mva #$d0 dlist
   654 A171 A9 74 8D 95 17			mva #$74 dlist+1
   655 A176 A9 88 8D 96 17 A9 + 		mwa #obraz1 dlist+2
   656 A180 A0 1A				ldy #26
   657 A182 A9 34				lda #$34
   658 A184 99 98 17		@		sta dlist+4,y
   659 A187 88					dey
   660 A188 10 FA				bpl @-
   661 A18A A9 14 8D B3 17			mva #$14 dlist+31
   662 A18F A9 41 8D B4 17			mva #$41 dlist+32
   663 A194 A9 94 8D B5 17 A9 + 		mwa #dlist dlist+33	
   664 						
   665 A19E A2 4F				ldx #10*8-1
   666 A1A0 BD 00 8E		@		lda cyfra1,x
   667 A1A3 0A 0A 0A 0A				:4 asl
   668 A1A7 9D 00 8F				sta cyfra2,x
   669 A1AA CA					dex
   670 A1AB 10 F3				bpl @-
   671 						
   672 				;przerwanie pokeya na strone 0
   673 A1AD A9 E2 8D 01 D3			mva #BANK4 PORTB
   674 A1B2 A2 16				ldx #22
   675 A1B4 BD E9 7F		@		lda $8000-23,x
   676 A1B7 95 00				sta 0,x
   677 A1B9 CA					dex
   678 A1BA 10 F8				bpl @-
   679 						
   680 A1BC A2 47				ldx #71
   681 A1BE BD A1 7F		@		lda $8000-23-72,x
   682 A1C1 95 84				sta 132,x
   683 A1C3 CA					dex
   684 A1C4 10 F8				bpl @-
   685 A1C6 A9 FE 8D 01 D3			mva #BANK0 PORTB
   686 						
   687 						
   688 						;-----
   689 A1CB 20 6F 44				jsr gwiazdyInit
   690 						
   691 A1CE A9 0A 8D C8 63			mva #10 punkty
   692 						
   693 A1D3 A9 0A 8D DD 9F			mva #10 antyairOpoznienie
   694 A1D8 20 26 21				jsr czyscObraz2
   695 						
   696 						
   697 A1DB A9 80 8D 96 17 A9 + 		mwa #obraz2 dlist+2
   698 						
   699 A1E5 A9 94				lda #<dlist    ;program antica
   700 A1E7 8D 02 D4				sta DLPTR
   701 A1EA A9 17				lda #>dlist
   702 A1EC 8D 03 D4				sta DLPTR+1
   703 A1EF A9 B8 8D 09 D4			mva #>znaki1 CHBASE
   704 						
   705 A1F4 20 21 28				jsr waitvbl
   706 							
   707 A1F7 A9 00 8D 1A D0			mva #0 COLBAK
   708 A1FC 8D BB 3A				sta flagHscore
   709 						
   710 A1FF 20 B3 9F				jsr spriteOn
   711 						
   712 A202 A0 00				ldy #0
   713 A204 20 8A 96				jsr setCondition
   714 A207 A9 01 8D 75 8A			mva #1 poziom		
   715 A20C 20 5A 3C				jsr piszPoziom
   716 A20F 20 90 3C				jsr piszHscore1
   717 						
   718 A212 A9 FE 8D 01 D3	Title_s	mva #BANK0 PORTB
   719 A217 20 21 28				jsr waitvbl
   720 A21A A9 00 8D 00 D4			mva #0 DMACTL
   721 A21F 8D 11 D0				sta GRAFM
   722 				.IF .DEF PSP_CODE
   723 A222 8D 74 31				sta psp
   724 				.ENDIF
   725 						
   726 A225 20 94 27				jsr init_fx
   727 A228 20 68 9F				jsr livesRedOff
   728 								
   729 A22B A9 00 8D 3A 24			mva #0 sfxlicznik1
   730 A230 85 21				sta pauza
   731 A232 8D 7D 22				sta formacja_stan
   732 A235 8D 25 24				sta formacja_radar
   733 A238 20 B5 99				jsr piszCondition
   734 A23B AC 8E 8A				ldy kondycja_stan		;poprzednia kondycja
   735 A23E 20 8A 96				jsr setCondition
   736 A241 A9 00 85 22				mva #0 stan_gry
   737 						
   738 A245 A9 E2 8D 01 D3			mva #BANK4 PORTB
   739 						
   740 A24A A2 00				ldx #<MODUL					;low byte of RMT module to X reg
   741 A24C A0 61				ldy #>MODUL					;hi byte of RMT module to Y reg
   742 A24E A9 06				lda #$06						;starting song line 0-255 to A reg 	
   743 A250 20 00 B2				jsr RASTERMUSICTRACKER
   744 						
   745
   746 A253 A9 06 85 3E				mva #6 kolpom0
   747 						
   748 A257 A9 01 85 22				mva #1 stan_gry
   749 						
   750 A25B 20 78 4D				jsr Title
   751 						
   752 A25E AD 0B D4		@		lda VCOUNT
   753 A261 C9 7C				cmp #124
   754 A263 90 F9				bcc @-		
   755 						
   756 A265 A9 00 8D 00 D4			mva #0 DMACTL
   757 A26A 8D B8 3A				sta score
   758 A26D 8D B9 3A				sta score+1
   759 A270 8D BA 3A				sta score+2
   760 A273 A9 94 8D 02 D4 A9 + 		mwa #dlist	DLPTR
   761 A27D A9 18 8D 07 D4			mva #>SPRITES PMBASE
   762 						
   763 A282 A9 00 85 22				mva #0 stan_gry
   764
   765 						
   766 A286 A9 FE 8D 01 D3			mva #BANK0 PORTB
   767 						
   768 A28B 20 94 27				jsr init_fx
   769 						
   770 A28E 20 73 9F				jsr czarnyPanel
   771 A291 20 B0 9C				jsr pisz_zycia
   772 					
   773 						
   774 						
   775 						
   776 A294 A9 88 8D 96 17 A9 + 		mwa #obraz1 dlist+2
   777 A29E 20 C7 20				jsr czyscObraz1
   778 						
   779 						;mva #10 poziom		;poziom startowy
   780 						;jsr piszPoziom
   781 						
   782 A2A1 AD 00 D3				lda JOY
   783 A2A4 29 01				and #1
   784 A2A6 F0 05				beq @+
   785 A2A8 A9 01 8D 75 8A			mva #1 poziom		
   786 						
   787 A2AD 20 47 92		@		jsr wczytajLevel
   788 						
   789 A2B0 20 D1 95				jsr pokazBazyRadar
   790 						
   791 A2B3 A0 00				ldy #0
   792 A2B5 20 8A 96				jsr setCondition
   793 A2B8 20 A4 3B				jsr czyscScore
   794 A2BB 20 12 3B				jsr piszScore1
   795 							
   796 A2BE A9 03 8D 80 8A			mva #3	lives
   797 A2C3 20 A8 97				jsr printLives
   798 A2C6 A9 01 8D BC 3A			mva #1 scoreZmiana	;nie ma nowych punktów
   799 							
   800 									
   801 A2CB 20 5C 9F				jsr livesRed
   802
   803 						
   804 A2CE A9 01 85 3F				mva #1 zegar
   805 						
   806 A2D2 AD 1B 12 8D 17 D0			mva KOLOR1 COLPF1
   807 A2D8 AD 1C 12 8D 19 D0			mva KOLOR3 COLPF3
   808 						
   809 A2DE A9 00 8D BB 3A			mva #0 flagHscore
   810 						
   811 						
   812 A2E3 A9 C0 8D 0E D4			mva #%11000000 NMIEN
   813 						
   814 A2E8 A9 02 85 22				mva #2 stan_gry
   815
   816 A2EC 4C 79 A3				jmp poczatek		;nie pokazuj ekranu przed narysowaniem
   817 						
   818 				;glowna petla		
   819 = A2EF			loop	equ *
   820 				;
   821 				;Czekamy na ramke 2
   822 				;		
   823
   824 A2EF A9 88 8D 96 17 A9 + 		mwa #obraz1 dlist+2
   825 A2F9 A9 B8 8D 09 D4			mva #>znaki1 CHBASE
   826 A2FE A5 19 8D 04 D4			mva movX HSCROL
   827 A303 A5 1A 8D 05 D4			mva movY VSCROL
   828 A308 A9 00 85 3F				mva #0 zegar
   829 						
   830 A30C A9 3A 8D 00 D4			mva #58 DMACTL		
   831 						
   832 A311 AD 3D 24				lda speech		;jesli sampel to mrygaj 2 duszkiem
   833 A314 F0 10				beq @+
   834 A316 A5 CF				lda kolorPanel
   835 A318 69 02				adc #2
   836 A31A 29 0F				and #%1111
   837 A31C 85 CF				sta kolorPanel
   838 A31E A6 D0				ldx rodzajSpeech
   839 A320 1D 7E 26				ora panelTab,x
   840 A323 8D 14 D0				sta COLPM+2 
   841 = A326			@		equ *		
   842 				;obsluga sampli		
   843 A326 AD FC 63				lda nobanner
   844 A329 F0 4E				jeq glos1
   845 A32B C9 01				cmp #1
   846 A32D D0 33				bne @+
   847
   848 A32F A9 40 8D 0E D4			mva #%01000000 NMIEN
   849
   850 						
   851 A334 78					sei
   852 A335 A9 84 8D FE FF A9 + 		mwa #pok0 $fffe
   853 						
   854 A33F A9 0F				lda #15
   855 A341 8D 06 D2				sta AUDF4
   856 A344 A0 00 8C 0E D2			mvy #0 IRQEN
   857 A349 58					cli
   858 						
   859 A34A 20 1F 65				jsr schowaj_duszki
   860 A34D AD 7D 22				lda formacja_stan
   861 A350 F0 03				beq *+5
   862 A352 20 EF 99				jsr pisz_formation		;tylko jesli wlaczona formacja
   863 						
   864 A355 EE FC 63				inc nobanner
   865 						
   866 						
   867 A358 A9 04 85 1E				mva #4 sirq
   868 A35C 8D 0E D2				sta IRQEN
   869 A35F 4C 79 A3				jmp glos1
   870 						
   871 A362 A5 1E		@		lda sirq
   872 A364 D0 13				bne glos1		;jeszcze sie nie skonczyl		
   873 						
   874 A366 A9 00 8D 06 D2			mva #0 AUDF4
   875 A36B 8D 3D 24				sta speech
   876 A36E 8D FC 63				sta nobanner
   877 						
   878 A371 A9 C0 8D 0E D4			mva #%11000000 NMIEN
   879 						
   880 						;sta nobanner
   881 A376 20 B2 6C				jsr pokaz_duszki
   882
   883 = A379			glos1		equ *
   884 = A379			poczatek	equ *
   885 					
   886 A379 20 9F B5				jsr play_FX
   887 						
   888 					
   889 A37C A9 3A 85 71 A9 18 + 		mwa #obraz2L screenL
   890 A384 A9 57 85 73 A9 18 + 		mwa #obraz2H screenH
   891 						
   892 A38C 20 D2 49				jsr printShip
   893 						
   894 A38F AD FC 63				lda nobanner
   895 A392 C9 02				cmp #2
   896 A394 B0 03				bcs *+5
   897 A396 20 E7 95				jsr radar
   898
   899
   900 A399 20 26 21				jsr czyscObraz2
   901 						
   902 A39C 20 FE 63				jsr timeEvents
   903 						
   904 				;rysujemy na obrazie 2
   905 A39F A9 01 85 1F				mva #1 ramka
   906 A3A3 85 20				sta vblFlaga
   907 A3A5 A9 04 85 D1				mva #4 ramka4		;ramka*4	
   908 						
   909 A3A9 20 52 53				jsr moveShip			;przesun i narysuj statek			
   910 							
   911 A3AC 20 AB 44				jsr gwiazdyRysuj2
   912 A3AF 20 06 54				jsr animacjaJadraA
   913 A3B2 20 E4 56				jsr animacjaJadraB
   914 						
   915 					
   916 A3B5 20 F5 55				jsr coreWaveA
   917 A3B8 20 4E 58				jsr coreWaveB
   918 						
   919 A3BB A5 23				lda trafienie
   920 A3BD 05 24				ora startMapy
   921 A3BF D0 0A				bne @+
   922 A3C1 A5 D3				lda czyRakiety
   923 A3C3 F0 06				beq @+
   924 A3C5 20 F0 6F				jsr moveRakiety		;rakiety
   925 A3C8 20 CA 6E				jsr rakiety
   926 = A3CB			@		equ *
   927 						
   928 A3CB 20 F8 3D				jsr printEkran	
   929 								
   930 A3CE 20 33 63				jsr rysujWybuchy		;animuj wybuchy
   931 A3D1 20 97 62				jsr rysujmWybuchy
   932 											
   933 A3D4 A5 23				lda trafienie
   934 A3D6 05 24				ora startMapy
   935 A3D8 D0 12				bne @+
   936 						
   937 A3DA 20 FE 7E				jsr kolStatekWybuch	
   938 A3DD 20 20 5F				jsr movePociski1	
   939 						
   940 						
   941 A3E0 20 7F 7E				jsr kolStatekObiekty
   942 A3E3 20 C2 7B				jsr kolStatekBazy
   943 						
   944 						
   945 A3E6 20 16 7D				jsr kolRakietyStatek		
   946 A3E9 20 5C 7D				jsr kolRakietyObiekty
   947 A3EC			@		
   948 A3EC 20 74 71				jsr spy
   949 A3EF 20 29 73				jsr formacja
   950 						
   951 						
   952 A3F2 A5 23				lda trafienie
   953 A3F4 05 24				ora startMapy
   954 A3F6 D0 03				bne @+
   955 A3F8 20 D7 72				jsr printSpyScore
   956 						
   957 A3FB 20 08 88		@		jsr moveEnemy
   958 						
   959 A3FE A5 23				lda trafienie
   960 A400 05 24				ora startMapy
   961 A402 D0 03				bne @+
   962 						
   963 A404 20 12 87				jsr dodaj_przeciwnika
   964 						
   965 						
   966 = A407			@		equ *		
   967 A407 20 03 89				jsr rysujEnemy
   968 						
   969 A40A A5 23				lda trafienie
   970 A40C 05 24				ora startMapy
   971 A40E D0 12				bne @+
   972 						
   973 A410 20 B7 79				jsr obliczEnemyXY
   974 A413 20 8D 7B				jsr kolStatekEnemy
   975 						
   976 A416 20 94 5F				jsr printPociski
   977 A419 20 6C 7A				jsr kolPociskiEnemy
   978 						;jsr kolObiektyEnemy
   979 						
   980 						
   981 A41C 20 42 7F				jsr kolPociskiStatek
   982 A41F 20 79 7F				jsr kolPociskiObiekty
   983 						
   984 = A422			@		equ *	
   985
   986 					
   987 A422 AD FC 63				lda nobanner
   988 A425 C9 02				cmp #2
   989 A427 B0 03				bcs @+
   990 A429 20 6E 9C				jsr poprawlives2
   991 = A42C			@		equ *
   992 						
   993 A42C A9 00				lda #0
   994 A42E C5 3F		@		cmp zegar
   995 A430 F0 FC				beq @-
   996 						
   997 A432 A5 23				lda trafienie
   998 A434 05 24				ora startMapy
   999 A436 D0 3A				bne @+
  1000 						
  1001 A438 20 61 29				jsr moveStrzal
  1002 						
  1003 A43B 20 4F 28				jsr pushFire			;czy wcisnieto fire?
  1004
  1005 A43E 20 6C 2A				jsr obliczStrzalXY2		;kolizje strzlow statku
  1006 A441 20 0D 2B				jsr printStrzal
  1007 				  
  1008 						
  1009 A444 20 EA 7A				jsr kolStrzalyEnemy
  1010 A447 20 7D 78				jsr kolStrzalyRakiety
  1011 A44A 20 23 80				jsr kolStrzalyObiekty
  1012 A44D 20 B9 80				jsr kolStrzalyBazy
  1013 								
  1014 A450 20 61 29				jsr moveStrzal
  1015 								
  1016 A453 20 6C 2A				jsr obliczStrzalXY2
  1017 						
  1018 						
  1019 A456 20 D8 2A				jsr locateStrzal2
  1020 A459 A9 2C 8D 2B 80			mva #<strzalTlo1 _tlo1+1
  1021 A45E 8D F2 7A				sta _tlo2+1
  1022 A461 20 EA 7A				jsr kolStrzalyEnemy
  1023 A464 20 23 80				jsr kolStrzalyObiekty		;do poprawki
  1024 A467 A9 28 8D 2B 80			mva #<strzalTlo _tlo1+1
  1025 A46C 8D F2 7A				sta _tlo2+1
  1026 A46F 20 B9 80				jsr kolStrzalyBazy
  1027 						
  1028 									
  1029 A472 20 BD 3A		@		jsr sumaPunkty		;sumuj punkty
  1030 						
  1031 A475 20 9F B5				jsr play_FX
  1032
  1033 A478 20 3F 24				jsr sounds			;dodaj wszystkie efekty
  1034 A47B 20 D0 97				jsr czyNowyLevel	;sprawdz czy ukonczono poziom
  1035 						
  1036 						
  1037 					
  1038 						
  1039 				;
  1040 				;Czekamy na ramke		1
  1041 				;		
  1042 A47E A5 3F		@		lda zegar
  1043 A480 C5 3F		@		cmp zegar
  1044 A482 F0 FC				beq @-	
  1045
  1046 = A484			loop2	equ *	
  1047 							
  1048 						
  1049 						
  1050 A484 A9 80 8D 96 17 A9 + 		mwa #obraz2 dlist+2
  1051 A48E A9 BC 8D 09 D4			mva #>znaki2 CHBASE
  1052 A493 A5 19 8D 04 D4			mva movX HSCROL	
  1053 A498 A5 1A 8D 05 D4			mva movY VSCROL
  1054 						
  1055 A49D A9 00 85 3F				mva #0 zegar
  1056 A4A1 A9 3A 8D 00 D4			mva #58 DMACTL		
  1057 						
  1058 						
  1059 A4A6 AD 3D 24				lda speech		;jesli sampel to mrygaj 2 duszkiem
  1060 A4A9 F0 10				beq @+
  1061 A4AB A5 CF				lda kolorPanel
  1062 A4AD 69 02				adc #2
  1063 A4AF 29 0F				and #%1111
  1064 A4B1 85 CF				sta kolorPanel
  1065 A4B3 A6 D0				ldx rodzajSpeech
  1066 A4B5 1D 7E 26				ora panelTab,x
  1067 A4B8 8D 14 D0				sta COLPM+2 
  1068 						
  1069 A4BB AD 7D 22		@		lda formacja_stan
  1070 A4BE F0 0C				beq @+
  1071 A4C0 C9 05				cmp #5
  1072 A4C2 F0 08				beq @+
  1073 						
  1074 A4C4 AD DF 22				lda conditionColor
  1075 A4C7 49 34				eor #$34
  1076 A4C9 8D DF 22				sta conditionColor
  1077 = A4CC			@		equ *
  1078 					
  1079 A4CC 20 9F B5				jsr play_FX
  1080 						
  1081 A4CF A9 00 85 71 A9 18 + 		mwa #obraz1L screenL
  1082 A4D7 A9 1D 85 73 A9 18 + 		mwa #obraz1H screenH
  1083 						
  1084 A4DF 20 D2 49				jsr printShip
  1085 						
  1086 A4E2 AD FC 63				lda nobanner
  1087 A4E5 C9 02				cmp #2
  1088 A4E7 B0 03				bcs @+
  1089 A4E9 20 E7 95				jsr radar
  1090 = A4EC			@		equ *
  1091 					
  1092
  1093 A4EC 20 C7 20				jsr czyscObraz1	
  1094
  1095 				;rysujemy na obrazie1
  1096 A4EF A9 00 85 1F				mva #0 ramka
  1097 A4F3 85 D1				sta ramka4
  1098 A4F5 A9 01 85 20				mva #1 vblFlaga
  1099 						
  1100 A4F9 20 52 53				jsr moveShip			;przesun i narysuj statek
  1101
  1102 A4FC 20 D0 44				jsr gwiazdyRysuj1
  1103 A4FF 20 06 54				jsr animacjaJadraA
  1104 A502 20 E4 56				jsr animacjaJadraB
  1105 							
  1106 					
  1107 A505 20 F5 55				jsr coreWaveA
  1108 A508 20 4E 58				jsr coreWaveB
  1109 					
  1110 						
  1111 A50B A5 23				lda trafienie
  1112 A50D 05 24				ora startMapy
  1113 A50F D0 0A				bne @+
  1114 A511 05 D3				ora czyRakiety
  1115 A513 F0 06				beq @+
  1116 A515 20 F0 6F				jsr moveRakiety		;rakiety
  1117 A518 20 CA 6E				jsr rakiety
  1118 = A51B			@		equ *
  1119 						
  1120 A51B 20 F8 3D				jsr printEkran
  1121 						
  1122 A51E 20 33 63				jsr rysujWybuchy
  1123 A521 20 97 62				jsr rysujmWybuchy
  1124 						
  1125 						
  1126 A524 A5 23				lda trafienie		
  1127 A526 05 24				ora startMapy
  1128 A528 D0 15				bne @+
  1129 						
  1130 						
  1131 A52A 20 FE 7E				jsr kolStatekWybuch
  1132 A52D 20 20 5F				jsr movePociski1
  1133 A530 20 11 5C				jsr antyair1
  1134 						
  1135 A533 20 7F 7E				jsr kolStatekObiekty
  1136 A536 20 C2 7B				jsr kolStatekBazy
  1137 A539 20 16 7D				jsr kolRakietyStatek
  1138
  1139 						
  1140 						;jsr kolRakietyObiekty
  1141 								
  1142 A53C 20 AA 70				jsr losuj		;losuj spy,formacja
  1143 						
  1144 = A53F			@		equ *		
  1145 A53F 20 74 71				jsr spy
  1146 A542 20 29 73				jsr formacja
  1147 						
  1148 A545 A5 23				lda trafienie		
  1149 A547 05 24				ora startMapy
  1150 A549 D0 03				bne @+
  1151 						
  1152 A54B 20 D7 72				jsr printSpyScore
  1153 						
  1154 = A54E			@		equ *		
  1155 A54E 20 08 88				jsr moveEnemy
  1156
  1157 A551 20 03 89				jsr rysujEnemy
  1158 						
  1159 A554 A5 23				lda trafienie		
  1160 A556 05 24				ora startMapy
  1161 A558 D0 15				bne @+
  1162 						
  1163 A55A 20 B7 79				jsr obliczEnemyXY
  1164 A55D 20 8D 7B				jsr kolStatekEnemy	
  1165 A560 20 07 79				jsr kolObiektyEnemy	
  1166
  1167 A563 20 94 5F				jsr printPociski
  1168 A566 20 6C 7A				jsr kolPociskiEnemy	
  1169 A569 20 42 7F				jsr kolPociskiStatek
  1170 A56C 20 79 7F				jsr kolPociskiObiekty		;kolizje Pociskow z Bomami i meteorami
  1171 						
  1172 						
  1173 = A56F			@		equ *		
  1174 								
  1175 A56F AD FC 63				lda nobanner		;jesli sampel to nie poprawiaj lives
  1176 A572 C9 02				cmp #2
  1177 A574 B0 03				bcs @+
  1178 A576 20 2C 9C				jsr poprawlives1
  1179 = A579			@		equ *
  1180
  1181 						
  1182 A579 A9 00				lda #0
  1183 A57B C5 3F		@		cmp zegar
  1184 A57D F0 FC				beq @-
  1185 						
  1186 A57F A5 23				lda trafienie
  1187 A581 05 24				ora startMapy
  1188 A583 D0 3A				bne @+
  1189 						
  1190 A585 20 61 29				jsr moveStrzal
  1191 						
  1192 A588 20 4F 28				jsr pushFire
  1193 A58B 20 6C 2A				jsr obliczStrzalXY2
  1194 A58E 20 0D 2B				jsr printStrzal
  1195 						
  1196 A591 20 EA 7A				jsr kolStrzalyEnemy
  1197 A594 20 7D 78				jsr kolStrzalyRakiety
  1198 A597 20 23 80				jsr kolStrzalyObiekty
  1199 A59A 20 B9 80				jsr kolStrzalyBazy
  1200
  1201 A59D 20 61 29				jsr moveStrzal
  1202 						
  1203 A5A0 20 6C 2A				jsr obliczStrzalXY2		
  1204 						
  1205 A5A3 20 A3 2A				jsr locateStrzal1
  1206 A5A6 A9 2C 8D 2B 80			mva #<strzalTlo1 _tlo1+1
  1207 A5AB 8D F2 7A				sta _tlo2+1
  1208 A5AE 20 EA 7A				jsr kolStrzalyEnemy
  1209 A5B1 20 23 80				jsr kolStrzalyObiekty		;do poprawki
  1210 A5B4 A9 28 8D 2B 80			mva #<strzalTlo _tlo1+1
  1211 A5B9 8D F2 7A				sta _tlo2+1
  1212 A5BC 20 B9 80				jsr kolStrzalyBazy
  1213 							
  1214 						
  1215 A5BF AD FC 63		@		lda nobanner
  1216 A5C2 F0 03				beq @+
  1217 A5C4 4C 19 A6				jmp loop1
  1218 						
  1219 A5C7 AD 1F D0		@		lda CONSOL
  1220 A5CA 29 01				and #START
  1221 A5CC D0 40				bne @+3
  1222 A5CE A9 01 85 21				mva #1 pauza
  1223 A5D2 A9 00 8D 01 D2			mva #0 AUDC1
  1224 A5D7 8D 03 D2				sta AUDC2
  1225 A5DA 8D 05 D2				sta AUDC3
  1226 A5DD AD 1F D0		@		lda CONSOL
  1227 A5E0 29 05				and #START+OPTION
  1228 A5E2 C9 05				cmp #START+OPTION
  1229 A5E4 D0 F7				bne @-
  1230 						
  1231 A5E6 AD 1F D0		@		lda CONSOL
  1232 A5E9 85 37				sta pom0
  1233 A5EB 29 05				and #OPTION+START
  1234 A5ED C9 05				cmp #OPTION+START
  1235 A5EF F0 F5				beq @-
  1236 						
  1237 A5F1 A5 37				lda pom0
  1238 A5F3 29 01				and #START
  1239 A5F5 F0 0A				beq @+		;wznów gre
  1240 A5F7 A9 32 85 24				mva #50 startMapy
  1241 						
  1242 A5FB 20 8E 26				jsr zmaz_radar
  1243 						
  1244 A5FE 4C 0F A2				jmp title_s-3		;resetuj + nie zaliczaj hscore , wypisz stare
  1245 					
  1246 A601 AD 1F D0		@		lda CONSOL
  1247 A604 29 01				and #START
  1248 A606 C9 01				cmp #START
  1249 A608 D0 F7				bne @-
  1250 A60A A9 00 85 21				mva #0 pauza
  1251 = A60E			@		equ *	
  1252 						
  1253 A60E AD BC 3A				lda scoreZmiana
  1254 A611 D0 06				bne @+
  1255 A613 20 12 3B				jsr piszScore1		;wyswietlaj zmienione hscore tylko jesli nie ma sampla
  1256 A616 20 B2 3B				jsr czyHscore
  1257 = A619			@		equ *		
  1258
  1259 = A619			loop1	equ *
  1260
  1261 A619 20 9F B5				jsr play_FX
  1262 A61C 20 3F 24				jsr sounds		;dodaj efekty
  1263 						
  1264 						
  1265 A61F A5 3F		@		lda zegar
  1266 A621 C5 3F		@		cmp zegar
  1267 A623 F0 FC				beq @-	
  1268 						
  1269 A625 4C EF A2				jmp loop
  1270 						
  1271 						
  1272 = 0000			STEREOMODE	equ 0
  1273
  1274 						
  1275 A628					icl "rmtplayr.asm"	
Source: rmtplayr.asm
     1 				;*
     2 				;* Raster Music Tracker, RMT Atari routine version 1.20090108
     3 				;* (c) Radek Sterba, Raster/C.P.U., 2002 - 2009
     4 				;* http://raster.atari.org
     5 				;*
     6 				;* Warnings:
     7 				;*
     8 				;* 1. RMT player routine needs 19 itself reserved bytes in zero page (no accessed
     9 				;*    from any other routines) as well as cca 1KB of memory before the "PLAYER"
    10 				;*    address for frequency tables and functionary variables. It's:
    11 				;*	  a) from PLAYER-$03c0 to PLAYER for stereo RMTplayer
    12 				;*    b) from PLAYER-$0320 to PLAYER for mono RMTplayer
    13 				;*
    14 				;* 2. RMT player routine MUST (!!!) be compiled from the begin of the memory page.
    15 				;*    i.e. "PLAYER" address can be $..00 only!
    16 				;*
    17 				;* 3. Because of RMTplayer provides a lot of effects, it spent a lot of CPU time.
    18 				;*
    19 				;* STEREOMODE	equ 0..3			;0 => compile RMTplayer for 4 tracks mono
    20 				;*									;1 => compile RMTplayer for 8 tracks stereo
    21 				;*									;2 => compile RMTplayer for 4 tracks stereo L1 R2 R3 L4
    22 				;*									;3 => compile RMTplayer for 4 tracks stereo L1 L2 R3 R4
    23 				;*
    24 					IFT STEREOMODE==1
    25 				TRACKS		equ 8
    26 					ELS
    27 = 0004			TRACKS		equ 4
    28 					EIF
    29 				;*
    30 = B200			PLAYER		equ $B200
    31 				;*
    32 				;* RMT FEATures definitions file
    33 				;* For optimizations of RMT player routine to concrete RMT modul only!
    34 A628				icl "rmt_feat.asm"
Source: rmt_feat.asm
     1 				;* --------BEGIN--------
     2 				;* C:\Users\Shanti\Desktop\rmt128\bosconian\b.rmt
     3 = 0001			FEAT_SFX		equ 1
     4 = 0000			FEAT_GLOBALVOLUMEFADE	equ 0		;RMTGLOBALVOLUMEFADE variable
     5 = 0000			FEAT_NOSTARTINGSONGLINE	equ 0
     6 = 0001			FEAT_INSTRSPEED		equ 1
     7 = 0000			FEAT_CONSTANTSPEED		equ 0		;(22 times)
     8 = 0001			FEAT_COMMAND1		equ 1		;(24 times)
     9 = 0000			FEAT_COMMAND2		equ 0		;(0 times)
    10 = 0000			FEAT_COMMAND3		equ 0		;(0 times)
    11 = 0000			FEAT_COMMAND4		equ 0		;(0 times)v
    12 = 0000			FEAT_COMMAND5		equ 0		;(0 times)vv
    13 = 0000			FEAT_COMMAND6		equ 0		;(0 times)vv
    14 = 0000			FEAT_COMMAND7SETNOTE		equ 0		;(0 times)
    15 = 0000			FEAT_COMMAND7VOLUMEONLY		equ 0		;(0 times)
    16 = 0000			FEAT_PORTAMENTO		equ 0		;(0 times)
    17 = 0000			FEAT_FILTER		equ 0		;(0 times)vv
    18 = 0000			FEAT_FILTERG0L		equ 0		;(0 times)vv
    19 = 0000			FEAT_FILTERG1L		equ 0		;(0 times)
    20 = 0000			FEAT_FILTERG0R		equ 0		;(0 times)
    21 = 0000			FEAT_FILTERG1R		equ 0		;(0 times)
    22 = 0000			FEAT_BASS16		equ 0		;(1 times)
    23 = 0000			FEAT_BASS16G1L		equ 0		;(0 times)
    24 = 0000			FEAT_BASS16G3L		equ 0		;(0 times)
    25 = 0000			FEAT_BASS16G1R		equ 0		;(0 times)
    26 = 0000			FEAT_BASS16G3R		equ 0		;(0 times)
    27 = 0000			FEAT_VOLUMEONLYG0L		equ 0		;(0 times)
    28 = 0000			FEAT_VOLUMEONLYG2L		equ 0		;(0 times)
    29 = 0000			FEAT_VOLUMEONLYG3L		equ 0		;(0 times)
    30 = 0000			FEAT_VOLUMEONLYG0R		equ 0		;(0 times)
    31 = 0000			FEAT_VOLUMEONLYG2R		equ 0		;(0 times)
    32 = 0000			FEAT_VOLUMEONLYG3R		equ 0		;(0 times)
    33 = 0001			FEAT_TABLETYPE		equ 1		;(1 times)
    34 = 0000			FEAT_TABLEMODE		equ 0		;(0 times)
    35 = 0000			FEAT_TABLEGO		equ 0		;(1 times)
    36 = 0001			FEAT_AUDCTLMANUALSET		equ 1		;(1 times)
    37 = 0000			FEAT_VOLUMEMIN		equ 0		;(0 times)v
    38 = 0001			FEAT_EFFECTVIBRATO		equ 1		;(1 times)
    39 = 0001			FEAT_EFFECTFSHIFT		equ 1		;(7 times)
    40 				;* --------END--------
    35 				;*
    36 				;* RMT ZeroPage addresses
    37 A628				org 237
    38 00ED			p_tis
    39 00ED			p_instrstable	org *+2
    40 00EF			p_trackslbstable	org *+2
    41 00F1			p_trackshbstable	org *+2
    42 00F3			p_song			org *+2
    43 00F5			ns				org *+2
    44 00F7			nr				org *+2
    45 00F9			nt				org *+2
    46 00FB			reg1			org *+1
    47 00FC			reg2			org *+1
    48 00FD			reg3			org *+1
    49 00FE			tmp				org *+1
    50 					IFT FEAT_COMMAND2
    51 				frqaddcmd2		org *+1
    52 					EIF
    53 					IFT TRACKS>4
    54 					org PLAYER-$400+$40
    55 					ELS
    56 00FF				org PLAYER-$400+$e0
    57 					EIF
    58 AEE0			track_variables
    59 AEE0			trackn_db	org *+TRACKS
    60 AEE4			trackn_hb	org *+TRACKS
    61 AEE8			trackn_idx	org *+TRACKS
    62 AEEC			trackn_pause	org *+TRACKS
    63 AEF0			trackn_note	org *+TRACKS
    64 AEF4			trackn_volume	org *+TRACKS
    65 AEF8			trackn_distor 	org *+TRACKS
    66 AEFC			trackn_shiftfrq	org *+TRACKS
    67 					IFT FEAT_PORTAMENTO
    68 				trackn_portafrqc org *+TRACKS
    69 				trackn_portafrqa org *+TRACKS
    70 				trackn_portaspeed org *+TRACKS
    71 				trackn_portaspeeda org *+TRACKS
    72 				trackn_portadepth org *+TRACKS
    73 					EIF
    74 AF00			trackn_instrx2	org *+TRACKS
    75 AF04			trackn_instrdb	org *+TRACKS
    76 AF08			trackn_instrhb	org *+TRACKS
    77 AF0C			trackn_instridx	org *+TRACKS
    78 AF10			trackn_instrlen	org *+TRACKS
    79 AF14			trackn_instrlop	org *+TRACKS
    80 AF18			trackn_instrreachend	org *+TRACKS
    81 AF1C			trackn_volumeslidedepth org *+TRACKS
    82 AF20			trackn_volumeslidevalue org *+TRACKS
    83 					IFT FEAT_VOLUMEMIN
    84 				trackn_volumemin		org *+TRACKS
    85 					EIF
    86 = 0001			FEAT_EFFECTS equ FEAT_EFFECTVIBRATO||FEAT_EFFECTFSHIFT
    87 					IFT FEAT_EFFECTS
    88 AF24			trackn_effdelay			org *+TRACKS
    89 					EIF
    90 					IFT FEAT_EFFECTVIBRATO
    91 AF28			trackn_effvibratoa		org *+TRACKS
    92 					EIF
    93 					IFT FEAT_EFFECTFSHIFT
    94 AF2C			trackn_effshift		org *+TRACKS
    95 					EIF
    96 AF30			trackn_tabletypespeed org *+TRACKS
    97 					IFT FEAT_TABLEMODE
    98 				trackn_tablemode	org *+TRACKS
    99 					EIF
   100 AF34			trackn_tablenote	org *+TRACKS
   101 AF38			trackn_tablea		org *+TRACKS
   102 AF3C			trackn_tableend		org *+TRACKS
   103 					IFT FEAT_TABLEGO
   104 				trackn_tablelop		org *+TRACKS
   105 					EIF
   106 AF40			trackn_tablespeeda	org *+TRACKS
   107 					IFT FEAT_FILTER||FEAT_BASS16
   108 				trackn_command		org *+TRACKS
   109 					EIF
   110 					IFT FEAT_BASS16
   111 				trackn_outnote		org *+TRACKS
   112 					EIF
   113 					IFT FEAT_FILTER
   114 				trackn_filter		org *+TRACKS
   115 					EIF
   116 AF44			trackn_audf	org *+TRACKS
   117 AF48			trackn_audc	org *+TRACKS
   118 					IFT FEAT_AUDCTLMANUALSET
   119 AF4C			trackn_audctl	org *+TRACKS
   120 					EIF
   121 AF50			v_aspeed		org *+1
   122 AF51			track_endvariables
   123 AF51					org PLAYER-$100-$140-$40+2
   124 = 000C			INSTRPAR	equ 12
   125 AF82			tabbeganddistor
   126 AF82-AFBF> 80 00		 dta frqtabpure-frqtab,$00
   127 AF84 80 20		 dta frqtabpure-frqtab,$20
   128 AF86 80 40		 dta frqtabpure-frqtab,$40
   129 AF88 00 C0		 dta frqtabbass1-frqtab,$c0
   130 AF8A 80 80		 dta frqtabpure-frqtab,$80
   131 AF8C 80 A0		 dta frqtabpure-frqtab,$a0
   132 AF8E 00 C0		 dta frqtabbass1-frqtab,$c0
   133 AF90 40 C0		 dta frqtabbass2-frqtab,$c0
   134 						IFT FEAT_EFFECTVIBRATO
   135 AF92 00 01 05 0B		vibtabbeg dta 0,vib1-vib0,vib2-vib0,vib3-vib0
   136 AF96 00			vib0	dta 0
   137 AF97 01 FF FF 01		vib1	dta 1,-1,-1,1
   138 AF9B 01 00 FF FF 00 01	vib2	dta 1,0,-1,-1,0,1
   139 AFA1 01 01 00 FF FF FF + vib3	dta 1,1,0,-1,-1,-1,-1,0,1,1
   140 AFAB			vibtabnext
   141 AFAB 00					dta vib0-vib0+0
   142 AFAC 02 03 04 01				dta vib1-vib0+1,vib1-vib0+2,vib1-vib0+3,vib1-vib0+0
   143 AFB0 06 07 08 09 0A 05			dta vib2-vib0+1,vib2-vib0+2,vib2-vib0+3,vib2-vib0+4,vib2-vib0+5,vib2-vib0+0
   144 AFB6 0C 0D 0E 0F 10 11 + 		dta vib3-vib0+1,vib3-vib0+2,vib3-vib0+3,vib3-vib0+4,vib3-vib0+5,vib3-vib0+6,vib3-vib0+7,vib3-vib0+8,vib3-vib0+9,vib3-vib0+0
   145 						EIF
   146 AFC0					org PLAYER-$100-$140
   147 					IFT FEAT_BASS16
   148 				frqtabbasslo
   149 					dta $F2,$33,$96,$E2,$38,$8C,$00,$6A,$E8,$6A,$EF,$80,$08,$AE,$46,$E6
   150 					dta $95,$41,$F6,$B0,$6E,$30,$F6,$BB,$84,$52,$22,$F4,$C8,$A0,$7A,$55
   151 					dta $34,$14,$F5,$D8,$BD,$A4,$8D,$77,$60,$4E,$38,$27,$15,$06,$F7,$E8
   152 					dta $DB,$CF,$C3,$B8,$AC,$A2,$9A,$90,$88,$7F,$78,$70,$6A,$64,$5E,$00
   153 					EIF
   154 AFC0					org PLAYER-$100-$100
   155 B000			frqtab
   156 					ERT [<frqtab]!=0	;* frqtab must begin at the memory page bound! (i.e. $..00 address)
   157 B000			frqtabbass1
   158 B000-B0BF> BF B6 AA A1 + 	dta $BF,$B6,$AA,$A1,$98,$8F,$89,$80,$F2,$E6,$DA,$CE,$BF,$B6,$AA,$A1
   159 B010 98 8F 89 80 7A 71 + 	dta $98,$8F,$89,$80,$7A,$71,$6B,$65,$5F,$5C,$56,$50,$4D,$47,$44,$3E
   160 B020 3C 38 35 32 2F 2D + 	dta $3C,$38,$35,$32,$2F,$2D,$2A,$28,$25,$23,$21,$1F,$1D,$1C,$1A,$18
   161 B030 17 16 14 13 12 11 + 	dta $17,$16,$14,$13,$12,$11,$10,$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07
   162 B040			frqtabbass2
   163 B040 FF F1 E4 D8 CA C0 + 	dta $FF,$F1,$E4,$D8,$CA,$C0,$B5,$AB,$A2,$99,$8E,$87,$7F,$79,$73,$70
   164 B050 66 61 5A 55 52 4B + 	dta $66,$61,$5A,$55,$52,$4B,$48,$43,$3F,$3C,$39,$37,$33,$30,$2D,$2A
   165 B060 28 25 24 21 1F 1E + 	dta $28,$25,$24,$21,$1F,$1E,$1C,$1B,$19,$17,$16,$15,$13,$12,$11,$10
   166 B070 0F 0E 0D 0C 0B 0A + 	dta $0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00
   167 B080			frqtabpure
   168 B080 F3 E6 D9 CC C1 B5 + 	dta $F3,$E6,$D9,$CC,$C1,$B5,$AD,$A2,$99,$90,$88,$80,$79,$72,$6C,$66
   169 B090 60 5B 55 51 4C 48 + 	dta $60,$5B,$55,$51,$4C,$48,$44,$40,$3C,$39,$35,$32,$2F,$2D,$2A,$28
   170 B0A0 25 23 21 1F 1D 1C + 	dta $25,$23,$21,$1F,$1D,$1C,$1A,$18,$17,$16,$14,$13,$12,$11,$10,$0F
   171 B0B0 0E 0D 0C 0B 0A 09 + 	dta $0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00,$00
   172 					IFT FEAT_BASS16
   173 				frqtabbasshi
   174 					dta $0D,$0D,$0C,$0B,$0B,$0A,$0A,$09,$08,$08,$07,$07,$07,$06,$06,$05
   175 					dta $05,$05,$04,$04,$04,$04,$03,$03,$03,$03,$03,$02,$02,$02,$02,$02
   176 					dta $02,$02,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00
   177 					dta $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   178 					EIF
   179 B0C0					org PLAYER-$0100
   180 B100			volumetab
   181 B100-B563> 00 00 00 00 + 	dta $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
   182 B110 00 00 00 00 00 00 + 	dta $00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
   183 B120 00 00 00 00 01 01 + 	dta $00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02
   184 B130 00 00 00 01 01 01 + 	dta $00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$03,$03,$03
   185 B140 00 00 01 01 01 01 + 	dta $00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03,$04,$04
   186 B150 00 00 01 01 01 02 + 	dta $00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
   187 B160 00 00 01 01 02 02 + 	dta $00,$00,$01,$01,$02,$02,$02,$03,$03,$04,$04,$04,$05,$05,$06,$06
   188 B170 00 00 01 01 02 02 + 	dta $00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
   189 B180 00 01 01 02 02 03 + 	dta $00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08
   190 B190 00 01 01 02 02 03 + 	dta $00,$01,$01,$02,$02,$03,$04,$04,$05,$05,$06,$07,$07,$08,$08,$09
   191 B1A0 00 01 01 02 03 03 + 	dta $00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$07,$08,$09,$09,$0A
   192 B1B0 00 01 01 02 03 04 + 	dta $00,$01,$01,$02,$03,$04,$04,$05,$06,$07,$07,$08,$09,$0A,$0A,$0B
   193 B1C0 00 01 02 02 03 04 + 	dta $00,$01,$02,$02,$03,$04,$05,$06,$06,$07,$08,$09,$0A,$0A,$0B,$0C
   194 B1D0 00 01 02 03 03 04 + 	dta $00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$0A,$0A,$0B,$0C,$0D
   195 B1E0 00 01 02 03 04 05 + 	dta $00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0A,$0B,$0C,$0D,$0E
   196 B1F0 00 01 02 03 04 05 + 	dta $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F
   197 B200				org PLAYER
   198 				;*
   199 				;* Set of RMT main vectors:
   200 				;*
   201 B200			RASTERMUSICTRACKER
   202 B200 4C 12 B2			jmp rmt_init
   203 B203 4C DE B3			jmp rmt_play
   204 B206 4C F8 B3			jmp rmt_p3
   205 B209 4C 52 B2			jmp rmt_silence
   206 B20C 4C 2E B5			jmp SetPokey
   207 					IFT FEAT_SFX
   208 B20F 4C 65 B3			jmp rmt_sfx			;* A=note(0,..,60),X=channel(0,..,3 or 0,..,7),Y=instrument*2(0,2,4,..,126)
   209 					EIF
   210 B212			rmt_init
   211 B212 86 F5			stx ns
   212 B214 84 F6			sty ns+1
   213 					IFT FEAT_NOSTARTINGSONGLINE==0
   214 B216 48				pha
   215 					EIF
   216 					IFT track_endvariables-track_variables>255
   217 					ldy #0
   218 					tya
   219 				ri0	sta track_variables,y
   220 					sta track_endvariables-$100,y
   221 					iny
   222 					bne ri0
   223 					ELS
   224 B217 A0 71			ldy #track_endvariables-track_variables
   225 B219 A9 00			lda #0
   226 B21B 99 DF AE		ri0	sta track_variables-1,y
   227 B21E 88				dey
   228 B21F D0 FA			bne ri0
   229 					EIF
   230 B221 A0 04			ldy #4
   231 B223 B1 F5			lda (ns),y
   232 B225 8D EC B3			sta v_maxtracklen
   233 B228 C8				iny
   234 					IFT FEAT_CONSTANTSPEED==0
   235 B229 B1 F5			lda (ns),y
   236 B22B 8D B8 B2			sta v_speed
   237 					EIF
   238 					IFT FEAT_INSTRSPEED==0
   239 					iny
   240 					lda (ns),y
   241 					sta v_instrspeed
   242 					sta v_ainstrspeed
   243 					ELI FEAT_INSTRSPEED>1
   244 					lda #FEAT_INSTRSPEED
   245 					sta v_ainstrspeed
   246 					EIF
   247 B22E A0 08			ldy #8
   248 B230 B1 F5		ri1	lda (ns),y
   249 B232 99 E5 00			sta p_tis-8,y
   250 B235 C8				iny
   251 B236 C0 10			cpy #8+8
   252 B238 D0 F6			bne ri1
   253 					IFT FEAT_NOSTARTINGSONGLINE==0
   254 B23A 68				pla
   255 B23B 48				pha
   256 					IFT TRACKS>4
   257 					asl @
   258 					asl @
   259 					asl @
   260 					clc
   261 					adc p_song
   262 					sta p_song
   263 					pla
   264 					php
   265 					and #$e0
   266 					asl @
   267 					rol @
   268 					rol @
   269 					rol @
   270 					ELS
   271 B23C 0A				asl @
   272 B23D 0A				asl @
   273 B23E 18				clc
   274 B23F 65 F3			adc p_song
   275 B241 85 F3			sta p_song
   276 B243 68				pla
   277 B244 08				php
   278 B245 29 C0			and #$c0
   279 B247 0A				asl @
   280 B248 2A				rol @
   281 B249 2A				rol @
   282 					EIF
   283 B24A 28				plp
   284 B24B 65 F4			adc p_song+1
   285 B24D 85 F4			sta p_song+1
   286 					EIF
   287 B24F 20 67 B2			jsr GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   288 B252			rmt_silence
   289 					IFT STEREOMODE>0
   290 					lda #0
   291 					sta $d208
   292 					sta $d218
   293 					ldy #3
   294 					sty $d20f
   295 					sty $d21f
   296 					ldy #8
   297 				si1	sta $d200,y
   298 					sta $d210,y
   299 					dey
   300 					bpl si1
   301 					ELS
   302 B252 A9 00			lda #0
   303 B254 8D 08 D2			sta $d208
   304 B257 A0 03			ldy #3
   305 B259 8C 0F D2			sty $d20f
   306 B25C A0 08			ldy #8
   307 B25E 99 00 D2		si1	sta $d200,y
   308 B261 88				dey
   309 B262 10 FA			bpl si1
   310 					EIF
   311 					IFT FEAT_INSTRSPEED==0
   312 					lda v_instrspeed
   313 					ELS
   314 B264 A9 01			lda #FEAT_INSTRSPEED
   315 					EIF
   316 B266 60				rts
   317 B267			GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   318 B267			GetSongLine
   319 B267 A2 00			ldx #0
   320 B269 8E EA B3			stx v_abeat
   321 B26C			nn0
   322 B26C 8A			nn1	txa
   323 B26D A8				tay
   324 B26E B1 F3			lda (p_song),y
   325 B270 C9 FE			cmp #$fe
   326 B272 B0 2D			bcs nn2
   327 B274 A8				tay
   328 B275 B1 EF			lda (p_trackslbstable),y
   329 B277 9D E0 AE			sta trackn_db,x
   330 B27A B1 F1			lda (p_trackshbstable),y
   331 B27C 9D E4 AE		nn1a sta trackn_hb,x
   332 B27F A9 00			lda #0
   333 B281 9D E8 AE			sta trackn_idx,x
   334 B284 A9 01			lda #1
   335 B286 9D EC AE		nn1a2 sta trackn_pause,x
   336 B289 A9 80			lda #$80
   337 B28B 9D 00 AF			sta trackn_instrx2,x
   338 B28E E8				inx
   339 B28F E0 04		xtracks01	cpx #TRACKS
   340 B291 D0 D9			bne nn1
   341 B293 A5 F3			lda p_song
   342 B295 18				clc
   343 B296 69 04		xtracks02	adc #TRACKS
   344 B298 85 F3			sta p_song
   345 B29A 90 1B			bcc GetTrackLine
   346 B29C E6 F4			inc p_song+1
   347 B29E			nn1b
   348 B29E 4C B7 B2			jmp GetTrackLine
   349 B2A1			nn2
   350 B2A1 F0 04			beq nn3
   351 B2A3			nn2a
   352 B2A3 A9 00			lda #0
   353 B2A5 F0 DF			beq nn1a2
   354 B2A7			nn3
   355 B2A7 A0 02			ldy #2
   356 B2A9 B1 F3			lda (p_song),y
   357 B2AB AA				tax
   358 B2AC C8				iny
   359 B2AD B1 F3			lda (p_song),y
   360 B2AF 85 F4			sta p_song+1
   361 B2B1 86 F3			stx p_song
   362 B2B3 A2 00			ldx #0
   363 B2B5 F0 B5			beq nn0
   364 B2B7			GetTrackLine
   365 B2B7			oo0
   366 B2B7			oo0a
   367 					IFT FEAT_CONSTANTSPEED==0
   368 B2B7 A9 FF			lda #$ff
   369 = B2B8			v_speed equ *-1
   370 B2B9 8D 0B B3			sta v_bspeed
   371 					EIF
   372 B2BC A2 FF			ldx #-1
   373 B2BE			oo1
   374 B2BE E8				inx
   375 B2BF DE EC AE			dec trackn_pause,x
   376 B2C2 D0 42			bne oo1x
   377 B2C4			oo1b
   378 B2C4 BD E0 AE			lda trackn_db,x
   379 B2C7 85 F5			sta ns
   380 B2C9 BD E4 AE			lda trackn_hb,x
   381 B2CC 85 F6			sta ns+1
   382 B2CE			oo1i
   383 B2CE BC E8 AE			ldy trackn_idx,x
   384 B2D1 FE E8 AE			inc trackn_idx,x
   385 B2D4 B1 F5			lda (ns),y
   386 B2D6 85 FB			sta reg1
   387 B2D8 29 3F			and #$3f
   388 B2DA C9 3D			cmp #61
   389 B2DC F0 0E			beq oo1a
   390 B2DE B0 35			bcs oo2
   391 B2E0 9D F0 AE			sta trackn_note,x
   392 					IFT FEAT_BASS16
   393 					sta trackn_outnote,x
   394 					EIF
   395 B2E3 C8				iny
   396 B2E4 B1 F5			lda (ns),y
   397 B2E6 4A				lsr @
   398 B2E7 29 7E			and #$3f*2
   399 B2E9 9D 00 AF			sta trackn_instrx2,x
   400 B2EC			oo1a
   401 B2EC A9 01			lda #1
   402 B2EE 9D EC AE			sta trackn_pause,x
   403 B2F1 BC E8 AE			ldy trackn_idx,x
   404 B2F4 FE E8 AE			inc trackn_idx,x
   405 B2F7 B1 F5			lda (ns),y
   406 B2F9 4A				lsr @
   407 B2FA 66 FB			ror reg1
   408 B2FC 4A				lsr @
   409 B2FD 66 FB			ror reg1
   410 B2FF A5 FB			lda reg1
   411 					IFT FEAT_GLOBALVOLUMEFADE
   412 					sec
   413 					sbc #$00
   414 				RMTGLOBALVOLUMEFADE equ *-1
   415 					bcs voig
   416 					lda #0
   417 				voig
   418 					EIF
   419 B301 29 F0			and #$f0
   420 B303 9D F4 AE			sta trackn_volume,x
   421 B306			oo1x
   422 B306 E0 03		xtracks03sub1	cpx #TRACKS-1
   423 B308 D0 B4			bne oo1
   424 					IFT FEAT_CONSTANTSPEED==0
   425 B30A A9 FF			lda #$ff
   426 = B30B			v_bspeed equ *-1
   427 B30C 8D B8 B2			sta v_speed
   428 					ELS
   429 					lda #FEAT_CONSTANTSPEED
   430 					EIF
   431 B30F 8D 50 AF			sta v_aspeed
   432 B312 4C 5A B3			jmp InitOfNewSetInstrumentsOnly
   433 B315			oo2
   434 B315 C9 3F			cmp #63
   435 B317 F0 1B			beq oo63
   436 B319 A5 FB			lda reg1
   437 B31B 29 C0			and #$c0
   438 B31D F0 09			beq oo62_b
   439 B31F 0A				asl @
   440 B320 2A				rol @
   441 B321 2A				rol @
   442 B322 9D EC AE			sta trackn_pause,x
   443 B325 4C 06 B3			jmp oo1x
   444 B328			oo62_b
   445 B328 C8				iny
   446 B329 B1 F5			lda (ns),y
   447 B32B 9D EC AE			sta trackn_pause,x
   448 B32E FE E8 AE			inc trackn_idx,x
   449 B331 4C 06 B3			jmp oo1x
   450 B334			oo63
   451 B334 A5 FB			lda reg1
   452 					IFT FEAT_CONSTANTSPEED==0
   453 B336 30 0C			bmi oo63_1X
   454 B338 C8				iny
   455 B339 B1 F5			lda (ns),y
   456 B33B 8D 0B B3			sta v_bspeed
   457 B33E FE E8 AE			inc trackn_idx,x
   458 B341 4C CE B2			jmp oo1i
   459 B344			oo63_1X
   460 					EIF
   461 B344 C9 FF			cmp #255
   462 B346 F0 09			beq oo63_11
   463 B348 C8				iny
   464 B349 B1 F5			lda (ns),y
   465 B34B 9D E8 AE			sta trackn_idx,x
   466 B34E 4C CE B2			jmp oo1i
   467 B351			oo63_11
   468 B351 4C 67 B2			jmp GetSongLine
   469 B354 4C F8 B3		p2xrmtp3	jmp rmt_p3
   470 B357 CA			p2x0 dex
   471 B358 30 FA			 bmi p2xrmtp3
   472 B35A			InitOfNewSetInstrumentsOnly
   473 B35A BC 00 AF		p2x1 ldy trackn_instrx2,x
   474 B35D 30 F8			bmi p2x0
   475 					IFT FEAT_SFX
   476 B35F 20 6D B3			jsr SetUpInstrumentY2
   477 B362 4C 57 B3			jmp p2x0
   478 B365			rmt_sfx
   479 B365 9D F0 AE			sta trackn_note,x
   480 					IFT FEAT_BASS16
   481 					sta trackn_outnote,x
   482 					EIF
   483 B368 A9 F0			lda #$f0				;* sfx note volume*16
   484 = B369			RMTSFXVOLUME equ *-1		;* label for sfx note volume parameter overwriting
   485 B36A 9D F4 AE			sta trackn_volume,x
   486 					EIF
   487 B36D			SetUpInstrumentY2
   488 B36D B1 ED			lda (p_instrstable),y
   489 B36F 9D 04 AF			sta trackn_instrdb,x
   490 B372 85 F9			sta nt
   491 B374 C8				iny
   492 B375 B1 ED			lda (p_instrstable),y
   493 B377 9D 08 AF			sta trackn_instrhb,x
   494 B37A 85 FA			sta nt+1
   495 					IFT FEAT_FILTER
   496 					lda #1
   497 					sta trackn_filter,x
   498 					EIF
   499 					IFT FEAT_TABLEGO
   500 					IFT FEAT_FILTER
   501 					tay
   502 					ELS
   503 					ldy #1
   504 					EIF
   505 					lda (nt),y
   506 					sta trackn_tablelop,x
   507 					iny
   508 					ELS
   509 B37C A0 02			ldy #2
   510 					EIF
   511 B37E B1 F9			lda (nt),y
   512 B380 9D 10 AF			sta trackn_instrlen,x
   513 B383 C8				iny
   514 B384 B1 F9			lda (nt),y
   515 B386 9D 14 AF			sta trackn_instrlop,x
   516 B389 C8				iny
   517 B38A B1 F9			lda (nt),y
   518 B38C 9D 30 AF			sta trackn_tabletypespeed,x
   519 					IFT FEAT_TABLETYPE||FEAT_TABLEMODE
   520 B38F 29 3F			and #$3f
   521 					EIF
   522 B391 9D 40 AF			sta trackn_tablespeeda,x
   523 					IFT FEAT_TABLEMODE
   524 					lda (nt),y
   525 					and #$40
   526 					sta trackn_tablemode,x
   527 					EIF
   528 					IFT FEAT_AUDCTLMANUALSET
   529 B394 C8				iny
   530 B395 B1 F9			lda (nt),y
   531 B397 9D 4C AF			sta trackn_audctl,x
   532 B39A C8				iny
   533 					ELS
   534 					ldy #6
   535 					EIF
   536 B39B B1 F9			lda (nt),y
   537 B39D 9D 1C AF			sta trackn_volumeslidedepth,x
   538 					IFT FEAT_VOLUMEMIN
   539 					iny
   540 					lda (nt),y
   541 					sta trackn_volumemin,x
   542 					IFT FEAT_EFFECTS
   543 					iny
   544 					EIF
   545 					ELS
   546 					IFT FEAT_EFFECTS
   547 B3A0 A0 08			ldy #8
   548 					EIF
   549 					EIF
   550 					IFT FEAT_EFFECTS
   551 B3A2 B1 F9			lda (nt),y
   552 B3A4 9D 24 AF			sta trackn_effdelay,x
   553 					IFT FEAT_EFFECTVIBRATO
   554 B3A7 C8				iny
   555 B3A8 B1 F9			lda (nt),y
   556 B3AA A8				tay
   557 B3AB B9 92 AF			lda vibtabbeg,y
   558 B3AE 9D 28 AF			sta trackn_effvibratoa,x
   559 					EIF
   560 					IFT FEAT_EFFECTFSHIFT
   561 B3B1 A0 0A			ldy #10
   562 B3B3 B1 F9			lda (nt),y
   563 B3B5 9D 2C AF			sta trackn_effshift,x
   564 					EIF
   565 					EIF
   566 B3B8 A9 80			lda #128
   567 B3BA 9D 20 AF			sta trackn_volumeslidevalue,x
   568 B3BD 9D 00 AF			sta trackn_instrx2,x
   569 B3C0 0A				asl @
   570 B3C1 9D 18 AF			sta trackn_instrreachend,x
   571 B3C4 9D FC AE			sta trackn_shiftfrq,x
   572 B3C7 A8				tay
   573 B3C8 B1 F9			lda (nt),y
   574 B3CA 9D 3C AF			sta trackn_tableend,x
   575 B3CD 69 00			adc #0
   576 B3CF 9D 0C AF			sta trackn_instridx,x
   577 B3D2 A9 0C			lda #INSTRPAR
   578 B3D4 9D 38 AF			sta trackn_tablea,x
   579 B3D7 A8				tay
   580 B3D8 B1 F9			lda (nt),y
   581 B3DA 9D 34 AF			sta trackn_tablenote,x
   582 B3DD			xata_rtshere
   583 					IFT FEAT_SFX
   584 B3DD 60				rts
   585 					ELS
   586 					jmp p2x0
   587 					EIF
   588 B3DE			rmt_play
   589 B3DE			rmt_p0
   590 B3DE 20 2E B5			jsr SetPokey
   591 B3E1			rmt_p1
   592 					IFT FEAT_INSTRSPEED==0||FEAT_INSTRSPEED>1
   593 					dec v_ainstrspeed
   594 					bne rmt_p3
   595 					EIF
   596 					IFT FEAT_INSTRSPEED==0
   597 					lda #$ff
   598 				v_instrspeed	equ *-1
   599 					sta v_ainstrspeed
   600 					ELI FEAT_INSTRSPEED>1
   601 					lda #FEAT_INSTRSPEED
   602 					sta v_ainstrspeed
   603 					EIF
   604 B3E1			rmt_p2
   605 B3E1 CE 50 AF			dec v_aspeed
   606 B3E4 D0 12			bne rmt_p3
   607 B3E6 EE EA B3			inc v_abeat
   608 B3E9 A9 FF			lda #$ff
   609 = B3EA			v_abeat equ *-1
   610 B3EB C9 FF			cmp #$ff
   611 = B3EC			v_maxtracklen equ *-1
   612 B3ED F0 03			beq p2o3
   613 B3EF 4C B7 B2			jmp GetTrackLine
   614 B3F2			p2o3
   615 B3F2 4C 67 B2			jmp GetSongLineTrackLineInitOfNewSetInstrumentsOnlyRmtp3
   616 B3F5 4C 12 B5		go_ppnext	jmp ppnext
   617 B3F8			rmt_p3
   618 B3F8 A9 B0			lda #>frqtab
   619 B3FA 85 F8			sta nr+1
   620 B3FC A2 03		xtracks05sub1	ldx #TRACKS-1
   621 B3FE			pp1
   622 B3FE BD 08 AF			lda trackn_instrhb,x
   623 B401 F0 F2			beq go_ppnext
   624 B403 85 F6			sta ns+1
   625 B405 BD 04 AF			lda trackn_instrdb,x
   626 B408 85 F5			sta ns
   627 B40A BC 0C AF			ldy trackn_instridx,x
   628 B40D B1 F5			lda (ns),y
   629 B40F 85 FB			sta reg1
   630 B411 C8				iny
   631 B412 B1 F5			lda (ns),y
   632 B414 85 FC			sta reg2
   633 B416 C8				iny
   634 B417 B1 F5			lda (ns),y
   635 B419 85 FD			sta reg3
   636 B41B C8				iny
   637 B41C 98				tya
   638 B41D DD 10 AF			cmp trackn_instrlen,x
   639 B420 90 0A			bcc pp2
   640 B422 F0 08			beq pp2
   641 B424 A9 80			lda #$80
   642 B426 9D 18 AF			sta trackn_instrreachend,x
   643 B429			pp1b
   644 B429 BD 14 AF			lda trackn_instrlop,x
   645 B42C 9D 0C AF		pp2	sta trackn_instridx,x
   646 B42F A5 FB			lda reg1
   647 					IFT TRACKS>4
   648 					cpx #4
   649 					bcc pp2s
   650 					lsr @
   651 					lsr @
   652 					lsr @
   653 					lsr @
   654 				pp2s
   655 					EIF
   656 B431 29 0F			and #$0f
   657 B433 1D F4 AE			ora trackn_volume,x
   658 B436 A8				tay
   659 B437 B9 00 B1			lda volumetab,y
   660 B43A 85 FE			sta tmp
   661 B43C A5 FC			lda reg2
   662 B43E 29 0E			and #$0e
   663 B440 A8				tay
   664 B441 B9 82 AF			lda tabbeganddistor,y
   665 B444 85 F7			sta nr
   666 B446 A5 FE			lda tmp
   667 B448 19 83 AF			ora tabbeganddistor+1,y
   668 B44B 9D 48 AF			sta trackn_audc,x
   669 B44E			InstrumentsEffects
   670 					IFT FEAT_EFFECTS
   671 B44E BD 24 AF			lda trackn_effdelay,x
   672 B451 F0 21			beq ei2
   673 B453 C9 01			cmp #1
   674 B455 D0 1A			bne ei1
   675 B457 BD FC AE			lda trackn_shiftfrq,x
   676 					IFT FEAT_EFFECTFSHIFT
   677 B45A 18				clc
   678 B45B 7D 2C AF			adc trackn_effshift,x
   679 					EIF
   680 					IFT FEAT_EFFECTVIBRATO
   681 B45E 18				clc
   682 B45F BC 28 AF			ldy trackn_effvibratoa,x
   683 B462 79 96 AF			adc vib0,y
   684 					EIF
   685 B465 9D FC AE			sta trackn_shiftfrq,x
   686 					IFT FEAT_EFFECTVIBRATO
   687 B468 B9 AB AF			lda vibtabnext,y
   688 B46B 9D 28 AF			sta trackn_effvibratoa,x
   689 					EIF
   690 B46E 4C 74 B4			jmp ei2
   691 B471			ei1
   692 B471 DE 24 AF			dec trackn_effdelay,x
   693 B474			ei2
   694 					EIF
   695 B474 BC 3C AF			ldy trackn_tableend,x
   696 B477 C0 0D			cpy #INSTRPAR+1
   697 B479 90 32			bcc ei3
   698 B47B BD 40 AF			lda trackn_tablespeeda,x
   699 B47E 10 27			bpl ei2f
   700 B480			ei2c
   701 B480 98				tya
   702 B481 DD 38 AF			cmp trackn_tablea,x
   703 B484 D0 07			bne ei2c2
   704 					IFT FEAT_TABLEGO
   705 					lda trackn_tablelop,x
   706 					ELS
   707 B486 A9 0C			lda #INSTRPAR
   708 					EIF
   709 B488 9D 38 AF			sta trackn_tablea,x
   710 B48B D0 03			bne ei2a
   711 B48D			ei2c2
   712 B48D FE 38 AF			inc trackn_tablea,x
   713 B490			ei2a
   714 B490 BD 04 AF			lda trackn_instrdb,x
   715 B493 85 F9			sta nt
   716 B495 BD 08 AF			lda trackn_instrhb,x
   717 B498 85 FA			sta nt+1
   718 B49A BC 38 AF			ldy trackn_tablea,x
   719 B49D B1 F9			lda (nt),y
   720 					IFT FEAT_TABLEMODE
   721 					ldy trackn_tablemode,x
   722 					beq ei2e
   723 					clc
   724 					adc trackn_tablenote,x
   725 				ei2e
   726 					EIF
   727 B49F 9D 34 AF			sta trackn_tablenote,x
   728 B4A2 BD 30 AF			lda trackn_tabletypespeed,x
   729 					IFT FEAT_TABLETYPE||FEAT_TABLEMODE
   730 B4A5 29 3F			and #$3f
   731 					EIF
   732 B4A7			ei2f
   733 B4A7 38				sec
   734 B4A8 E9 01			sbc #1
   735 B4AA 9D 40 AF			sta trackn_tablespeeda,x
   736 B4AD			ei3
   737 B4AD BD 18 AF			lda trackn_instrreachend,x
   738 B4B0 10 18			bpl ei4
   739 B4B2 BD F4 AE			lda trackn_volume,x
   740 B4B5 F0 13			beq ei4
   741 					IFT FEAT_VOLUMEMIN
   742 					cmp trackn_volumemin,x
   743 					beq ei4
   744 					bcc ei4
   745 					EIF
   746 B4B7 A8				tay
   747 B4B8 BD 20 AF			lda trackn_volumeslidevalue,x
   748 B4BB 18				clc
   749 B4BC 7D 1C AF			adc trackn_volumeslidedepth,x
   750 B4BF 9D 20 AF			sta trackn_volumeslidevalue,x
   751 B4C2 90 06			bcc ei4
   752 B4C4 98				tya
   753 B4C5 E9 10			sbc #16
   754 B4C7 9D F4 AE			sta trackn_volume,x
   755 B4CA			ei4
   756 					IFT FEAT_COMMAND2
   757 					lda #0
   758 					sta frqaddcmd2
   759 					EIF
   760 					IFT FEAT_COMMAND1||FEAT_COMMAND2||FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   761 B4CA A5 FC			lda reg2
   762 					IFT FEAT_FILTER||FEAT_BASS16
   763 					sta trackn_command,x
   764 					EIF
   765 B4CC 29 70			and #$70
   766 					IFT 1==[FEAT_COMMAND1+FEAT_COMMAND2+FEAT_COMMAND3+FEAT_COMMAND4+FEAT_COMMAND5+FEAT_COMMAND6+[FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY]]
   767 B4CE F0 05			beq cmd0
   768 					ELS
   769 					lsr @
   770 					lsr @
   771 					sta jmx+1
   772 				jmx	bcc *
   773 					jmp cmd0
   774 					nop
   775 					jmp cmd1
   776 					IFT FEAT_COMMAND2||FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   777 					nop
   778 					jmp cmd2
   779 					EIF
   780 					IFT FEAT_COMMAND3||FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   781 					nop
   782 					jmp cmd3
   783 					EIF
   784 					IFT FEAT_COMMAND4||FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   785 					nop
   786 					jmp cmd4
   787 					EIF
   788 					IFT FEAT_COMMAND5||FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   789 					nop
   790 					jmp cmd5
   791 					EIF
   792 					IFT FEAT_COMMAND6||FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   793 					nop
   794 					jmp cmd6
   795 					EIF
   796 					IFT FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   797 					nop
   798 					jmp cmd7
   799 					EIF
   800 					EIF
   801 					ELS
   802 					IFT FEAT_FILTER||FEAT_BASS16
   803 					lda reg2
   804 					sta trackn_command,x
   805 					EIF
   806 					EIF
   807 B4D0			cmd1
   808 					IFT FEAT_COMMAND1
   809 B4D0 A5 FD			lda reg3
   810 B4D2 4C 0F B5			jmp cmd0c
   811 					EIF
   812 B4D5			cmd2
   813 					IFT FEAT_COMMAND2
   814 					lda reg3
   815 					sta frqaddcmd2
   816 					lda trackn_note,x
   817 					jmp cmd0a
   818 					EIF
   819 B4D5			cmd3
   820 					IFT FEAT_COMMAND3
   821 					lda trackn_note,x
   822 					clc
   823 					adc reg3
   824 					sta trackn_note,x
   825 					jmp cmd0a
   826 					EIF
   827 B4D5			cmd4
   828 					IFT FEAT_COMMAND4
   829 					lda trackn_shiftfrq,x
   830 					clc
   831 					adc reg3
   832 					sta trackn_shiftfrq,x
   833 					lda trackn_note,x
   834 					jmp cmd0a
   835 					EIF
   836 B4D5			cmd5
   837 					IFT FEAT_COMMAND5&&FEAT_PORTAMENTO
   838 					IFT FEAT_TABLETYPE
   839 					lda trackn_tabletypespeed,x
   840 					bpl cmd5a1
   841 					ldy trackn_note,x
   842 					lda (nr),y
   843 					clc
   844 					adc trackn_tablenote,x
   845 					jmp cmd5ax
   846 					EIF
   847 				cmd5a1
   848 					lda trackn_note,x
   849 					clc
   850 					adc trackn_tablenote,x
   851 					cmp #61
   852 					bcc cmd5a2
   853 					lda #63
   854 				cmd5a2
   855 					tay
   856 					lda (nr),y
   857 				cmd5ax
   858 					sta trackn_portafrqc,x
   859 					ldy reg3
   860 					bne cmd5a
   861 					sta trackn_portafrqa,x
   862 				cmd5a
   863 					tya
   864 					lsr @
   865 					lsr @
   866 					lsr @
   867 					lsr @
   868 					sta trackn_portaspeed,x
   869 					sta trackn_portaspeeda,x
   870 					lda reg3
   871 					and #$0f
   872 					sta trackn_portadepth,x
   873 					lda trackn_note,x
   874 					jmp cmd0a
   875 					ELI FEAT_COMMAND5
   876 					lda trackn_note,x
   877 					jmp cmd0a
   878 					EIF
   879 B4D5			cmd6
   880 					IFT FEAT_COMMAND6&&FEAT_FILTER
   881 					lda reg3
   882 					clc
   883 					adc trackn_filter,x
   884 					sta trackn_filter,x
   885 					lda trackn_note,x
   886 					jmp cmd0a
   887 					ELI FEAT_COMMAND6
   888 					lda trackn_note,x
   889 					jmp cmd0a
   890 					EIF
   891 B4D5			cmd7
   892 					IFT FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
   893 					IFT FEAT_COMMAND7SETNOTE
   894 					lda reg3
   895 					IFT FEAT_COMMAND7VOLUMEONLY
   896 					cmp #$80
   897 					beq cmd7a
   898 					EIF
   899 					sta trackn_note,x
   900 					jmp cmd0a
   901 					EIF
   902 					IFT FEAT_COMMAND7VOLUMEONLY
   903 				cmd7a
   904 					lda trackn_audc,x
   905 					ora #$f0
   906 					sta trackn_audc,x
   907 					lda trackn_note,x
   908 					jmp cmd0a
   909 					EIF
   910 					EIF
   911 B4D5			cmd0
   912 B4D5 BD F0 AE			lda trackn_note,x
   913 B4D8 18				clc
   914 B4D9 65 FD			adc reg3
   915 B4DB			cmd0a
   916 					IFT FEAT_TABLETYPE
   917 B4DB BC 30 AF			ldy trackn_tabletypespeed,x
   918 B4DE 30 19			bmi cmd0b
   919 					EIF
   920 B4E0 18				clc
   921 B4E1 7D 34 AF			adc trackn_tablenote,x
   922 B4E4 C9 3D			cmp #61
   923 B4E6 90 07			bcc cmd0a1
   924 B4E8 A9 00			lda #0
   925 B4EA 9D 48 AF			sta trackn_audc,x
   926 B4ED A9 3F			lda #63
   927 B4EF			cmd0a1
   928 					IFT FEAT_BASS16
   929 					sta trackn_outnote,x
   930 					EIF
   931 B4EF A8				tay
   932 B4F0 B1 F7			lda (nr),y
   933 B4F2 18				clc
   934 B4F3 7D FC AE			adc trackn_shiftfrq,x
   935 					IFT FEAT_COMMAND2
   936 					clc
   937 					adc frqaddcmd2
   938 					EIF
   939 					IFT FEAT_TABLETYPE
   940 B4F6 4C 0F B5			jmp cmd0c
   941 B4F9			cmd0b
   942 B4F9 C9 3D			cmp #61
   943 B4FB 90 07			bcc cmd0b1
   944 B4FD A9 00			lda #0
   945 B4FF 9D 48 AF			sta trackn_audc,x
   946 B502 A9 3F			lda #63
   947 B504			cmd0b1
   948 B504 A8				tay
   949 B505 BD FC AE			lda trackn_shiftfrq,x
   950 B508 18				clc
   951 B509 7D 34 AF			adc trackn_tablenote,x
   952 B50C 18				clc
   953 B50D 71 F7			adc (nr),y
   954 					IFT FEAT_COMMAND2
   955 					clc
   956 					adc frqaddcmd2
   957 					EIF
   958 					EIF
   959 B50F			cmd0c
   960 B50F 9D 44 AF			sta trackn_audf,x
   961 B512			pp9
   962 					IFT FEAT_PORTAMENTO
   963 					lda trackn_portaspeeda,x
   964 					beq pp10
   965 					dec trackn_portaspeeda,x
   966 					bne pp10
   967 					lda trackn_portaspeed,x
   968 					sta trackn_portaspeeda,x
   969 					lda trackn_portafrqa,x
   970 					cmp trackn_portafrqc,x
   971 					beq pp10
   972 					bcs pps1
   973 					adc trackn_portadepth,x
   974 					bcs pps8
   975 					cmp trackn_portafrqc,x
   976 					bcs pps8
   977 					jmp pps9
   978 				pps1
   979 					sbc trackn_portadepth,x
   980 					bcc pps8
   981 					cmp trackn_portafrqc,x
   982 					bcs pps9
   983 				pps8
   984 					lda trackn_portafrqc,x
   985 				pps9
   986 					sta trackn_portafrqa,x
   987 				pp10
   988 					lda reg2
   989 					and #$01
   990 					beq pp11
   991 					lda trackn_portafrqa,x
   992 					clc
   993 					adc trackn_shiftfrq,x
   994 					sta trackn_audf,x
   995 				pp11
   996 					EIF
   997 B512			ppnext
   998 B512 CA				dex
   999 B513 30 03			bmi rmt_p4
  1000 B515 4C FE B3			jmp pp1
  1001 B518			rmt_p4
  1002 					IFT FEAT_AUDCTLMANUALSET
  1003 B518 AD 4C AF			lda trackn_audctl+0
  1004 B51B 0D 4D AF			ora trackn_audctl+1
  1005 B51E 0D 4E AF			ora trackn_audctl+2
  1006 B521 0D 4F AF			ora trackn_audctl+3
  1007 B524 AA				tax
  1008 					ELS
  1009 					ldx #0
  1010 					EIF
  1011 B525			qq1
  1012 B525 8E 2F B5			stx v_audctl
  1013 					IFT FEAT_FILTER
  1014 					IFT FEAT_FILTERG0L
  1015 					lda trackn_command+0
  1016 					bpl qq2
  1017 					lda trackn_audc+0
  1018 					and #$0f
  1019 					beq qq2
  1020 					lda trackn_audf+0
  1021 					clc
  1022 					adc trackn_filter+0
  1023 					sta trackn_audf+2
  1024 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
  1025 					lda trackn_audc+2
  1026 					and #$10
  1027 					bne qq1a
  1028 					EIF
  1029 					lda #0
  1030 					sta trackn_audc+2
  1031 				qq1a
  1032 					txa
  1033 					ora #4
  1034 					tax
  1035 					EIF
  1036 				qq2
  1037 					IFT FEAT_FILTERG1L
  1038 					lda trackn_command+1
  1039 					bpl qq3
  1040 					lda trackn_audc+1
  1041 					and #$0f
  1042 					beq qq3
  1043 					lda trackn_audf+1
  1044 					clc
  1045 					adc trackn_filter+1
  1046 					sta trackn_audf+3
  1047 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3L
  1048 					lda trackn_audc+3
  1049 					and #$10
  1050 					bne qq2a
  1051 					EIF
  1052 					lda #0
  1053 					sta trackn_audc+3
  1054 				qq2a
  1055 					txa
  1056 					ora #2
  1057 					tax
  1058 					EIF
  1059 				qq3
  1060 					IFT FEAT_FILTERG0L||FEAT_FILTERG1L
  1061 					cpx v_audctl
  1062 					bne qq5
  1063 					EIF
  1064 					EIF
  1065 					IFT FEAT_BASS16
  1066 					IFT FEAT_BASS16G1L
  1067 					lda trackn_command+1
  1068 					and #$0e
  1069 					cmp #6
  1070 					bne qq4
  1071 					lda trackn_audc+1
  1072 					and #$0f
  1073 					beq qq4
  1074 					ldy trackn_outnote+1
  1075 					lda frqtabbasslo,y
  1076 					sta trackn_audf+0
  1077 					lda frqtabbasshi,y
  1078 					sta trackn_audf+1
  1079 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0L
  1080 					lda trackn_audc+0
  1081 					and #$10
  1082 					bne qq3a
  1083 					EIF
  1084 					lda #0
  1085 					sta trackn_audc+0
  1086 				qq3a
  1087 					txa
  1088 					ora #$50
  1089 					tax
  1090 					EIF
  1091 				qq4
  1092 					IFT FEAT_BASS16G3L
  1093 					lda trackn_command+3
  1094 					and #$0e
  1095 					cmp #6
  1096 					bne qq5
  1097 					lda trackn_audc+3
  1098 					and #$0f
  1099 					beq qq5
  1100 					ldy trackn_outnote+3
  1101 					lda frqtabbasslo,y
  1102 					sta trackn_audf+2
  1103 					lda frqtabbasshi,y
  1104 					sta trackn_audf+3
  1105 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
  1106 					lda trackn_audc+2
  1107 					and #$10
  1108 					bne qq4a
  1109 					EIF
  1110 					lda #0
  1111 					sta trackn_audc+2
  1112 				qq4a
  1113 					txa
  1114 					ora #$28
  1115 					tax
  1116 					EIF
  1117 					EIF
  1118 B528			qq5
  1119 B528 8E 2F B5			stx v_audctl
  1120 					IFT TRACKS>4
  1121 					IFT FEAT_AUDCTLMANUALSET
  1122 					lda trackn_audctl+4
  1123 					ora trackn_audctl+5
  1124 					ora trackn_audctl+6
  1125 					ora trackn_audctl+7
  1126 					tax
  1127 					ELS
  1128 					ldx #0
  1129 					EIF
  1130 					stx v_audctl2
  1131 					IFT FEAT_FILTER
  1132 					IFT FEAT_FILTERG0R
  1133 					lda trackn_command+0+4
  1134 					bpl qs2
  1135 					lda trackn_audc+0+4
  1136 					and #$0f
  1137 					beq qs2
  1138 					lda trackn_audf+0+4
  1139 					clc
  1140 					adc trackn_filter+0+4
  1141 					sta trackn_audf+2+4
  1142 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
  1143 					lda trackn_audc+2+4
  1144 					and #$10
  1145 					bne qs1a
  1146 					EIF
  1147 					lda #0
  1148 					sta trackn_audc+2+4
  1149 				qs1a
  1150 					txa
  1151 					ora #4
  1152 					tax
  1153 					EIF
  1154 				qs2
  1155 					IFT FEAT_FILTERG1R
  1156 					lda trackn_command+1+4
  1157 					bpl qs3
  1158 					lda trackn_audc+1+4
  1159 					and #$0f
  1160 					beq qs3
  1161 					lda trackn_audf+1+4
  1162 					clc
  1163 					adc trackn_filter+1+4
  1164 					sta trackn_audf+3+4
  1165 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3R
  1166 					lda trackn_audc+3+4
  1167 					and #$10
  1168 					bne qs2a
  1169 					EIF
  1170 					lda #0
  1171 					sta trackn_audc+3+4
  1172 				qs2a
  1173 					txa
  1174 					ora #2
  1175 					tax
  1176 					EIF
  1177 				qs3
  1178 					IFT FEAT_FILTERG0R||FEAT_FILTERG1R
  1179 					cpx v_audctl2
  1180 					bne qs5
  1181 					EIF
  1182 					EIF
  1183 					IFT FEAT_BASS16
  1184 					IFT FEAT_BASS16G1R
  1185 					lda trackn_command+1+4
  1186 					and #$0e
  1187 					cmp #6
  1188 					bne qs4
  1189 					lda trackn_audc+1+4
  1190 					and #$0f
  1191 					beq qs4
  1192 					ldy trackn_outnote+1+4
  1193 					lda frqtabbasslo,y
  1194 					sta trackn_audf+0+4
  1195 					lda frqtabbasshi,y
  1196 					sta trackn_audf+1+4
  1197 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0R
  1198 					lda trackn_audc+0+4
  1199 					and #$10
  1200 					bne qs3a
  1201 					EIF
  1202 					lda #0
  1203 					sta trackn_audc+0+4
  1204 				qs3a
  1205 					txa
  1206 					ora #$50
  1207 					tax
  1208 					EIF
  1209 				qs4
  1210 					IFT FEAT_BASS16G3R
  1211 					lda trackn_command+3+4
  1212 					and #$0e
  1213 					cmp #6
  1214 					bne qs5
  1215 					lda trackn_audc+3+4
  1216 					and #$0f
  1217 					beq qs5
  1218 					ldy trackn_outnote+3+4
  1219 					lda frqtabbasslo,y
  1220 					sta trackn_audf+2+4
  1221 					lda frqtabbasshi,y
  1222 					sta trackn_audf+3+4
  1223 					IFT FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
  1224 					lda trackn_audc+2+4
  1225 					and #$10
  1226 					bne qs4a
  1227 					EIF
  1228 					lda #0
  1229 					sta trackn_audc+2+4
  1230 				qs4a
  1231 					txa
  1232 					ora #$28
  1233 					tax
  1234 					EIF
  1235 					EIF
  1236 				qs5
  1237 					stx v_audctl2
  1238 					EIF
  1239 B52B			rmt_p5
  1240 					IFT FEAT_INSTRSPEED==0||FEAT_INSTRSPEED>1
  1241 					lda #$ff
  1242 				v_ainstrspeed equ *-1
  1243 					ELS
  1244 B52B A9 01			lda #1
  1245 					EIF
  1246 B52D 60				rts
  1247 B52E			SetPokey
  1248 					IFT STEREOMODE==1		;* L1 L2 L3 L4 R1 R2 R3 R4
  1249 					ldy #$ff
  1250 				v_audctl2 equ *-1
  1251 					lda trackn_audf+0+4
  1252 					ldx trackn_audf+0
  1253 				xstastx01	sta $d210
  1254 					stx $d200
  1255 					lda trackn_audc+0+4
  1256 					ldx trackn_audc+0
  1257 				xstastx02	sta $d211
  1258 					stx $d201
  1259 					lda trackn_audf+1+4
  1260 					ldx trackn_audf+1
  1261 				xstastx03	sta $d212
  1262 					stx $d202
  1263 					lda trackn_audc+1+4
  1264 					ldx trackn_audc+1
  1265 				xstastx04	sta $d213
  1266 					stx $d203
  1267 					lda trackn_audf+2+4
  1268 					ldx trackn_audf+2
  1269 				xstastx05	sta $d214
  1270 					stx $d204
  1271 					lda trackn_audc+2+4
  1272 					ldx trackn_audc+2
  1273 				xstastx06	sta $d215
  1274 					stx $d205
  1275 					lda trackn_audf+3+4
  1276 					ldx trackn_audf+3
  1277 				xstastx07	sta $d216
  1278 					stx $d206
  1279 					lda trackn_audc+3+4
  1280 					ldx trackn_audc+3
  1281 				xstastx08	sta $d217
  1282 					stx $d207
  1283 					lda #$ff
  1284 				v_audctl equ *-1
  1285 				xstysta01	sty $d218
  1286 					sta $d208
  1287 					ELI STEREOMODE==0		;* L1 L2 L3 L4
  1288 B52E A0 FF			ldy #$ff
  1289 = B52F			v_audctl equ *-1
  1290 B530 AD 44 AF			lda trackn_audf+0
  1291 B533 AE 48 AF			ldx trackn_audc+0
  1292 B536 8D 00 D2			sta $d200
  1293 B539 8E 01 D2			stx $d201
  1294 B53C AD 45 AF			lda trackn_audf+1
  1295 B53F AE 49 AF			ldx trackn_audc+1
  1296 B542 8D 02 D2			sta $d200+2
  1297 B545 8E 03 D2			stx $d201+2
  1298 B548 AD 46 AF			lda trackn_audf+2
  1299 B54B AE 4A AF			ldx trackn_audc+2
  1300 B54E 8D 04 D2			sta $d200+4
  1301 B551 8E 05 D2			stx $d201+4
  1302 B554 AD 47 AF			lda trackn_audf+3
  1303 B557 AE 4B AF			ldx trackn_audc+3
  1304 B55A 8D 06 D2			sta $d200+6
  1305 B55D 8E 07 D2			stx $d201+6
  1306 B560 8C 08 D2			sty $d208
  1307 					ELI STEREOMODE==2		;* L1 R2 R3 L4
  1308 					ldy #$ff
  1309 				v_audctl equ *-1
  1310 					lda trackn_audf+0
  1311 					ldx trackn_audc+0
  1312 					sta $d200
  1313 					stx $d201
  1314 					sta $d210
  1315 					lda trackn_audf+1
  1316 					ldx trackn_audc+1
  1317 					sta $d210+2
  1318 					stx $d211+2
  1319 					lda trackn_audf+2
  1320 					ldx trackn_audc+2
  1321 					sta $d210+4
  1322 					stx $d211+4
  1323 					sta $d200+4
  1324 					lda trackn_audf+3
  1325 					ldx trackn_audc+3
  1326 					sta $d200+6
  1327 					stx $d201+6
  1328 					sta $d210+6
  1329 					sty $d218
  1330 					sty $d208
  1331 					ELI STEREOMODE==3		;* L1 L2 R3 R4
  1332 					ldy #$ff
  1333 				v_audctl equ *-1
  1334 					lda trackn_audf+0
  1335 					ldx trackn_audc+0
  1336 					sta $d200
  1337 					stx $d201
  1338 					lda trackn_audf+1
  1339 					ldx trackn_audc+1
  1340 					sta $d200+2
  1341 					stx $d201+2
  1342 					lda trackn_audf+2
  1343 					ldx trackn_audc+2
  1344 					sta $d210+4
  1345 					stx $d211+4
  1346 					sta $d200+4
  1347 					lda trackn_audf+3
  1348 					ldx trackn_audc+3
  1349 					sta $d210+6
  1350 					stx $d211+6
  1351 					sta $d200+6
  1352 					sty $d218
  1353 					sty $d208
  1354 					EIF
  1355 B563 60				rts
  1356 B564			RMTPLAYEREND
  1276 						
  1277 B564			kanal1				org *+1
  1278 B565			petla1				org *+1
  1279 B566			kanal2				org *+1
  1280 B567			petla2				org *+1
  1281 B568			kanal3				org *+1
  1282 B569			petla3				org *+1
  1283
  1284 B56A			kanal1s				org *+2		;2 bajty , uzywamy tylko 1
  1285 B56C			kanal2s				org *+2
  1286 B56E			kanal3s				org *+2	
  1287 B570			sfx					org *+1
  1288 					
  1289 B571			add_fx
  1290 B571-B66E> A9 E2 8D 01 + 		mva #BANK4 PORTB
  1291 B576 B9 09 B6				lda audf_table,y
  1292 B579 95 2B				sta kanal_audf1,x
  1293 B57B B9 0A B6				lda audf_table+1,y
  1294 B57E 95 2C				sta kanal_audf1+1,x
  1295 						
  1296 B580 B9 2B B6				lda audc_table,y
  1297 B583 95 31				sta kanal_audc1,x
  1298 B585 B9 2C B6				lda audc_table+1,y
  1299 B588 95 32				sta kanal_audc1+1,x
  1300 						
  1301 B58A B9 4D B6				lda len_table,y
  1302 B58D 9D 64 B5				sta kanal1,x				;dlugosc
  1303 B590 9D 6A B5				sta kanal1s,x
  1304 B593 B9 4E B6				lda len_table+1,y
  1305 B596 9D 65 B5				sta petla1,x			;petla
  1306 B599 A9 FE 8D 01 D3			mva #BANK0 PORTB
  1307 B59E 60					rts
  1308 						
  1309
  1310 B59F			play_fx
  1311 B59F AD 70 B5				lda sfx
  1312 B5A2 D0 03				bne @+				;=1 graj moje fxy
  1313 B5A4 4C A8 27				jmp playFX
  1314
  1315 = B5A7			@		equ *
  1316 B5A7 A9 E2 8D 01 D3			mva #BANK4 PORTB
  1317 B5AC AC 64 B5				ldy kanal1
  1318 B5AF F0 18				beq pfx2
  1319 B5B1 B1 2B				lda (kanal_audf1),y
  1320 B5B3 8D D0 25				sta _vbsnd1
  1321 B5B6 B1 31				lda (kanal_audc1),y
  1322 B5B8 8D D5 25				sta _vbsnd2
  1323 B5BB 88					dey
  1324 B5BC D0 08				bne @+					;jeszcze nie koniec
  1325 B5BE AD 65 B5				lda petla1			;czy zapetlony 0=nie
  1326 B5C1 F0 03				beq @+
  1327 B5C3 AC 6A B5				ldy kanal1s
  1328 B5C6 8C 64 B5		@		sty kanal1
  1329
  1330 B5C9 AC 66 B5		pfx2   ldy kanal2
  1331 B5CC F0 18				beq pfx3
  1332 B5CE B1 2D				lda (kanal_audf2),y
  1333 B5D0 8D DA 25				sta _vbsnd3
  1334 B5D3 B1 33				lda (kanal_audc2),y
  1335 B5D5 8D DF 25				sta _vbsnd4
  1336 B5D8 88					dey
  1337 B5D9 D0 08				bne @+					;jeszcze nie koniec
  1338 B5DB AD 67 B5				lda petla2			;czy zapetlony 0=nie
  1339 B5DE F0 03				beq @+
  1340 B5E0 AC 6C B5				ldy kanal2s
  1341 B5E3 8C 66 B5		@		sty kanal2
  1342 						
  1343 B5E6 AC 68 B5		pfx3	ldy kanal3
  1344 B5E9 F0 18				beq pfx0
  1345 B5EB B1 2F				lda (kanal_audf3),y
  1346 B5ED 8D E4 25				sta _vbsnd5
  1347 B5F0 B1 35				lda (kanal_audc3),y
  1348 B5F2 8D E9 25				sta _vbsnd6
  1349 B5F5 88					dey
  1350 B5F6 D0 08				bne @+					;jeszcze nie koniec
  1351 B5F8 AD 69 B5				lda petla3			;czy zapetlony 0=nie
  1352 B5FB F0 03				beq @+
  1353 B5FD AC 6E B5				ldy kanal3s
  1354 B600 8C 68 B5		@		sty kanal3		
  1355
  1356 B603 A9 FE 8D 01 D3	pfx0	mva #BANK0 PORTB
  1357 B608 60					rts		
  1358 						
  1359 					
  1360 B609			audf_table
  1361 B609 00 74 0B 74 45 74 + 		dta a(asteroid_dat),a(bomba_dat),a(spyHit_dat),a(0),a(0)
  1362 B613 68 74 85 74 9A 74 + 		dta a(enemyHit_dat),a(strzal_dat),a(dzialko_dat),a(wybuch_dat),a(dead_dat)
  1363 B61D 00 00 00 00 38 75 + 		dta a(0),a(0),a(antyair_dat),a(extraLife_dat),a(alarm_dat)
  1364 B627 B7 75 E7 75				dta a(rakieta_dat),a(silnik_dat)
  1365
  1366 B62B			audc_table
  1367 B62B 78 76 83 76 BD 76 + 		dta a(asteroid1_dat),a(bomba1_dat),a(spyHit1_dat),a(0),a(0)
  1368 B635 E1 76 FE 76 13 77 + 		dta a(enemyHit1_dat),a(strzal1_dat),a(dzialko1_dat),a(wybuch1_dat),a(dead1_dat)
  1369 B63F 00 00 00 00 B1 77 + 		dta a(0),a(0),a(antyair1_dat),a(extraLife1_dat),a(alarm1_dat)
  1370 B649 30 78 60 78				dta a(rakieta1_dat),a(silnik1_dat)
  1371 						
  1372 B64D			len_table
  1373 B64D 0A 00 39 00 23 00 + 		dta b(9+1,0),b(56+1,0),b(34+1,0),a(0),a(0)					;+1 bo dodajemy ciszę
  1374 B657 1C 00 14 00 15 00 + 		dta b(27+1,0),b(19+1,0),b(20+1,0),b(62+1,0),b(70+1,0)
  1375 B661 00 00 00 00 0E 00 + 		dta a(0),a(0),b(13+1,0),b(49+1,0),b(60,1)
  1376 B66B 2F 00 90 01				dta b(46+1,0),b(144,1)
  1377 						
  1378
  1379
  1380
  1381 02E0-02E1> DE 9F				run run
  1382 						
